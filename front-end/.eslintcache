[{"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\index.js":"1","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\PrivateRoute\\PrivateRoute.js":"2","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\PrivateRoute\\AuthRoutes.js":"3","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\layouts\\Admin.js":"4","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\layouts\\Auth.js":"5","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\routes.js":"6","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Navbars\\AdminNavbar.js":"7","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Navbars\\AuthNavbar.js":"8","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Footers\\AdminFooter.js":"9","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Sidebar\\Sidebar.js":"10","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Footers\\AuthFooter.js":"11","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ConfirmEmail.js":"12","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ConfirmPassword.js":"13","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ResetPassword.js":"14","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\EditProfile.js":"15","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\UsersTable.js":"16","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ResetPasswordSuccess.js":"17","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\network\\ApiAxios.js":"18","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\Index.js":"19","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Tables.js":"20","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Maps.js":"21","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Register.js":"22","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Profile.js":"23","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Icons.js":"24","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Login.js":"25","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\NouveauClient.js":"26","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Clients.js":"27","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\config.js":"28","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Headers\\Header.js":"29","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Headers\\EditHeader.js":"30","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Headers\\UserHeader.js":"31","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\variables\\charts.js":"32","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Corbeille.js":"33","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\index.js":"34","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\PrivateRoute\\AuthRoutes.js":"35","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\PrivateRoute\\PrivateRoute.js":"36","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\layouts\\Admin.js":"37","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\layouts\\Auth.js":"38","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\routes.js":"39","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Footers\\AuthFooter.js":"40","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Navbars\\AdminNavbar.js":"41","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Navbars\\AuthNavbar.js":"42","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Footers\\AdminFooter.js":"43","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Sidebar\\Sidebar.js":"44","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ConfirmPassword.js":"45","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ConfirmEmail.js":"46","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ResetPasswordSuccess.js":"47","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ResetPassword.js":"48","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\EditProfile.js":"49","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\UsersTable.js":"50","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\network\\ApiAxios.js":"51","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Maps.js":"52","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Register.js":"53","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\Index.js":"54","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Tables.js":"55","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Profile.js":"56","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Login.js":"57","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Icons.js":"58","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Clients.js":"59","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Corbeille.js":"60","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\NouveauClient.js":"61","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\config.js":"62","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Headers\\EditHeader.js":"63","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Headers\\Header.js":"64","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Headers\\UserHeader.js":"65","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\variables\\charts.js":"66","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ClientStatusPage.js":"67","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Agenda.js":"68","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\variables\\general.js":"69","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Factures.js":"70","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\StatusContext.js":"71","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\NouvelleFacture.js":"72"},{"size":831,"mtime":1721215721062,"results":"73","hashOfConfig":"74"},{"size":378,"mtime":1720336952008,"results":"75","hashOfConfig":"74"},{"size":378,"mtime":1720336956029,"results":"76","hashOfConfig":"74"},{"size":1909,"mtime":1720441440318,"results":"77","hashOfConfig":"74"},{"size":2488,"mtime":1720336934490,"results":"78","hashOfConfig":"74"},{"size":3518,"mtime":1721643009010,"results":"79","hashOfConfig":"74"},{"size":6282,"mtime":1720510609728,"results":"80","hashOfConfig":"74"},{"size":3197,"mtime":1721208569107,"results":"81","hashOfConfig":"74"},{"size":2016,"mtime":1721304258988,"results":"82","hashOfConfig":"74"},{"size":13345,"mtime":1721298830459,"results":"83","hashOfConfig":"74"},{"size":2865,"mtime":1721304215853,"results":"84","hashOfConfig":"74"},{"size":1449,"mtime":1719997006702,"results":"85","hashOfConfig":"74"},{"size":3740,"mtime":1719996623467,"results":"86","hashOfConfig":"74"},{"size":4433,"mtime":1720001798596,"results":"87","hashOfConfig":"74"},{"size":5702,"mtime":1720001739481,"results":"88","hashOfConfig":"74"},{"size":2062,"mtime":1719904204308,"results":"89","hashOfConfig":"74"},{"size":913,"mtime":1719997026840,"results":"90","hashOfConfig":"74"},{"size":1693,"mtime":1720510040073,"results":"91","hashOfConfig":"74"},{"size":11788,"mtime":1720001424857,"results":"92","hashOfConfig":"74"},{"size":70577,"mtime":1720001829960,"results":"93","hashOfConfig":"74"},{"size":2839,"mtime":1720001760891,"results":"94","hashOfConfig":"74"},{"size":10657,"mtime":1720506877882,"results":"95","hashOfConfig":"74"},{"size":18967,"mtime":1720336918294,"results":"96","hashOfConfig":"74"},{"size":121150,"mtime":1720001750032,"results":"97","hashOfConfig":"74"},{"size":7620,"mtime":1721651824003,"results":"98","hashOfConfig":"74"},{"size":14574,"mtime":1721644377455,"results":"99","hashOfConfig":"74"},{"size":17517,"mtime":1721644684188,"results":"100","hashOfConfig":"74"},{"size":147,"mtime":1719858732158,"results":"101","hashOfConfig":"74"},{"size":5921,"mtime":1721588337180,"results":"102","hashOfConfig":"74"},{"size":1843,"mtime":1720336908717,"results":"103","hashOfConfig":"74"},{"size":1826,"mtime":1720336897673,"results":"104","hashOfConfig":"74"},{"size":10033,"mtime":1720001699377,"results":"105","hashOfConfig":"74"},{"size":9871,"mtime":1721645870512,"results":"106","hashOfConfig":"74"},{"size":936,"mtime":1722423584662,"results":"107","hashOfConfig":"108"},{"size":378,"mtime":1721734140683,"results":"109","hashOfConfig":"108"},{"size":378,"mtime":1721734140729,"results":"110","hashOfConfig":"108"},{"size":1910,"mtime":1722251044227,"results":"111","hashOfConfig":"108"},{"size":2488,"mtime":1721734140886,"results":"112","hashOfConfig":"108"},{"size":4868,"mtime":1722453288311,"results":"113","hashOfConfig":"108"},{"size":2860,"mtime":1722165531088,"results":"114","hashOfConfig":"108"},{"size":6542,"mtime":1722193680772,"results":"115","hashOfConfig":"108"},{"size":3196,"mtime":1722318535485,"results":"116","hashOfConfig":"108"},{"size":2012,"mtime":1722165534307,"results":"117","hashOfConfig":"108"},{"size":13344,"mtime":1722240619658,"results":"118","hashOfConfig":"108"},{"size":3740,"mtime":1721734141679,"results":"119","hashOfConfig":"108"},{"size":1449,"mtime":1721734141631,"results":"120","hashOfConfig":"108"},{"size":913,"mtime":1721734142124,"results":"121","hashOfConfig":"108"},{"size":4430,"mtime":1722004255894,"results":"122","hashOfConfig":"108"},{"size":5702,"mtime":1721734141762,"results":"123","hashOfConfig":"108"},{"size":2062,"mtime":1721734142214,"results":"124","hashOfConfig":"108"},{"size":3409,"mtime":1721815076498,"results":"125","hashOfConfig":"108"},{"size":2839,"mtime":1721734141887,"results":"126","hashOfConfig":"108"},{"size":10654,"mtime":1722004224469,"results":"127","hashOfConfig":"108"},{"size":11793,"mtime":1722412218656,"results":"128","hashOfConfig":"108"},{"size":7480,"mtime":1722419204629,"results":"129","hashOfConfig":"108"},{"size":18967,"mtime":1721734141952,"results":"130","hashOfConfig":"108"},{"size":6863,"mtime":1722320423072,"results":"131","hashOfConfig":"108"},{"size":121150,"mtime":1721734141807,"results":"132","hashOfConfig":"108"},{"size":20109,"mtime":1722452104775,"results":"133","hashOfConfig":"108"},{"size":9636,"mtime":1722165083340,"results":"134","hashOfConfig":"108"},{"size":15094,"mtime":1722323921450,"results":"135","hashOfConfig":"108"},{"size":469,"mtime":1721936815022,"results":"136","hashOfConfig":"108"},{"size":1843,"mtime":1721734140501,"results":"137","hashOfConfig":"108"},{"size":8715,"mtime":1722453500226,"results":"138","hashOfConfig":"108"},{"size":1826,"mtime":1721734140574,"results":"139","hashOfConfig":"108"},{"size":10033,"mtime":1721734141446,"results":"140","hashOfConfig":"108"},{"size":4655,"mtime":1722418478595,"results":"141","hashOfConfig":"108"},{"size":16790,"mtime":1722349262768,"results":"142","hashOfConfig":"108"},{"size":523,"mtime":1721802058177,"results":"143","hashOfConfig":"108"},{"size":18097,"mtime":1722512501624,"results":"144","hashOfConfig":"108"},{"size":930,"mtime":1722423538330,"results":"145","hashOfConfig":"108"},{"size":15226,"mtime":1722504233784,"results":"146","hashOfConfig":"108"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},"1rh0a52",{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"160","usedDeprecatedRules":"149"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"183","messages":"184","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"193","messages":"194","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"195","messages":"196","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"199","usedDeprecatedRules":"149"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202","usedDeprecatedRules":"149"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"149"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"216"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"149"},{"filePath":"219","messages":"220","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},"y0ymcd",{"filePath":"222","messages":"223","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"224","messages":"225","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"226","messages":"227","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"228","messages":"229","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"230","messages":"231","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"232","usedDeprecatedRules":"221"},{"filePath":"233","messages":"234","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"239","messages":"240","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"243","messages":"244","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"245","messages":"246","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"247","messages":"248","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"249","messages":"250","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"251","messages":"252","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"253","messages":"254","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"255","messages":"256","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"257","messages":"258","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"259","messages":"260","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"261","messages":"262","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"263","messages":"264","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"265","usedDeprecatedRules":"221"},{"filePath":"266","messages":"267","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"268","messages":"269","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"270","messages":"271","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"272","messages":"273","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"274","usedDeprecatedRules":"221"},{"filePath":"275","messages":"276","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"277","messages":"278","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"279","usedDeprecatedRules":"221"},{"filePath":"280","messages":"281","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"282","messages":"283","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"284","messages":"285","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"286","messages":"287","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"288","messages":"289","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"290","messages":"291","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"292","usedDeprecatedRules":"221"},{"filePath":"293","messages":"294","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"295","messages":"296","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"297"},{"filePath":"298","messages":"299","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"300","messages":"301","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"221"},{"filePath":"302","messages":"303","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"304","usedDeprecatedRules":"221"},"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\index.js",[],["305","306"],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\PrivateRoute\\PrivateRoute.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\PrivateRoute\\AuthRoutes.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\layouts\\Admin.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\layouts\\Auth.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\routes.js",["307","308","309","310"],"import Index from \"views/Index.js\";\nimport Profile from \"views/examples/Profile.js\";\nimport Maps from \"views/examples/Maps.js\";\nimport Register from \"views/examples/Register.js\";\nimport Login from \"views/examples/Login.js\";\nimport Tables from \"views/examples/Tables.js\";\nimport Icons from \"views/examples/Icons.js\";\nimport ConfirmEmail from \"./views/examples/ConfirmEmail\";\nimport EditProfile from \"./views/examples/EditProfile\";\nimport UsersTable from \"./views/examples/UsersTable\";\nimport ResetPassword from \"./views/examples/ResetPassword\";\nimport ConfirmPassword from \"./views/examples/ConfirmPassword\";\nimport ResetPasswordSuccess from \"./views/examples/ResetPasswordSuccess\";\nimport Clients from \"views/examples/Clients\";\nimport NouveauClient from \"views/examples/NouveauClient\";\nimport Corbeille from \"views/examples/Corbeille\";\n\n\nvar routes = [\n  {\n    path: \"/index\",\n    name: \"Dashboard\",\n    icon: \"ni ni-tv-2 text-primary\",\n    component: Index,\n    layout: \"/admin\",\n    api: false\n  },\n  {\n    path: \"/icons\",\n    name: \"Icons\",\n    icon: \"ni ni-planet text-blue\",\n    component: Icons,\n    layout: \"/admin\",\n    api: false\n  },\n  {\n    path: \"/maps\",\n    name: \"Maps\",\n    icon: \"ni ni-pin-3 text-orange\",\n    component: Maps,\n    layout: \"/admin\",\n    api: false\n  },\n  {\n    path: \"/user-profile\",\n    name: \"Profil Utilisateur\",\n    icon: \"ni ni-circle-08 text-yellow\",\n    component: Profile,\n    layout: \"/admin\",\n    api: true\n  },\n  {\n    path: \"/tables\",\n    name: \"Tables\",\n    icon: \"ni ni-bullet-list-67 text-red\",\n    component: Tables,\n    layout: \"/admin\",\n    api: false\n  },\n  {\n    path: \"/clients\",\n    name: \"Clients \",\n    icon: \"ni ni-single-02\",\n    component: Clients,\n    layout: \"/admin\",\n    api: false,\n  },     \n      {\n        path: \"/corbeille\",\n        name: \"Corbeille\",\n        icon: \"ni ni-folder-17 text-red\",\n        component: Corbeille,\n        layout: \"/admin\",\n        api: false,\n      },\n  {\n    path: \"/nouveauClient\",\n    name: \"Nouveau Client\",\n    icon: \"ni ni-fat-add\", // ou supprimez complètement l'icône\n    component: NouveauClient,\n    layout: \"/admin\",\n    api: false,\n    hidden: true // Ajouté pour cacher cette route dans le menu\n  },\n  {\n    path: \"/login\",\n    name: \"Connexion\",\n    icon: \"ni ni-key-25 text-info\",\n    component: Login,\n    layout: \"/auth\",\n    api: true\n  },\n  {\n    path: \"/register\",\n    name: \"Inscription\",\n    icon: \"ni ni-circle-08 text-pink\",\n    component: Register,\n    layout: \"/auth\",\n    api: true\n  },\n  {\n    path: \"/edit-profile\",\n    name: \"Modifier Profil\",\n    icon: \"ni ni-ruler-pencil text-info\",\n    component: EditProfile,\n    layout: \"/admin\",\n    api: true\n  },\n  {\n    path: \"/users\",\n    name: \"Utilisateurs\",\n    icon: \"ni ni-folder-17 text-pink\",\n    component: UsersTable,\n    layout: \"/admin\",\n    api: true\n  },\n  // {\n  //   path: \"/reset-password\",\n  //   name: \"Réinitialiser le mot de passe\",\n  //   icon: \"ni ni-folder-17 text-pink\",\n  //   component: ResetPassword,\n  //   layout: \"/auth\",\n  //   api: true\n  // },\n  // {\n  //   path: \"/confirm-password/:id\",\n  //   name: \"Confirmer le mot de passe\",\n  //   icon: \"ni ni-folder-17 text-pink\",\n  //   component: ConfirmPassword,\n  //   layout: \"/auth\",\n  //   api: true\n  // },\n  // {\n  //   path: \"/reset-success\",\n  //   name: \"Réinitialisation du mot de passe confirmée\",\n  //   icon: \"ni ni-folder-17 text-pink\",\n  //   component: ResetPasswordSuccess,\n  //   layout: \"/auth\",\n  //   api: false\n  // }\n];\nexport default routes;\n","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Navbars\\AdminNavbar.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Navbars\\AuthNavbar.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Footers\\AdminFooter.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Sidebar\\Sidebar.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Footers\\AuthFooter.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ConfirmEmail.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ConfirmPassword.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ResetPassword.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\EditProfile.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\UsersTable.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\ResetPasswordSuccess.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\network\\ApiAxios.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\Index.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Tables.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Maps.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Register.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Profile.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Icons.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Login.js",["311","312"],"import React, {useState} from \"react\";\n\n// reactstrap components\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardBody,\n    FormGroup,\n    Form,\n    Input,\n    InputGroupAddon,\n    InputGroupText,\n    InputGroup,\n    Row,\n    Col\n} from \"reactstrap\";\nimport {login} from \"../../network/ApiAxios\";\n\nconst Login = props => {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n\n    const tryLogin = async () => {\n        const response = await login(email, password);\n        const {data} = response;\n        if (data.success) {\n            setError(\"\");\n            localStorage.setItem(\"token\", data.token);\n            console.log('Stored token:', localStorage.getItem('token'));\n            localStorage.setItem(\"user\", JSON.stringify(data.user));\n            props.history.push(\"/\");\n        } else {\n            setPassword(\"\");\n            setError(data.msg);\n        }\n    }\n\n    const handleClick = () => {\n        alert('Cette fonctionnalité est en cours de développement.');\n    };\n\n    return (\n        <>\n            <Col lg=\"5\" md=\"7\">\n                <Card className=\"bg-secondary shadow border-0\">\n                    <CardHeader className=\"bg-transparent pb-5\">\n                        <div className=\"text-muted text-center mt-2 mb-3\">\n                            <small>Se connecter avec</small>\n                        </div>\n                        <div className=\"btn-wrapper text-center\">\n                            {/* <Button\n                                className=\"btn-neutral btn-icon\"\n                                color=\"default\"\n                                href=\"#pablo\"\n                                onClick={handleClick}\n                            >\n                  <span className=\"btn-inner--icon\">\n                    <img\n                        alt=\"...\"\n                        src={require(\"assets/img/icons/common/google.svg\").default}\n                    />\n                  </span>\n                                <span className=\"btn-inner--text\">Google</span>\n                            </Button> */}\n                            // Avant\n<Button\n    className=\"btn-neutral btn-icon\"\n    color=\"default\"\n    href=\"#pablo\"\n    onClick={handleClick}\n>\n    <span className=\"btn-inner--icon\">\n        <img\n            alt=\"...\"\n            src={require(\"assets/img/icons/common/google.svg\").default}\n        />\n    </span>\n    <span className=\"btn-inner--text\">Google</span>\n</Button>\n\n// Après\n<Button\n    className=\"btn-neutral btn-icon\"\n    color=\"default\"\n    onClick={() => window.location.href = '/auth/google'}\n>\n    <span className=\"btn-inner--icon\">\n        <img\n            alt=\"...\"\n            src={require(\"assets/img/icons/common/google.svg\").default}\n        />\n    </span>\n    <span className=\"btn-inner--text\">Google</span>\n</Button>\n\n                        </div>\n                    </CardHeader>\n                    <CardBody className=\"px-lg-5 py-lg-5\">\n                        <div className=\"text-center text-muted mb-4\">\n                            <small>Ou inscrivez-vous avec vos identifiants</small>\n                        </div>\n                        <Form role=\"form\">\n                            <FormGroup className=\"mb-3\">\n                                <InputGroup className=\"input-group-alternative\">\n                                    <InputGroupAddon addonType=\"prepend\">\n                                        <InputGroupText>\n                                            <i className=\"ni ni-email-83\"/>\n                                        </InputGroupText>\n                                    </InputGroupAddon>\n                                    <Input placeholder=\"Email\" type=\"email\" autoComplete=\"email\" value={email}\n                                           onChange={e => setEmail(e.target.value)}/>\n                                </InputGroup>\n                            </FormGroup>\n                            <FormGroup>\n                                <InputGroup className=\"input-group-alternative\">\n                                    <InputGroupAddon addonType=\"prepend\">\n                                        <InputGroupText>\n                                            <i className=\"ni ni-lock-circle-open\"/>\n                                        </InputGroupText>\n                                    </InputGroupAddon>\n                                    <Input placeholder=\"Mot de Passe\" type=\"password\" autoComplete=\"password\" value={password}\n                                           onChange={e => setPassword(e.target.value)}/>\n                                </InputGroup>\n                            </FormGroup>\n                            {/*<div className=\"custom-control custom-control-alternative custom-checkbox\">*/}\n                            {/*    <input*/}\n                            {/*        className=\"custom-control-input\"*/}\n                            {/*        id=\" customCheckLogin\"*/}\n                            {/*        type=\"checkbox\"*/}\n                            {/*    />*/}\n                            {/*    <label*/}\n                            {/*        className=\"custom-control-label\"*/}\n                            {/*        htmlFor=\" customCheckLogin\"*/}\n                            {/*    >*/}\n                            {/*        <span className=\"text-muted\">Remember me</span>*/}\n                            {/*    </label>*/}\n                            {/*</div>*/}\n                            {error ?\n                                <div className=\"text-muted font-italic\">\n                                    <small>\n                                        error:{\" \"}\n                                        <span className=\"text-red font-weight-700\">{error}</span>\n                                    </small>\n                                </div> : null }\n                            <div className=\"text-center\">\n                                <Button className=\"my-4\" color=\"primary\" type=\"button\" onClick={tryLogin}>\n                                    Sign in\n                                </Button>\n                            </div>\n                        </Form>\n                    </CardBody>\n                </Card>\n                <Row className=\"mt-3\">\n                    <Col xs=\"6\">\n                        {/* <a\n                            className=\"text-light\"\n                            onClick={() => props.history.push('/auth/reset-password')}\n                        >\n                            <small>Mot de passe oublié?</small>\n                        </a> */}\n                        <Button className=\"text-light p-0\" color=\"link\" onClick={() => props.history.push('/auth/reset-password')}>\n                            <small>Forgot password?</small>\n                        </Button>\n                    </Col>\n                    <Col className=\"text-right\" xs=\"6\">\n                        {/* <a\n                            className=\"text-light\"\n                            onClick={() => props.history.push('/auth/register')}\n                        >\n                            <small>Créer un nouveau compte</small>\n                        </a> */}\n                         <Button className=\"text-light p-0\" color=\"link\" onClick={() => props.history.push('/auth/register')}>\n                            <small>Create new account</small>\n                        </Button>\n                    </Col>\n                </Row>\n            </Col>\n        </>\n    );\n}\n\nexport default Login;\n","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\NouveauClient.js",["313"],"import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport {\r\n  Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col, UncontrolledAlert,\r\n  Nav, NavItem, NavLink, TabContent, TabPane\r\n} from \"reactstrap\";\r\nimport classnames from 'classnames';\r\n\r\nfunction formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n  const year = date.getFullYear();\r\n  const month = ('0' + (date.getMonth() + 1)).slice(-2);\r\n  const day = ('0' + date.getDate()).slice(-2);\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nconst NouveauClient = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [client, setClient] = useState({\r\n    nom: \"\",\r\n    prenom: \"\",\r\n    dateNaissance: \"\",\r\n    mutuelle: \"\",\r\n    numeroSecu: \"\",\r\n    email: \"\",\r\n    telephoneFixe: \"\",\r\n    telephonePortable: \"\",\r\n    adresse: \"\",\r\n    codePostal: \"\",\r\n    ville: \"\",\r\n    note: \"\",\r\n    audiogramme: \"\",\r\n    statut: \"\" \r\n  });\r\n  const [activeTab, setActiveTab] = useState('1');\r\n  const [audiogrammeSuccessMessage, setAudiogrammeSuccessMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Si un client est passé dans l'état, utilisez ses valeurs pour initialiser le formulaire\r\n    if (location.state && location.state.client) {\r\n      const formattedClient = {\r\n        ...location.state.client,\r\n        dateNaissance: formatDate(location.state.client.dateNaissance)\r\n      };\r\n      setClient(formattedClient);\r\n    }\r\n  }, [location.state]);\r\n\r\n  const toggleTab = tab => {\r\n    if(activeTab !== tab) setActiveTab(tab);\r\n  };\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  const isMounted = useRef(false);\r\n\r\nuseEffect(() => {\r\n  isMounted.current = true;\r\n  return () => {\r\n    isMounted.current = false;  // Nettoyage en démontant le composant\r\n  };\r\n}, []);\r\n\r\n  const validateForm = () => {\r\n    let tempErrors = {};\r\n    let formIsValid = true;\r\n\r\n    if (!client.nom.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"nom\"] = \"Le nom est requis.\";\r\n    }\r\n\r\n    if (!client.email.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"email\"] = \"L'email est requis.\";\r\n    }\r\n\r\n    setErrors(tempErrors);\r\n    return formIsValid;\r\n  };\r\n\r\n//   const saveClient = async (clientData) => {\r\n//     const url = clientData._id ? `http://localhost:5100/api/clients/${clientData._id}` : 'http://localhost:5100/api/clients/add';\r\n//     const method = clientData._id ? 'PUT' : 'POST';\r\n\r\n//     try {\r\n//         const response = await fetch(url, {\r\n//             method: method,\r\n//             headers: {\r\n//                 'Content-Type': 'application/json',\r\n//                 'Authorization': localStorage.getItem('token')\r\n//             },\r\n//             body: JSON.stringify(clientData)\r\n//         });\r\n\r\n//         if (!response.ok) {\r\n//           const data = await response.json();\r\n//           toast.error(`Erreur: ${data.message}`);\r\n//       } else {\r\n//           const data = await response.json();\r\n//           toast.success(\"Le client a été ajouté/modifié avec succès !\");\r\n//           setTimeout(() => {\r\n//               history.push('/admin/clients');\r\n//           }, 3000);\r\n//       }\r\n//   } catch (error) {\r\n//       console.error('Erreur lors de l\\'opération sur le client:', error);\r\n//       toast.error(`Erreur lors de l'opération sur le client: ${error.message}`);\r\n//   }\r\n// };\r\n\r\nconst saveClient = async (clientData) => {\r\n  const url = clientData._id ? `http://localhost:5100/api/clients/${clientData._id}` : 'http://localhost:5100/api/clients/add';\r\n  const method = clientData._id ? 'PUT' : 'POST';\r\n\r\n  console.log('Envoi des données du client:', clientData);  // Log des données envoyées\r\n\r\n  try {\r\n      const response = await fetch(url, {\r\n          method: method,\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': localStorage.getItem('token')\r\n          },\r\n          body: JSON.stringify(clientData)\r\n      });\r\n\r\n      console.log('Statut de la réponse:', response.status);  // Log du statut de réponse HTTP\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        console.log('Erreur lors de l\\'enregistrement:', data);  // Log de l'erreur\r\n        toast.error(`Erreur: ${data.message}`);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Réponse du serveur:', data);  // Log de la réponse\r\n      toast.success(\"Le client a été ajouté/modifié avec succès !\");\r\n      setTimeout(() => {\r\n          history.push('/admin/clients');\r\n      }, 3000);\r\n  } catch (error) {\r\n      console.error('Erreur lors de l\\'opération sur le client:', error);\r\n      toast.error(`Erreur lors de l'opération sur le client: ${error.message}`);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setClient({ ...client, [name]: value });\r\n    // Clear errors\r\n    if (!!errors[name]) setErrors({ ...errors, [name]: null });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      saveClient(client);\r\n    }\r\n  };\r\n  const handleSubmitAudiogramme = async (e) => {\r\n    e.preventDefault();\r\n    const audiogrammeData = {\r\n      ...client,\r\n      audiogramme: client.audiogramme\r\n    };\r\n  \r\n    const url = client._id ? `http://localhost:5100/api/clients/${client._id}` : 'http://localhost:5100/api/clients/add';\r\n    const method = client._id ? 'PUT' : 'POST';\r\n  \r\n    try {\r\n      const response = await fetch(url, {\r\n        method: method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': localStorage.getItem('token')\r\n        },\r\n        body: JSON.stringify(audiogrammeData)\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`HTTP status ${response.status}: ${errorText}`);\r\n      }\r\n  \r\n      const data = await response.json();\r\n      console.log('Opération réussie:', data);\r\n      setAudiogrammeSuccessMessage(\"Le bilan auditif a été enregistré avec succès.\");\r\n      setTimeout(() => {\r\n        setAudiogrammeSuccessMessage(\"\");\r\n        history.push('/admin/clients'); // Redirection après l'affichage du message de succès\r\n      }, 3000); // Affichage du message pendant 3 secondes\r\n  \r\n    } catch (error) {\r\n      console.error(\"Erreur lors de l'enregistrement du bilan auditif:\", error);\r\n      setErrors({ form: \"Erreur lors de l'opération sur le bilan auditif.\" });\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    // <div style={{ paddingTop: '50px', backgroundColor: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%) !important' }}>\r\n       <div style={{ paddingTop: '50px', background: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%)' }}>\r\n    <Container className=\"mt-5\">\r\n      <Card>\r\n      <ToastContainer position=\"bottom-left\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n      <CardHeader className=\"bg-white text-white\">\r\n            <h4 className=\"mb-0\">{client._id ? \"Modifier Client\" : \"Ajouter Nouveau Client\"}</h4>\r\n          </CardHeader>\r\n          <CardBody>\r\n            <Nav tabs>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '1' })}\r\n                  onClick={() => { toggleTab('1'); }}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Informations Générales\r\n                </NavLink>\r\n              </NavItem>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '2' })}\r\n                  onClick={() => { toggleTab('2'); }}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Bilan Auditif\r\n                </NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n          <TabContent activeTab={activeTab}>\r\n            <TabPane tabId=\"1\">\r\n              {/* Votre formulaire existant ici */}\r\n              {successMessage && (\r\n                <UncontrolledAlert color=\"success\" className=\"fixed-alert\" style={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 1050 }} fade={false}>\r\n                  <span className=\"alert-inner--icon\">\r\n                    <i className=\"ni ni-like-2\" />\r\n                  </span>\r\n                  <span className=\"alert-inner--text\">\r\n                    <strong>Succès!</strong> {successMessage}\r\n                  </span>\r\n                </UncontrolledAlert>\r\n              )}\r\n              <Form onSubmit={handleSubmit}>\r\n              <Row form style={{ paddingTop: '50px' }}>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"nom\">Nom</Label>\r\n                    <Input type=\"text\" name=\"nom\" id=\"nom\" value={client.nom} onChange={handleInputChange} required />\r\n                    {errors.nom && <p style={{ color: 'red' }}>{errors.nom}</p>}\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"prenom\">Prénom</Label>\r\n                    <Input type=\"text\" name=\"prenom\" id=\"prenom\" value={client.prenom} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <Row form>\r\n                <Col md={4}>\r\n                <FormGroup>\r\n                    <Label for=\"dateNaissance\">Date de Naissance</Label>\r\n                    <Input type=\"date\" name=\"dateNaissance\" id=\"dateNaissance\" value={client.dateNaissance || ''} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <FormGroup>\r\n                    <Label for=\"mutuelle\">Mutuelle</Label>\r\n                    <Input type=\"text\" name=\"mutuelle\" id=\"mutuelle\" value={client.mutuelle} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={4}>\r\n                  <FormGroup>\r\n                    <Label for=\"numeroSecu\">Numéro de Sécurité Sociale</Label>\r\n                    <Input type=\"text\" name=\"numeroSecu\" id=\"numeroSecu\" value={client.numeroSecu} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <Row form>\r\n              <Col md={4}>\r\n              <FormGroup>\r\n  <Label for=\"statut\">Statut</Label>\r\n  <Input type=\"select\" name=\"statut\" id=\"statut\" value={client.statut} onChange={handleInputChange}>\r\n    <option value=\"\">Sélectionner un statut</option>\r\n    <option value=\"Rdv fixé\">Rdv fixé</option>\r\n    <option value=\"Rdv Annulé\">Rdv Annulé</option>\r\n    <option value=\"Appareillé\">Appareillé</option>\r\n    <option value=\"Période d'essai\">Période d'essai</option>\r\n    <option value=\"Facturé\">Facturé</option>\r\n  </Input>\r\n</FormGroup>\r\n</Col>\r\n</Row>\r\n              <Row form>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"telephoneFixe\">Téléphone Fixe</Label>\r\n                    <Input type=\"text\" name=\"telephoneFixe\" id=\"telephoneFixe\" value={client.telephoneFixe} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"telephonePortable\">Téléphone Portable</Label>\r\n                    <Input type=\"text\" name=\"telephonePortable\" id=\"telephonePortable\" value={client.telephonePortable} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <FormGroup>\r\n                <Label for=\"adresse\">Adresse</Label>\r\n                <Input type=\"text\" name=\"adresse\" id=\"adresse\" value={client.adresse} onChange={handleInputChange} />\r\n              </FormGroup>\r\n              <Row form>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"codePostal\">Code Postal</Label>\r\n                    <Input type=\"text\" name=\"codePostal\" id=\"codePostal\" value={client.codePostal} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"ville\">Ville</Label>\r\n                    <Input type=\"text\" name=\"ville\" id=\"ville\" value={client.ville} onChange={handleInputChange} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <FormGroup>\r\n                <Label for=\"email\">Email</Label>\r\n                <Input type=\"email\" name=\"email\" id=\"email\" value={client.email} onChange={handleInputChange} required />\r\n                {errors.email && <p style={{ color: 'red' }}>{errors.email}</p>}\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label for=\"note\">Note</Label>\r\n                <Input type=\"textarea\" name=\"note\" id=\"note\" value={client.note} onChange={handleInputChange} />\r\n              </FormGroup>\r\n                <Button type=\"submit\" color=\"primary\">Enregistrer</Button>\r\n                <Button type=\"button\" color=\"secondary\" onClick={() => history.push('/admin/clients')}>Annuler</Button>\r\n              </Form>\r\n            </TabPane>\r\n            <TabPane tabId=\"2\">\r\n  {audiogrammeSuccessMessage && (\r\n    <UncontrolledAlert color=\"success\" className=\"fixed-alert\" fade={false}>\r\n      <span className=\"alert-inner--icon\"><i className=\"ni ni-like-2\" /></span>\r\n      <span className=\"alert-inner--text\"><strong>Succès!</strong> {audiogrammeSuccessMessage}</span>\r\n    </UncontrolledAlert>\r\n  )}\r\n  <Form onSubmit={handleSubmitAudiogramme} style={{ paddingTop: '50px' }}>\r\n    <FormGroup>\r\n      <Label for=\"audiogramme\">Audiogramme</Label>\r\n      <Input type=\"text\" name=\"audiogramme\" id=\"audiogramme\" value={client.audiogramme} onChange={handleInputChange} />\r\n    </FormGroup>\r\n    {/* Ajoutez plus de champs selon vos besoins ici */}\r\n    <Button type=\"submit\" color=\"primary\">Enregistrer Bilan</Button>\r\n  </Form>\r\n</TabPane>\r\n\r\n          </TabContent>\r\n        </CardBody>\r\n      </Card>\r\n      \r\n    </Container>\r\n    \r\n    </div>\r\n  );\r\n}\r\n  \r\n\r\nexport default NouveauClient;\r\n","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Clients.js",["314","315"],"import { useHistory } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport {\r\n  Modal, ModalHeader, ModalBody, ModalFooter,\r\n  Button,\r\n  CardBody,\r\n  Card,\r\n  CardHeader,\r\n  Container,\r\n  Row,\r\n} from \"reactstrap\";\r\nimport { useDropzone } from 'react-dropzone';\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport Header from \"components/Headers/Header.js\";\r\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\r\n\r\nconst formatDate = (isoString) => {\r\n  if (!isoString) return '';\r\n  const date = new Date(isoString);\r\n  return date.toLocaleDateString('fr-FR');  // ou 'en-US' selon le format local que vous préférez\r\n}\r\n\r\nconst Tables = () => {\r\n  const history = useHistory();\r\n  const [clients, setClients] = useState([]);\r\n  const [totalClients, setTotalClients] = useState(0);\r\n  const [modal, setModal] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [uploadSuccess, setUploadSuccess] = useState(false);\r\n  const [uploadError, setUploadError] = useState(\"\");\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [selected, setSelected] = useState([]);\r\n\r\n  const toggleModal = () => {\r\n    setModal(!modal);\r\n    if (!modal) {\r\n      if (!isUploading && !uploadSuccess) {\r\n        setSelectedFile(null);\r\n        setUploadError(\"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOnSelect = (row, isSelect) => {\r\n    console.log(`Select ${isSelect ? 'on' : 'off'} for row id ${row._id}`);\r\n    if (isSelect) {\r\n      setSelected(prevSelected => {\r\n        const newSelected = [...prevSelected, row._id];\r\n        console.log('New selected after add:', newSelected);\r\n        return newSelected;\r\n      });\r\n    } else {\r\n      setSelected(prevSelected => {\r\n        const newSelected = prevSelected.filter(x => x !== row._id);\r\n        console.log('New selected after remove:', newSelected);\r\n        return newSelected;\r\n      });\r\n    }\r\n  };\r\n  \r\n  const handleOnSelectAll = (isSelect, rows) => {\r\n    console.log(`Select all ${isSelect ? 'on' : 'off'}`);\r\n    if (isSelect) {\r\n      const idsToSelect = rows.map(r => r._id);\r\n      console.log('Selecting all ids:', idsToSelect);\r\n      setSelected(idsToSelect);\r\n    } else {\r\n      setSelected([]);\r\n    }\r\n  };\r\n  \r\n  \r\n  const selectAllRenderer = ({ mode, checked, indeterminate }) => (\r\n    <input\r\n      type={mode}\r\n      checked={checked}\r\n      ref={input => {\r\n        if (input) input.indeterminate = indeterminate;\r\n      }}\r\n      // onChange={e => {\r\n      //   if (e.target.checked) {\r\n      //     const idsToSelect = clients.map(client => client._id);  // Assurez-vous que cette ligne utilise la bonne clé\r\n      //     setSelected(idsToSelect);\r\n      //   } else {\r\n      //     setSelected([]);\r\n      //   }\r\n      // }}\r\n      onChange={e => {\r\n        handleOnSelectAll(e.target.checked, clients);  // Appelez handleOnSelectAll avec le bon contexte\r\n      }}\r\n    />\r\n  );\r\n  \r\n  const handleDeleteSelected = async () => {\r\n    if (window.confirm(\"Êtes-vous sûr de vouloir supprimer les clients sélectionnés ?\")) {\r\n      for (const clientId of selected) {\r\n        await fetch(`http://localhost:5100/api/clients/${clientId}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\r\n          }\r\n        })\r\n        .then(response => {\r\n          if (!response.ok) {\r\n            throw new Error(`Failed to delete client ${clientId}, status: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then(data => {\r\n          if (!data.success) {\r\n            throw new Error(data.message);\r\n          }\r\n          setTotalClients(prevTotal => prevTotal - 1);\r\n          toast.success(`Client supprimé avec succès!`);\r\n        })\r\n        .catch(error => {\r\n          console.error('Error:', error);\r\n          toast.error(`Error deleting client ${clientId}: ${error.message}`);\r\n        });\r\n      }\r\n      // Mise à jour de l'état après la suppression de tous les clients sélectionnés\r\n      const newClients = clients.filter(client => !selected.includes(client._id));\r\n      setClients(newClients);\r\n      setSelected([]);\r\n    }\r\n  };\r\n  \r\n  \r\n  const deleteButton = selected.length > 0 ? (\r\n    <Button color=\"danger\" onClick={handleDeleteSelected} style={{ marginLeft: '10px' }}>\r\n      Supprimer la sélection\r\n    </Button>\r\n  ) : null;\r\n  \r\n  const selectRow = {\r\n    mode: 'checkbox',\r\n    clickToSelect: true,\r\n    selected: selected,\r\n    onSelect: handleOnSelect,\r\n    onSelectAll: handleOnSelectAll,\r\n    selectionHeaderRenderer: selectAllRenderer,\r\n    style: { backgroundColor: '#c8e6c9' }\r\n  };\r\n  \r\n\r\n  const fetchClients = (setClients) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      console.error('Token not found in localStorage');\r\n      return;\r\n    }\r\n\r\n    const cleanToken = token.trim();\r\n    const formattedToken = cleanToken.replace('JWT ', '');\r\n\r\n    console.log(\"Formatted Token from localStorage:\", formattedToken);\r\n\r\n    fetch('http://localhost:5100/api/clients', {\r\n      headers: {\r\n         'Authorization': `Bearer ${formattedToken}`\r\n      }\r\n    })\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP status ${response.status}`);\r\n      }\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n      console.log('Clients fetched:', data);\r\n      setClients(data);\r\n      setTotalClients(data.length);\r\n    })\r\n    .catch(err => {\r\n      console.error('Error fetching clients:', err.message);\r\n    });\r\n};\r\n\r\n  const handleAddClient = () => {\r\n    console.log('Redirection to /admin/nouveauClient');\r\n    history.push('/admin/nouveauClient');\r\n  };\r\n\r\n  const handleStatusChange = (clientId, newStatus) => {\r\n    // Mise à jour de l'état local\r\n    const updatedClients = clients.map(client =>\r\n      client._id === clientId ? { ...client, statut: newStatus } : client\r\n    );\r\n    setClients(updatedClients);\r\n  \r\n    // Envoie de la mise à jour au serveur\r\n    fetch(`http://localhost:5100/api/clients/${clientId}/status`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\r\n      },\r\n      body: JSON.stringify({ statut: newStatus })\r\n    })\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      if (!data.success) {\r\n        console.error('Failed to update status:', data.message);\r\n        toast.error(`Erreur lors de la mise à jour du statut: ${data.message}`);\r\n      } else {\r\n        toast.success('Statut mis à jour avec succès!');\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error updating status:', error);\r\n      toast.error(`Erreur: ${error.message}`);\r\n    });\r\n  };\r\n  \r\n\r\n  const columns = [\r\n    { dataField: \"_id\", text: \"ID\", hidden: true },\r\n    { dataField: \"nom\", text: \"Nom\", sort: true },  // Permet le tri sur la colonne \"Nom\"\r\n    { dataField: \"prenom\", text: \"Prénom\", sort: true },  // Permet le tri sur la colonne \"Prénom\"\r\n    { dataField: \"email\", text: \"Email\", sort: true },  // Permet le tri sur la colonne \"Email\"\r\n    { dataField: \"telephonePortable\", text: \"Téléphone Portable\", sort: true },  // Permet le tri sur la colonne \"Téléphone Portable\"\r\n    { dataField: \"ville\", text: \"Ville\", sort: true },  // Permet le tri sur la colonne \"Ville\"\r\n    {\r\n      dataField: \"dateNaissance\",\r\n      text: \"Date de Naissance\",\r\n      formatter: (cellContent, row) => formatDate(row.dateNaissance),\r\n      sort: true  // Permet le tri sur la colonne \"Date de Naissance\"\r\n    },\r\n    {\r\n      dataField: \"statut\",\r\n      text: \"Statut\",\r\n      formatter: (cell, row) => {\r\n        return (\r\n          <select\r\n            defaultValue={row.statut}\r\n            onClick={(e) => e.stopPropagation()} \r\n            onChange={(e) => handleStatusChange(row._id, e.target.value)}\r\n            className=\"form-control\"\r\n          >\r\n            <option value=\"Rdv fixé\">Rdv fixé</option>\r\n            <option value=\"Rdv Annulé\">Rdv Annulé</option>\r\n            <option value=\"Appareillé\">Appareillé</option>\r\n            <option value=\"Période d'essai\">Période d'essai</option>\r\n            <option value=\"Facturé\">Facturé</option>\r\n          </select>\r\n        );\r\n      },\r\n      editor: {\r\n        type: 'select',\r\n        options: [\r\n          { value: 'Rdv fixé', label: 'Rdv fixé' },\r\n          { value: 'Rdv Annulé', label: 'Rdv Annulé' },\r\n          { value: 'Appareillé', label: 'Appareillé' },\r\n          { value: \"Période d'essai\", label: \"Période d'essai\" },\r\n          { value: 'Facturé', label: 'Facturé' }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      dataField: 'actions',\r\n      text: 'Actions',\r\n      formatter: (cell, row) => (\r\n        <div>\r\n          <Button color=\"primary\" size=\"sm\" onClick={() => handleEditClient(row)}>\r\n            <i className=\"fas fa-pencil-alt\" />\r\n          </Button>\r\n          {' '}\r\n          <Button color=\"danger\" size=\"sm\" onClick={() => handleDeleteClient(row._id)}>\r\n            <i className=\"fas fa-trash\" />\r\n          </Button>\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n  \r\n\r\n  const handleEditClient = (client) => {\r\n    history.push({\r\n      pathname: '/admin/nouveauClient',\r\n      state: { client: client }\r\n    });\r\n  };\r\n\r\n\r\n  const handleDeleteClient = (clientId) => {\r\n    if (window.confirm(\"Êtes-vous sûr de vouloir supprimer ce client ?\")) {\r\n      fetch(`http://localhost:5100/api/clients/${clientId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\r\n        }\r\n      })\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to delete client, status: ${response.status}`);\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        if (data.success) {\r\n          // Mettre à jour l'état immédiatement pour refléter la suppression\r\n          const newClients = clients.filter(client => client._id !== clientId);\r\n          \r\n          setSelected(selected.filter(id => id !== clientId)); // Nettoyer aussi les sélections\r\n          setTotalClients(prevTotal => prevTotal - 1);\r\n          toast.success(\"Client supprimé avec succès!\");\r\n          setClients(newClients);\r\n          console.log(\"Clients after deletion\", newClients);\r\n        } else {\r\n          throw new Error(data.message);\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error:', error);\r\n        toast.error(`Error: ${error.message}`);\r\n      });\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n  const handleFileUpload = () => {\r\n    if (!selectedFile) {\r\n      toast.warn(\"No file selected for upload.\");\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n    const formData = new FormData();\r\n    formData.append('file', selectedFile);\r\n\r\n    fetch('http://localhost:5100/api/clients/import', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\r\n      },\r\n      body: formData\r\n    })\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw new Error('Failed to upload file');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then(data => {\r\n        setUploadSuccess(true);\r\n        console.log(\"Import success:\", data);\r\n        fetchClients(setClients);\r\n        setIsUploading(false);\r\n        \r\n        setSelectedFile(null);\r\n        toast.success(\"Fichier importé avec succès!\");\r\n        toggleModal(); // Ferme le modal après l'importation réussie\r\n      })\r\n      .catch(err => {\r\n        console.error(\"Import error:\", err);\r\n        setIsUploading(false);\r\n        setUploadError(\"Error during import: \" + err.message);\r\n        toast.error(\"Error during import: \" + err.message);\r\n      });\r\n      setUploadSuccess(false);\r\n  };\r\n\r\n  const pagination = paginationFactory({\r\n    page: 1,\r\n    alwaysShowAllBtns: true,\r\n    withFirstAndLast: false,\r\n    sizePerPageRenderer: ({ options, currSizePerPage, onSizePerPageChange }) => (\r\n      <div className=\"dataTables_length\" id=\"datatable-basic_length\">\r\n        <label>\r\n          {\" \"}\r\n          {\r\n            <select\r\n              name=\"datatable-basic_length\"\r\n              aria-controls=\"datatable-basic\"\r\n              className=\"form-control form-control-sm\"\r\n              onChange={e => onSizePerPageChange(e.target.value)}\r\n            >\r\n              <option value=\"10\">10</option>\r\n              <option value=\"25\">25</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select>\r\n          }{\" \"}\r\n        </label>\r\n      </div>\r\n    )\r\n  });\r\n\r\n  const { SearchBar } = Search;\r\n  useEffect(() => {\r\n    fetchClients(setClients);\r\n  }, []);\r\n  \r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop: acceptedFiles => {\r\n      console.log(acceptedFiles);\r\n      setSelectedFile(acceptedFiles[0]);\r\n      setUploadSuccess(true);\r\n      setUploadError(\"\");\r\n      //toast.info(\"File selected for upload.\");\r\n    }\r\n  });\r\n\r\n  const sendEmailsToSelected = () => {\r\n    const selectedClients = clients.filter(client => selected.includes(client.id));\r\n    console.log(\"Sending emails to:\", selectedClients.map(c => c.email));\r\n    // Logique pour envoyer des emails\r\n  };\r\n\r\n  const handleSelectAllClick = () => {\r\n    if (selected.length < clients.length) {\r\n      setSelected(clients.map(x => x.id)); // Sélectionner tous les ID\r\n    } else {\r\n      setSelected([]); // Désélectionner tous\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n      <Header totalClients={totalClients} />\r\n      <ToastContainer position=\"bottom-left\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n      <Container className=\"mt--7\" fluid>\r\n        <Row>\r\n          <div className=\"col\">\r\n            <Card className=\"shadow\">\r\n              <CardHeader className=\"border-0 d-flex align-items-center justify-content-between\">\r\n                <div>\r\n                  <h3 className=\"mb-0\" style={{ paddingBottom: '10px' }}>Clients (Total : {totalClients})</h3>\r\n                  {/* <Button color=\"info\" onClick={handleSelectAllClick}>\r\n  {selected.length === clients.length ? \"Désélectionner Tout\" : \"Sélectionner Tout\"}\r\n</Button> */}\r\n                </div>\r\n                <div>\r\n                  <Button color=\"primary\" onClick={handleAddClient} style={{ marginRight: '10px' }}>Ajouter Client</Button>\r\n                  <Button color=\"info\" onClick={toggleModal}>Importer Clients</Button>\r\n                  {/* <Button color=\"info\" onClick={sendEmailsToSelected}>Envoyer Mail</Button> */}\r\n                </div>\r\n              </CardHeader>\r\n              <CardBody>\r\n              <ToolkitProvider keyField=\"id\" data={clients} columns={columns} search>\r\n  {props => (\r\n    <div>\r\n      <div className=\"row mb-2\">\r\n        <div className=\"col-6\">\r\n        {deleteButton}\r\n          {/* Ici, vous pouvez remettre les boutons ou autres éléments comme avant */}\r\n        </div>\r\n        <div className=\"col-6 text-right\">\r\n          <SearchBar {...props.searchProps} className=\"form-control-sm\" placeholder=\"Rechercher\" style={{ border: '1px solid black', maxWidth: '250px' }} />\r\n        </div>\r\n      </div>\r\n      <div style={{ overflowX: 'auto' }}>\r\n        <BootstrapTable\r\n          {...props.baseProps}\r\n          keyField=\"_id\"\r\n          bootstrap4\r\n          pagination={pagination}\r\n          data={clients}\r\n          columns={columns}\r\n          selectRow={selectRow}\r\n          bordered={false}\r\n        />\r\n      </div>\r\n    </div>\r\n  )}\r\n</ToolkitProvider>\r\n\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n        </Row>\r\n      </Container>\r\n      <Modal isOpen={modal} toggle={toggleModal}>\r\n        <ModalHeader toggle={toggleModal}>Importer des fichiers</ModalHeader>\r\n        <ModalBody>\r\n          <div {...getRootProps({ className: 'dropzone' })} style={{ border: '2px dashed #007bff', padding: '20px', textAlign: 'center' }}>\r\n            <input {...getInputProps()} />\r\n            <i className=\"fas fa-file-upload fa-2x\"></i>\r\n            <p>Formats supportés : .csv, .xlsx</p>\r\n            {isDragActive ? (\r\n              <p>Relâchez le fichier ici...</p>\r\n            ) : (\r\n              <p>Glissez-déposez des fichiers ici, ou cliquez pour sélectionner des fichiers</p>\r\n            )}\r\n            {isUploading && <div>Chargement...</div>}\r\n            {uploadSuccess && <div className=\"alert alert-success\">Fichier importé avec succès!</div>}\r\n            {uploadError && <div className=\"alert alert-danger\">{uploadError}</div>}\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button color=\"primary\" onClick={handleFileUpload} disabled={!selectedFile}>\r\n            OK\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={toggleModal}>Fermer</Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Tables;","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\config.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Headers\\Header.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Headers\\EditHeader.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\components\\Headers\\UserHeader.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\variables\\charts.js",[],["316","317"],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\Ouieqare-MERN - Copie\\front-end\\src\\views\\examples\\Corbeille.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\index.js",[],["318","319"],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\PrivateRoute\\AuthRoutes.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\PrivateRoute\\PrivateRoute.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\layouts\\Admin.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\layouts\\Auth.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\routes.js",["320"],"import Index from \"views/Index.js\";\nimport Profile from \"views/examples/Profile.js\";\nimport Maps from \"views/examples/Maps.js\";\nimport Register from \"views/examples/Register.js\";\nimport Login from \"views/examples/Login.js\";\nimport Tables from \"views/examples/Tables.js\";\nimport Icons from \"views/examples/Icons.js\";\nimport ConfirmEmail from \"./views/examples/ConfirmEmail\";\nimport EditProfile from \"./views/examples/EditProfile\";\nimport UsersTable from \"./views/examples/UsersTable\";\nimport ResetPassword from \"./views/examples/ResetPassword\";\nimport ConfirmPassword from \"./views/examples/ConfirmPassword\";\nimport ResetPasswordSuccess from \"./views/examples/ResetPasswordSuccess\";\nimport Clients from \"views/examples/Clients\";\nimport NouveauClient from \"views/examples/NouveauClient\";\nimport NouvelleFacture from \"views/examples/NouvelleFacture\";\nimport Corbeille from \"views/examples/Corbeille\";\nimport ClientStatusPage from \"views/examples/ClientStatusPage\";\nimport Agenda from \"views/examples/Agenda\";\nimport Factures from \"views/examples/Factures\";\n\nvar routes = [\n  {\n    path: \"/index\",\n    name: \"Dashboard\",\n    icon: \"ni ni-tv-2 text-primary\",\n    component: Index,\n    layout: \"/admin\",\n    api: false\n  },\n  // {\n  //   path: \"/icons\",\n  //   name: \"Icons\",\n  //   icon: \"ni ni-planet text-blue\",\n  //   component: Icons,\n  //   layout: \"/admin\",\n  //   api: false\n  // },\n  {\n    path: \"/maps\",\n    name: \"Maps\",\n    icon: \"ni ni-pin-3 text-orange\",\n    component: Maps,\n    layout: \"/admin\",\n    api: false\n  },\n  {\n    path: \"/user-profile\",\n    name: \"Profil Utilisateur\",\n    icon: \"ni ni-circle-08 text-yellow\",\n    component: Profile,\n    layout: \"/admin\",\n    api: true,\n    hidden: true\n  },\n  \n  {\n    path: \"/statutClient/:status\",\n    name: \"ClientStatusPage\",\n    icon: \"ni ni-bullet-list-67 text-red\",\n    component: ClientStatusPage,\n    layout: \"/admin\",\n    api: false,\n    hidden: true\n  },\n  {\n    path: \"/agenda\",\n    name: \"Agenda\",\n    icon: \"ni ni-calendar-grid-58\",\n    component: Agenda,\n    layout: \"/admin\",\n    api: false,\n  },\n  {\n    path: \"/clients\",\n    name: \"Clients \",\n    icon: \"ni ni-single-02\",\n    component: Clients,\n    layout: \"/admin\",\n    api: false,\n  },     \n      {\n        path: \"/corbeille\",\n        name: \"Corbeille\",\n        icon: \"ni ni-folder-17 text-red\",\n        component: Corbeille,\n        layout: \"/admin\",\n        api: false,\n      },\n      {\n        path: \"/tables\",\n        name: \"Statuts Clients\",\n        icon: \"ni ni-bullet-list-67 text-red\",\n        component: Tables,\n        layout: \"/admin\",\n        api: false\n      },\n      {\n        path: \"/factures\",\n        name: \"Factures\",\n        icon: \"ni ni-money-coins\",\n        component: Factures,\n        layout: \"/admin\",\n        api: false\n      },\n  {\n    path: \"/nouveauClient\",\n    name: \"Nouveau Client\",\n    icon: \"ni ni-fat-add\", // ou supprimez complètement l'icône\n    component: NouveauClient,\n    layout: \"/admin\",\n    api: false,\n    hidden: true // Ajouté pour cacher cette route dans le menu\n  },\n  {\n    path: \"/nouvelleFacture\",\n    name: \"Nouvelle Facture\",\n    icon: \"ni ni-fat-add\", // ou supprimez complètement l'icône\n    component: NouvelleFacture,\n    layout: \"/admin\",\n    api: false,\n    hidden: true // Ajouté pour cacher cette route dans le menu\n  },\n  {\n    path: \"/login\",\n    name: \"Connexion\",\n    icon: \"ni ni-key-25 text-info\",\n    component: Login,\n    layout: \"/auth\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/register\",\n    name: \"Inscription\",\n    icon: \"ni ni-circle-08 text-pink\",\n    component: Register,\n    layout: \"/auth\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/confirm-email/:id\",\n    name: \"Confirmer Email\",\n    icon: \"ni ni-check-bold text-green\",\n    component: ConfirmEmail,\n    layout: \"/auth\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/edit-profile\",\n    name: \"Modifier Profil\",\n    icon: \"ni ni-ruler-pencil text-info\",\n    component: EditProfile,\n    layout: \"/admin\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/users\",\n    name: \"Utilisateurs\",\n    icon: \"ni ni-folder-17 text-pink\",\n    component: UsersTable,\n    layout: \"/admin\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/reset-password\",\n    name: \"Réinitialiser le mot de passe\",\n    icon: \"ni ni-folder-17 text-pink\",\n    component: ResetPassword,\n    layout: \"/auth\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/confirm-password/:id\",\n    name: \"Confirmer le mot de passe\",\n    icon: \"ni ni-folder-17 text-pink\",\n    component: ConfirmPassword,\n    layout: \"/auth\",\n    api: true,\n    hidden: true\n  },\n  {\n    path: \"/reset-success\",\n    name: \"Réinitialisation du mot de passe confirmée\",\n    icon: \"ni ni-folder-17 text-pink\",\n    component: ResetPasswordSuccess,\n    layout: \"/auth\",\n    api: false,\n    hidden: true\n  }\n];\nexport default routes;","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Footers\\AuthFooter.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Navbars\\AdminNavbar.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Navbars\\AuthNavbar.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Footers\\AdminFooter.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Sidebar\\Sidebar.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ConfirmPassword.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ConfirmEmail.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ResetPasswordSuccess.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ResetPassword.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\EditProfile.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\UsersTable.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\network\\ApiAxios.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Maps.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Register.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\Index.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Tables.js",["321","322","323","324","325","326"],"import React, { useState, useEffect } from \"react\";\n\n\n// reactstrap components\nimport {\n  Badge,\n  Card,\n  CardHeader,\n  CardFooter,\n  DropdownMenu,\n  DropdownItem,\n  UncontrolledDropdown,\n  DropdownToggle,\n  Media,\n  Pagination,\n  PaginationItem,\n  PaginationLink,\n  Progress,\n  Table,\n  Container,\n  Row,\n  UncontrolledTooltip\n} from \"reactstrap\";\n// core components\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"components/Headers/Header.js\";\nimport bootstrapImg from '../../assets/img/theme/bootstrap.jpg';\nimport angularImg from '../../assets/img/theme/angular.jpg';\nimport team1Img from '../../assets/img/theme/team-1-800x800.jpg'; // Et ainsi de suite pour les autres images\n\n\nconst Tables = () => {\n  const [statuses, setStatuses] = useState([]);\n  const history = useHistory();\n  \n\n  useEffect(() => {\n    const loadedStatuses = JSON.parse(localStorage.getItem('uniqueStatuses'));\n    setStatuses(loadedStatuses);\n  }, []);\n\n  const rows = statuses.map(status => ({\n    status: status,\n    budget: 'Définir une logique pour budget', // Vous pouvez ajouter une logique similaire pour le budget\n    completion: 'Définir une logique pour completion', // Et pour le pourcentage de complétion\n    projectImg: 'theme/bootstrap.jpg', // Définir si nécessaire\n    usersImg: ['team-1-800x800.jpg', 'team-2-800x800.jpg', 'team-3-800x800.jpg'] // Définir si nécessaire\n  }));\n  \n  const handleRowClick = (status) => {\n    history.push(`/admin/statutClient/${status}`);\n  };\n  // const rows = [\n  //   { \n  //     status: 'Appareillé', \n  //     budget: '$2,500 USD', \n  //     completion: '60%', \n  //     projectImg: 'theme/bootstrap.jpg', // Assurez-vous que ce chemin est correct\n  //     usersImg: ['team-1-800x800.jpg', 'team-2-800x800.jpg', 'team-3-800x800.jpg', 'team-4-800x800.jpg'] // Ceux-ci doivent également être définis\n  //   },\n  //   { \n  //     status: 'Période d\\'essai', \n  //     budget: '$1,800 USD', \n  //     completion: '100%', \n  //     projectImg: 'theme/angular.jpg', \n  //     usersImg: ['team-1-800x800.jpg', 'team-2-800x800.jpg', 'team-3-800x800.jpg', 'team-4-800x800.jpg']\n  //   },\n  //   ,\n  //   { \n  //     status: 'Rdv fixé', \n  //     budget: '$1,800 USD', \n  //     completion: '100%', \n  //     projectImg: 'theme/angular.jpg', \n  //     usersImg: ['team-1-800x800.jpg', 'team-2-800x800.jpg', 'team-3-800x800.jpg', 'team-4-800x800.jpg']\n  //   }\n  //   // Continuez à ajouter des lignes selon le même modèle\n  // ];\n  \n \n\n  return (\n    <>\n      <Header />\n      <Container className=\"mt--7\" fluid>\n        <Row>\n          <div className=\"col\">\n            <Card className=\"shadow\">\n              <CardHeader className=\"border-0\">\n                <h3 className=\"mb-0\">Clients par Statut</h3>\n              </CardHeader>\n              <Table className=\"align-items-center table-flush\" responsive>\n                <thead className=\"thead-light\">\n                  <tr>\n                    <th scope=\"col\">Status</th>\n                    <th scope=\"col\">Budget</th>\n                    <th scope=\"col\">Completion</th>\n                    <th scope=\"col\">Users</th>\n                    <th scope=\"col\" />\n                  </tr>\n                </thead>\n                <tbody>\n                  {rows.map((row, index) => (\n                    <tr key={index} onClick={() => handleRowClick(row.status)} style={{ cursor: 'pointer' }}>\n                      <th scope=\"row\">\n                        <Media className=\"align-items-center\">\n                          <a className=\"avatar rounded-circle mr-3\">\n                            <img alt=\"...\" src={bootstrapImg} />\n                          </a>\n                          <Media>\n                            <span className=\"mb-0 text-sm\">{row.status}</span>\n                          </Media>\n                        </Media>\n                      </th>\n                      <td>{row.budget}</td>\n                      <td>\n                        <div className=\"d-flex align-items-center\">\n                          <span className=\"mr-2\">{row.completion}</span>\n                          <Progress max=\"100\" value={row.completion.replace('%', '')} barClassName=\"bg-danger\" />\n                        </div>\n                      </td>\n                      <td>\n                        <div className=\"avatar-group\">\n                          {row.usersImg.map((img, idx) => (\n                            <a className=\"avatar avatar-sm\" key={idx}>\n                              <img alt=\"...\" className=\"rounded-circle\" src={bootstrapImg} />\n                            </a>\n                          ))}\n                        </div>\n                      </td>\n                      <td className=\"text-right\">\n                        <UncontrolledDropdown>\n                          <DropdownToggle className=\"btn-icon-only text-light\" href=\"#\" role=\"button\" size=\"sm\" color=\"\" onClick={(e) => e.preventDefault()}>\n                            <i className=\"fas fa-ellipsis-v\" />\n                          </DropdownToggle>\n                          <DropdownMenu className=\"dropdown-menu-arrow\" right>\n                            <DropdownItem href=\"#pablo\" onClick={(e) => e.preventDefault()}>Action</DropdownItem>\n                            <DropdownItem href=\"#pablo\" onClick={(e) => e.preventDefault()}>Another action</DropdownItem>\n                            <DropdownItem href=\"#pablo\" onClick={(e) => e.preventDefault()}>Something else here</DropdownItem>\n                          </DropdownMenu>\n                        </UncontrolledDropdown>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </Table>\n              <CardFooter className=\"py-4\">\n                <nav aria-label=\"...\">\n                  <Pagination className=\"pagination justify-content-end mb-0\" listClassName=\"justify-content-end mb-0\">\n                    <PaginationItem className=\"disabled\">\n                      <PaginationLink href=\"#\" onClick={(e) => e.preventDefault()} tabIndex=\"-1\">\n                        <i className=\"fas fa-angle-left\" />\n                        <span className=\"sr-only\">Previous</span>\n                      </PaginationLink>\n                    </PaginationItem>\n                    <PaginationItem className=\"active\">\n                      <PaginationLink href=\"#\" onClick={(e) => e.preventDefault()}>1</PaginationLink>\n                    </PaginationItem>\n                    <PaginationItem>\n                      <PaginationLink href=\"#\" onClick={(e) => e.preventDefault()}>\n                        2 <span className=\"sr-only\">(current)</span>\n                      </PaginationLink>\n                    </PaginationItem>\n                    <PaginationItem>\n                      <PaginationLink href=\"#\" onClick={(e) => e.preventDefault()}>\n                        3\n                      </PaginationLink>\n                    </PaginationItem>\n                    <PaginationItem>\n                      <PaginationLink href=\"#\" onClick={(e) => e.preventDefault()}>\n                        <i className=\"fas fa-angle-right\" />\n                        <span className=\"sr-only\">Next</span>\n                      </PaginationLink>\n                    </PaginationItem>\n                  </Pagination>\n                </nav>\n              </CardFooter>\n            </Card>\n          </div>\n        </Row>\n      </Container>\n    </>\n  );\n};\nexport default Tables;\n","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Profile.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Login.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Icons.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Clients.js",["327","328"],"import { useHistory } from \"react-router-dom\";\nimport React, { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport {\n  Modal, ModalHeader, ModalBody, ModalFooter,\n  Button,\n  CardBody,\n  Card,\n  CardHeader,\n  Container,\n  Row,\n} from \"reactstrap\";\nimport { useDropzone } from 'react-dropzone';\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\nimport Header from \"components/Headers/Header.js\";\nimport 'react-bootstrap-table-next/dist/react-bootstrap-table2.min.css';\n\nconst formatDate = (isoString) => {\n  if (!isoString) return '';\n  const date = new Date(isoString);\n  return date.toLocaleDateString('fr-FR');  // ou 'en-US' selon le format local que vous préférez\n}\n\nconst Tables = () => {\n  const history = useHistory();\n  const [clients, setClients] = useState([]);\n  const [totalClients, setTotalClients] = useState(0);\n  const [modal, setModal] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadSuccess, setUploadSuccess] = useState(false);\n  const [uploadError, setUploadError] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [selected, setSelected] = useState([]);\n  const [selectedClientId, setSelectedClientId] = useState(null);\n  const [hoveredClientId, setHoveredClientId] = useState(null);\n\n  const toggleModal = () => {\n    setModal(!modal);\n    if (!modal) {\n      if (!isUploading && !uploadSuccess) {\n        setSelectedFile(null);\n        setUploadError(\"\");\n      }\n    }\n  };\n\n\n  const handleOnSelect = (row, isSelect) => {\n    setTimeout(() => {\n      console.log(`Select ${isSelect ? 'on' : 'off'} for row id ${row._id}`);\n      if (isSelect) {\n        setSelected(prevSelected => {\n          const newSelected = [...prevSelected, row._id];\n          console.log('New selected after add:', newSelected);\n          return newSelected;\n        });\n      } else {\n        setSelected(prevSelected => {\n          const newSelected = prevSelected.filter(x => x !== row._id);\n          console.log('New selected after remove:', newSelected);\n          return newSelected;\n        });\n      }\n    }, 100);  // Délai de 100ms\n  };\n  \n  \n  const handleOnSelectAll = (isSelect, rows) => {\n    console.log(`Select all ${isSelect ? 'on' : 'off'}`);\n    if (isSelect) {\n      const idsToSelect = rows.map(r => r._id);\n      console.log('Selecting all ids:', idsToSelect);\n      setSelected(idsToSelect);\n    } else {\n      setSelected([]);\n    }\n  };\n  \n  \n  const selectAllRenderer = ({ mode, checked, indeterminate }) => (\n    <input\n      type={mode}\n      checked={checked}\n      ref={input => {\n        if (input) input.indeterminate = indeterminate;\n      }}\n      // onChange={e => {\n      //   if (e.target.checked) {\n      //     const idsToSelect = clients.map(client => client._id);  // Assurez-vous que cette ligne utilise la bonne clé\n      //     setSelected(idsToSelect);\n      //   } else {\n      //     setSelected([]);\n      //   }\n      // }}\n      onChange={e => {\n        handleOnSelectAll(e.target.checked, clients);  // Appelez handleOnSelectAll avec le bon contexte\n      }}\n    />\n  );\n  \n  const handleDeleteSelected = async () => {\n    if (window.confirm(\"Êtes-vous sûr de vouloir supprimer les clients sélectionnés ?\")) {\n      for (const clientId of selected) {\n        await fetch(`https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/${clientId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\n          }\n        })\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(`Failed to delete client ${clientId}, status: ${response.status}`);\n          }\n          return response.json();\n        })\n        .then(data => {\n          if (!data.success) {\n            throw new Error(data.message);\n          }\n          setTotalClients(prevTotal => prevTotal - 1);\n          toast.success(`Client supprimé avec succès!`);\n        })\n        .catch(error => {\n          console.error('Error:', error);\n          toast.error(`Error deleting client ${clientId}: ${error.message}`);\n        });\n      }\n      // Mise à jour de l'état après la suppression de tous les clients sélectionnés\n      const newClients = clients.filter(client => !selected.includes(client._id));\n      setClients(newClients);\n      setSelected([]);\n    }\n  };\n  \n  \n  const deleteButton = selected.length > 0 ? (\n    <Button color=\"danger\" onClick={handleDeleteSelected} style={{ marginLeft: '10px' }}>\n      Supprimer la sélection\n    </Button>\n  ) : null;\n\n  const selectRow = {\n    mode: 'checkbox',\n    clickToSelect: false, // Désactive la sélection automatique lors du clic sur la ligne\n    selected: selected,\n    onSelect: handleOnSelect,\n    onSelectAll: handleOnSelectAll,\n    selectionHeaderRenderer: selectAllRenderer,\n    style: { backgroundColor: '#c8e6c9' },\n    hideSelectColumn: false, // Garde la colonne de case à cocher visible\n  };\n  \n  const handleRowClick = (client) => {\n    console.log(`Navigation to client details for ID: ${client._id}`);\n    setSelectedClientId(client._id);\n    history.push({\n      pathname: `/admin/nouveauClient`, // Assurez-vous que le chemin est correct\n      state: { client: client }\n    });\n  };\n  \n  const fetchClients = (setClients) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      console.error('Token not found in localStorage');\n      return;\n    }\n\n    const cleanToken = token.trim();\n    const formattedToken = cleanToken.replace('JWT ', '');\n\n    console.log(\"Formatted Token from localStorage:\", formattedToken);\n\n    fetch('https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients', {\n      headers: {\n         'Authorization': `Bearer ${formattedToken}`\n      }\n    })\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP status ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      console.log('Clients fetched:', data);\n      setClients(data);\n      setTotalClients(data.length);\n    })\n    .catch(err => {\n      console.error('Error fetching clients:', err.message);\n    });\n};\n\n  const handleAddClient = () => {\n    console.log('Redirection to /admin/nouveauClient');\n    history.push('/admin/nouveauClient');\n  };\n\n  const handleStatusChange = (clientId, newStatus) => {\n    // Mise à jour de l'état local\n    const updatedClients = clients.map(client =>\n      client._id === clientId ? { ...client, statut: newStatus } : client\n    );\n    setClients(updatedClients);\n  \n    // Envoie de la mise à jour au serveur\n    fetch(`https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/${clientId}/status`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\n      },\n      body: JSON.stringify({ statut: newStatus })\n    })\n    .then(response => response.json())\n    .then(data => {\n      if (!data.success) {\n        console.error('Failed to update status:', data.message);\n        toast.error(`Erreur lors de la mise à jour du statut: ${data.message}`);\n      } else {\n        toast.success('Statut mis à jour avec succès!');\n      }\n    })\n    .catch(error => {\n      console.error('Error updating status:', error);\n      toast.error(`Erreur: ${error.message}`);\n    });\n  };\n  \n  const handleEditClient = (e, client) => {\n    e.stopPropagation(); // Empêche l'événement de se propager à d'autres éléments\n    history.push({\n      pathname: '/admin/nouveauClient',\n      state: { client: client }\n    });\n  };\n  \n  const handleDeleteClient = (e, clientId) => {\n    e.stopPropagation(); // Empêche l'événement de se propager à d'autres éléments\n    if (window.confirm(\"Êtes-vous sûr de vouloir supprimer ce client ?\")) {\n      fetch(`https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/${clientId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\n        }\n      })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`Failed to delete client, status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        if (data.success) {\n          const newClients = clients.filter(client => client._id !== clientId);\n          setSelected(selected.filter(id => id !== clientId)); // Nettoyer aussi les sélections\n          setTotalClients(prevTotal => prevTotal - 1);\n          toast.success(\"Client supprimé avec succès!\");\n          setClients(newClients);\n        } else {\n          throw new Error(data.message);\n        }\n      })\n      .catch(error => {\n        console.error('Error:', error);\n        toast.error(`Error: ${error.message}`);\n      });\n    }\n  };\n  \n  \n  const columns = [\n    { dataField: \"_id\", text: \"ID\", hidden: true },\n    {\n      dataField: \"nom\",\n      text: \"Nom\",\n      sort: true,\n      classes: 'col-lg-2',\n      headerClasses: 'col-lg-2'\n    },\n    {\n      dataField: \"prenom\",\n      text: \"Prénom\",\n      sort: true,\n      classes: 'col-lg-2',\n      headerClasses: 'col-lg-2'\n    },\n  {\n    dataField: \"email\",\n    text: \"Email\",\n    sort: true,\n    classes: 'col-md-3 col-lg-3 text-truncate', // Utilisation de text-truncate pour ajouter ellipsis\n    headerClasses: 'col-md-3 col-lg-3',\n    formatter: (cellContent, row) => {\n      return (\n        <div className=\"text-truncate\" style={{ maxWidth: '200px' }}>\n          {cellContent}\n        </div>\n      );\n    }\n  }, // Colonne Email\n  {\n    dataField: \"telephonePortable\",\n    text: \"Tel\",\n    sort: true,\n    classes: 'd-none d-md-table-cell col-md-2 col-lg-2',\n    headerClasses: 'd-none d-md-table-cell col-md-2 col-lg-2'\n  },// Colonne Tel\n  {\n    dataField: \"ville\",\n    text: \"Ville\",\n    sort: true,\n    classes: 'd-none d-lg-table-cell col-lg-2',\n    headerClasses: 'd-none d-lg-table-cell col-lg-2'\n  },\n  {\n    dataField: \"dateNaissance\",\n    text: \"Date de Naissance\",\n    formatter: (cellContent, row) => formatDate(row.dateNaissance),\n    sort: true,\n    classes: 'd-none d-lg-table-cell col-lg-2', // Cache cette colonne sur les écrans plus petits que 'lg'\n    headerClasses: 'd-none d-lg-table-cell col-lg-2'\n  },\n  {\n    dataField: \"statut\",\n    text: \"Statut\",\n    classes: 'd-none d-lg-table-cell col-md-4 col-lg-3', // Cache cette colonne sur les écrans plus petits que 'lg'\n    headerClasses: 'd-none d-lg-table-cell col-md-4 col-lg-3', // Ajusté pour correspondre aux classes de données\n    formatter: (cell, row) => {\n      return (\n        <select\n          defaultValue={row.statut}\n          onClick={(e) => e.stopPropagation()}\n          onChange={(e) => handleStatusChange(row._id, e.target.value)}\n          className=\"form-control\"\n          style={{ minWidth: \"150px\" }} // Assure que le sélecteur est suffisamment large\n        >\n          <option value=\"none\"></option>\n          <option value=\"Rdv fixé\">Rdv fixé</option>\n          <option value=\"Rdv Annulé\">Rdv Annulé</option>\n          <option value=\"Appareillé\">Appareillé</option>\n          <option value=\"Appareillé\">En Livraison</option>\n          <option value=\"Période d'essai\">Période d'essai</option>\n          <option value=\"Facturé\">Facturé</option>\n        </select>\n      );\n    },\n    editor: {\n      type: 'select',\n      options: [\n        { value: 'Rdv fixé', label: 'Rdv fixé' },\n        { value: 'Rdv Annulé', label: 'Rdv Annulé' },\n        { value: 'Appareillé', label: 'Appareillé' },\n        { value: \"Période d'essai\", label: \"Période d'essai\" },\n        { value: 'Facturé', label: 'Facturé' }\n      ]\n    }\n  },\n  \n  {\n    dataField: 'actions',\n    text: 'Actions',\n    classes: 'col-md-2 col-lg-2 text-center',\n    headerClasses: 'col-md-2 col-lg-2 text-center',\n    formatter: (cell, row) => (\n      <div>\n        <Button color=\"primary\" size=\"sm\" onClick={(e) => handleEditClient(e, row)}>\n          <i className=\"fas fa-pencil-alt\"></i>\n        </Button>\n        <Button color=\"danger\" size=\"sm\" onClick={(e) => handleDeleteClient(e, row._id)}>\n          <i className=\"fas fa-trash\"></i>\n        </Button>\n      </div>\n    )\n  }\n  ];\n  \n  useEffect(() => {\n    const uniqueStatuses = [...new Set(clients.map(client => client.statut))];\n    localStorage.setItem('uniqueStatuses', JSON.stringify(uniqueStatuses));\n  }, [clients]);\n  \n  useEffect(() => {\n    localStorage.setItem('totalClients', totalClients);\n  }, [totalClients]);\n  \n  const handleFileUpload = () => {\n    if (!selectedFile) {\n      toast.warn(\"No file selected for upload.\");\n      return;\n    }\n\n    setIsUploading(true);\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    fetch('https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/import', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\n      },\n      body: formData\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Failed to upload file');\n        }\n        return response.json();\n      })\n      .then(data => {\n        setUploadSuccess(true);\n        console.log(\"Import success:\", data);\n        fetchClients(setClients);\n        setIsUploading(false);\n        \n        setSelectedFile(null);\n        toast.success(\"Fichier importé avec succès!\");\n        toggleModal(); // Ferme le modal après l'importation réussie\n      })\n      .catch(err => {\n        console.error(\"Import error:\", err);\n        setIsUploading(false);\n        setUploadError(\"Error during import: \" + err.message);\n        toast.error(\"Error during import: \" + err.message);\n      });\n      setUploadSuccess(false);\n  };\n\n  const pagination = paginationFactory({\n    page: 1,\n    alwaysShowAllBtns: true,\n    withFirstAndLast: false,\n    sizePerPageRenderer: ({ options, currSizePerPage, onSizePerPageChange }) => (\n      <div className=\"dataTables_length\" id=\"datatable-basic_length\">\n        <label>\n          {\" \"}\n          {\n            <select\n              name=\"datatable-basic_length\"\n              aria-controls=\"datatable-basic\"\n              className=\"form-control form-control-sm\"\n              onChange={e => onSizePerPageChange(e.target.value)}\n            >\n              <option value=\"10\">10</option>\n              <option value=\"25\">25</option>\n              <option value=\"50\">50</option>\n              <option value=\"100\">100</option>\n            </select>\n          }{\" \"}\n        </label>\n      </div>\n    )\n  });\n\n  const { SearchBar } = Search;\n  useEffect(() => {\n    fetchClients(setClients);\n  }, [totalClients]);\n  \n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop: acceptedFiles => {\n      console.log(acceptedFiles);\n      setSelectedFile(acceptedFiles[0]);\n      setUploadSuccess(true);\n      setUploadError(\"\");\n      //toast.info(\"File selected for upload.\");\n    }\n  });\n\n  const sendEmailsToSelected = () => {\n    const selectedClients = clients.filter(client => selected.includes(client.id));\n    console.log(\"Sending emails to:\", selectedClients.map(c => c.email));\n    // Logique pour envoyer des emails\n  };\n\n  const handleSelectAllClick = () => {\n    if (selected.length < clients.length) {\n      setSelected(clients.map(x => x.id)); // Sélectionner tous les ID\n    } else {\n      setSelected([]); // Désélectionner tous\n    }\n  };\n  const rowEvents = {\n    onClick: (e, row, rowIndex) => {\n      if (e.target.tagName !== 'BUTTON' && e.target.tagName !== 'INPUT' && e.target.type !== 'checkbox') {\n        handleRowClick(row);\n      }\n    },\n    onMouseEnter: (e, row, rowIndex) => {\n      setHoveredClientId(row._id); // Met à jour l'état pour la ligne survolée\n    },\n    onMouseLeave: (e, row, rowIndex) => {\n      setHoveredClientId(null); // Réinitialise l'état lorsque la souris quitte la ligne\n    }\n  };\n  \n  \n  const rowStyle = (row, rowIndex) => {\n    if (row._id === selectedClientId) {\n      return { backgroundColor: '#f8f9fe', cursor: 'pointer' }; // Style pour la ligne sélectionnée\n    } else if (row._id === hoveredClientId) {\n      return { backgroundColor: '#e9ecef', cursor: 'pointer' }; // Style pour la ligne survolée\n    }\n    return {}; // Style par défaut\n  };\n\n\n  return (\n    <>\n      <Header totalClients={totalClients} />\n      <ToastContainer position=\"bottom-left\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\n      <Container className=\"mt--7\" fluid>\n        <Row>\n          <div className=\"col\">\n            <Card className=\"shadow\">\n              <CardHeader className=\"border-0 d-flex align-items-center justify-content-between\">\n                <div>\n                  <h3 className=\"mb-0\" style={{ paddingBottom: '10px' }}>Clients (Total : {totalClients})</h3>\n                  {/* <Button color=\"info\" onClick={handleSelectAllClick}>\n  {selected.length === clients.length ? \"Désélectionner Tout\" : \"Sélectionner Tout\"}\n</Button> */}\n                </div>\n                <div>\n                  <Button color=\"primary\" onClick={handleAddClient} style={{ marginRight: '10px' }}>Ajouter Client</Button>\n                  <Button onClick={toggleModal} style={{ background: 'linear-gradient(87deg, #003D33 0%, #007D70 100%)',  color: 'white' }}>Importer Clients</Button>\n                  {/* <Button color=\"info\" onClick={sendEmailsToSelected}>Envoyer Mail</Button> */}\n                </div>\n              </CardHeader>\n              <CardBody>\n              <ToolkitProvider keyField=\"id\" data={clients} columns={columns} search>\n  {props => (\n    <div>\n      <div className=\"row mb-2\">\n        <div className=\"col-6\">\n        {deleteButton}\n          {/* Ici, vous pouvez remettre les boutons ou autres éléments comme avant */}\n        </div>\n        <div className=\"col-6 text-right\">\n          <SearchBar {...props.searchProps} className=\"form-control-sm\" placeholder=\"Rechercher\" style={{ border: '1px solid black', maxWidth: '250px' }} />\n        </div>\n      </div>\n      <div style={{ overflowX: 'auto' }}>\n      <BootstrapTable\n  {...props.baseProps}\n  keyField=\"_id\"\n  bootstrap4\n  pagination={pagination}\n  data={clients}\n  columns={columns}\n  selectRow={selectRow}\n  rowEvents={rowEvents}\n  rowStyle={rowStyle}\n  bordered={false}\n/>\n\n      </div>\n    </div>\n  )}\n</ToolkitProvider>\n\n              </CardBody>\n            </Card>\n          </div>\n        </Row>\n      </Container>\n      <Modal isOpen={modal} toggle={toggleModal}>\n        <ModalHeader toggle={toggleModal}>Importer des fichiers</ModalHeader>\n        <ModalBody>\n          <div {...getRootProps({ className: 'dropzone' })} style={{ border: '2px dashed #007bff', padding: '20px', textAlign: 'center' }}>\n            <input {...getInputProps()} />\n            <i className=\"fas fa-file-upload fa-2x\"></i>\n            <p>Formats supportés : .csv, .xlsx</p>\n            {isDragActive ? (\n              <p>Relâchez le fichier ici...</p>\n            ) : (\n              <p>Glissez-déposez des fichiers ici, ou cliquez pour sélectionner des fichiers</p>\n            )}\n            {isUploading && <div>Chargement...</div>}\n            {uploadSuccess && <div className=\"alert alert-success\">Fichier importé avec succès!</div>}\n            {uploadError && <div className=\"alert alert-danger\">{uploadError}</div>}\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"primary\" onClick={handleFileUpload} disabled={!selectedFile}>\n            OK\n          </Button>\n          <Button color=\"secondary\" onClick={toggleModal}>Fermer</Button>\n        </ModalFooter>\n      </Modal>\n    </>\n  );\n};\n\nexport default Tables;","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Corbeille.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\NouveauClient.js",["329"],"import React, { useState, useRef, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { FaArrowLeft } from 'react-icons/fa'; \n\nimport {\n  Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col, UncontrolledAlert,\n  Nav, NavItem, NavLink, TabContent, TabPane\n} from \"reactstrap\";\nimport classnames from 'classnames';\n\nfunction formatDate(dateString) {\n  const date = new Date(dateString);\n  const year = date.getFullYear();\n  const month = ('0' + (date.getMonth() + 1)).slice(-2);\n  const day = ('0' + date.getDate()).slice(-2);\n  return `${year}-${month}-${day}`;\n}\n\nconst NouveauClient = () => {\n  const history = useHistory();\n  const location = useLocation();\n  const [client, setClient] = useState({\n    nom: \"\",\n    prenom: \"\",\n    dateNaissance: \"\",\n    mutuelle: \"\",\n    numeroSecu: \"\",\n    email: \"\",\n    telephoneFixe: \"\",\n    telephonePortable: \"\",\n    adresse: \"\",\n    codePostal: \"\",\n    ville: \"\",\n    note: \"\",\n    audiogramme: \"\",\n    statut: \"\" \n  });\n  const [isEditable, setIsEditable] = useState(!location.state || !location.state.client);\n  const [activeTab, setActiveTab] = useState('1');\n  const [audiogrammeSuccessMessage, setAudiogrammeSuccessMessage] = useState(\"\");\n\n  useEffect(() => {\n    // Si un client est passé dans l'état, utilisez ses valeurs pour initialiser le formulaire\n    if (location.state && location.state.client) {\n      const formattedClient = {\n        ...location.state.client,\n        dateNaissance: formatDate(location.state.client.dateNaissance)\n      };\n      setClient(formattedClient);\n    }\n  }, [location.state]);\n\n  const toggleTab = tab => {\n    if(activeTab !== tab) setActiveTab(tab);\n  };\n\n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  const isMounted = useRef(false);\n\nuseEffect(() => {\n  isMounted.current = true;\n  return () => {\n    isMounted.current = false;  // Nettoyage en démontant le composant\n  };\n}, []);\n\n  const validateForm = () => {\n    let tempErrors = {};\n    let formIsValid = true;\n\n    if (!client.nom.trim()) {\n      formIsValid = false;\n      tempErrors[\"nom\"] = \"Le nom est requis.\";\n    }\n\n    if (!client.email.trim()) {\n      formIsValid = false;\n      tempErrors[\"email\"] = \"L'email est requis.\";\n    }\n\n    setErrors(tempErrors);\n    return formIsValid;\n  };\n\n\nconst saveClient = async (clientData) => {\n  const url = clientData._id ? `https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/${clientData._id}` : 'https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/add';\n  const method = clientData._id ? 'PUT' : 'POST';\n\n  console.log('Envoi des données du client:', clientData);  // Log des données envoyées\n\n  try {\n      const response = await fetch(url, {\n          method: method,\n          headers: {\n              'Content-Type': 'application/json',\n              'Authorization': localStorage.getItem('token')\n          },\n          body: JSON.stringify(clientData)\n      });\n\n      console.log('Statut de la réponse:', response.status);  // Log du statut de réponse HTTP\n\n      if (!response.ok) {\n        const data = await response.json();\n        console.log('Erreur lors de l\\'enregistrement:', data);  // Log de l'erreur\n        toast.error(`Erreur: ${data.message}`);\n        return;\n      }\n\n      const data = await response.json();\n      console.log('Réponse du serveur:', data);  // Log de la réponse\n      toast.success(\"Le client a été ajouté/modifié avec succès !\");\n      setIsEditable(false);\n      // setTimeout(() => {\n      //     history.push('/admin/clients');\n      // }, 3000);\n  } catch (error) {\n      console.error('Erreur lors de l\\'opération sur le client:', error);\n      toast.error(`Erreur lors de l'opération sur le client: ${error.message}`);\n  }\n};\n\n\n\n\n\n\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setClient({ ...client, [name]: value });\n    // Clear errors\n    if (!!errors[name]) setErrors({ ...errors, [name]: null });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (validateForm()) {\n      saveClient(client);\n    }\n  };\n  const handleSubmitAudiogramme = async (e) => {\n    e.preventDefault();\n    const audiogrammeData = {\n      ...client,\n      audiogramme: client.audiogramme\n    };\n  \n    const url = client._id ? `https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/${client._id}` : 'https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/add';\n    const method = client._id ? 'PUT' : 'POST';\n  \n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': localStorage.getItem('token')\n        },\n        body: JSON.stringify(audiogrammeData)\n      });\n  \n      if (!response.ok) {\n        const errorText = await response.text();\n        throw new Error(`HTTP status ${response.status}: ${errorText}`);\n      }\n  \n      const data = await response.json();\n      console.log('Opération réussie:', data);\n      setAudiogrammeSuccessMessage(\"Le bilan auditif a été enregistré avec succès.\");\n      setTimeout(() => {\n        setAudiogrammeSuccessMessage(\"\");\n        history.push('/admin/clients'); // Redirection après l'affichage du message de succès\n      }, 3000); // Affichage du message pendant 3 secondes\n  \n    } catch (error) {\n      console.error(\"Erreur lors de l'enregistrement du bilan auditif:\", error);\n      setErrors({ form: \"Erreur lors de l'opération sur le bilan auditif.\" });\n    }\n  };\n  const handleBack = () => {\n    history.goBack();\n  };\n\n  return (\n      //  <div style={{ paddingTop: '50px', background: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%)' }}>\n      <div style={{ paddingTop: '50px', background: 'linear-gradient(87deg, #003D33 0, #007D70 100%)' }}>\n    <Container className=\"mt-5\">\n      <Card>\n      <ToastContainer position=\"bottom-left\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />          \n          {/* <CardHeader className=\"bg-white text-white\">\n          <Button color=\"link\" onClick={handleBack} style={{ marginRight: '20px', color: 'black' }}>\n              <FaArrowLeft />\n            </Button>\n  <h4 className=\"mb-0\">{client._id ? \"Modifier Client\" : \"Ajouter Nouveau Client\"}</h4>\n  <div style={{ float: 'right' }}>\n    {client._id && !isEditable && (\n      <>\n        <Button color=\"info\" onClick={() => setIsEditable(true)} disabled={isEditable}>Modifier</Button>\n        <Button color=\"primary\" onClick={() => {\n          if (validateForm()) {\n            saveClient(client);\n            setIsEditable(false); // Désactiver les champs après la sauvegarde\n          }\n        }} disabled={!isEditable} style={{ marginLeft: '10px' }}>Enregistrer Modifications</Button>\n      </>\n    )}\n  </div>\n</CardHeader> */}\n<CardHeader className=\"bg-white text-white\">\n  <Button color=\"link\" onClick={handleBack} style={{ marginRight: '20px', color: 'black' }}>\n    <FaArrowLeft />\n  </Button>\n  <h4 className=\"mb-0\">{client._id ? \"Modifier Client\" : \"Ajouter Nouveau Client\"}</h4>\n  <div style={{ float: 'right' }}>\n    {client._id && (\n      <>\n        <Button color=\"info\" onClick={() => setIsEditable(true)} disabled={isEditable}>Modifier</Button>\n        <Button color=\"primary\" onClick={() => {\n          if (validateForm()) {\n            saveClient(client);\n          }\n        }} disabled={!isEditable} style={{ marginLeft: '10px' }}>Enregistrer Modifications</Button>\n      </>\n    )}\n  </div>\n</CardHeader>\n\n\n          <CardBody>\n            <Nav tabs>\n              <NavItem>\n                <NavLink\n                  className={classnames({ active: activeTab === '1' })}\n                  onClick={() => { toggleTab('1'); }}\n                  style={{ cursor: 'pointer' }}\n                >\n                  Informations Générales\n                </NavLink>\n              </NavItem>\n              <NavItem>\n                <NavLink\n                  className={classnames({ active: activeTab === '2' })}\n                  onClick={() => { toggleTab('2'); }}\n                  style={{ cursor: 'pointer' }}\n                >\n                  Bilan Auditif\n                </NavLink>\n              </NavItem>\n            </Nav>\n          <TabContent activeTab={activeTab}>\n            <TabPane tabId=\"1\">\n              {/* Votre formulaire existant ici */}\n              {successMessage && (\n                <UncontrolledAlert color=\"success\" className=\"fixed-alert\" style={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 1050 }} fade={false}>\n                  <span className=\"alert-inner--icon\">\n                    <i className=\"ni ni-like-2\" />\n                  </span>\n                  <span className=\"alert-inner--text\">\n                    <strong>Succès!</strong> {successMessage}\n                  </span>\n                </UncontrolledAlert>\n              )}\n              <Form onSubmit={handleSubmit}>\n              <Row form style={{ paddingTop: '50px' }}>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"nom\">Nom</Label>\n                    <Input type=\"text\" name=\"nom\" id=\"nom\" value={client.nom} onChange={handleInputChange} required disabled={!isEditable}/>\n                    {errors.nom && <p style={{ color: 'red' }}>{errors.nom}</p>}\n                  </FormGroup>\n                </Col>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"prenom\">Prénom</Label>\n                    <Input type=\"text\" name=\"prenom\" id=\"prenom\" value={client.prenom} onChange={handleInputChange} disabled={!isEditable}/>\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row form>\n                <Col md={4}>\n                <FormGroup>\n                    <Label for=\"dateNaissance\">Date de Naissance</Label>\n                    <Input type=\"date\" name=\"dateNaissance\" id=\"dateNaissance\" value={client.dateNaissance || ''} onChange={handleInputChange} disabled={!isEditable} />\n                  </FormGroup>\n                </Col>\n                <Col md={4}>\n                  <FormGroup>\n                    <Label for=\"mutuelle\">Mutuelle</Label>\n                    <Input type=\"text\" name=\"mutuelle\" id=\"mutuelle\" value={client.mutuelle} onChange={handleInputChange} disabled={!isEditable}/>\n                  </FormGroup>\n                </Col>\n                <Col md={4}>\n                  <FormGroup>\n                    <Label for=\"numeroSecu\">Numéro de Sécurité Sociale</Label>\n                    <Input type=\"text\" name=\"numeroSecu\" id=\"numeroSecu\" value={client.numeroSecu} onChange={handleInputChange} disabled={!isEditable} />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <Row form>\n              <Col md={4}>\n              <FormGroup>\n  <Label for=\"statut\">Statut</Label>\n  <Input type=\"select\" name=\"statut\" id=\"statut\" value={client.statut} onChange={handleInputChange} disabled={!isEditable}>\n    <option value=\"\">Sélectionner un statut</option>\n    <option value=\"Rdv fixé\">Rdv fixé</option>\n    <option value=\"Rdv Annulé\">Rdv Annulé</option>\n    <option value=\"Appareillé\">Appareillé</option>\n    <option value=\"Période d'essai\">Période d'essai</option>\n    <option value=\"Facturé\">Facturé</option>\n  </Input>\n</FormGroup>\n</Col>\n</Row>\n              <Row form>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"telephoneFixe\">Téléphone Fixe</Label>\n                    <Input type=\"text\" name=\"telephoneFixe\" id=\"telephoneFixe\" value={client.telephoneFixe} onChange={handleInputChange} disabled={!isEditable}/>\n                  </FormGroup>\n                </Col>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"telephonePortable\">Téléphone Portable</Label>\n                    <Input type=\"text\" name=\"telephonePortable\" id=\"telephonePortable\" value={client.telephonePortable} onChange={handleInputChange} disabled={!isEditable}/>\n                  </FormGroup>\n                </Col>\n              </Row>\n              <FormGroup>\n                <Label for=\"adresse\">Adresse</Label>\n                <Input type=\"text\" name=\"adresse\" id=\"adresse\" value={client.adresse} onChange={handleInputChange} disabled={!isEditable} />\n              </FormGroup>\n              <Row form>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"codePostal\">Code Postal</Label>\n                    <Input type=\"text\" name=\"codePostal\" id=\"codePostal\" value={client.codePostal} onChange={handleInputChange} disabled={!isEditable} />\n                  </FormGroup>\n                </Col>\n                <Col md={6}>\n                  <FormGroup>\n                    <Label for=\"ville\">Ville</Label>\n                    <Input type=\"text\" name=\"ville\" id=\"ville\" value={client.ville} onChange={handleInputChange} disabled={!isEditable} />\n                  </FormGroup>\n                </Col>\n              </Row>\n              <FormGroup>\n                <Label for=\"email\">Email</Label>\n                <Input type=\"email\" name=\"email\" id=\"email\" value={client.email} onChange={handleInputChange} required disabled={!isEditable} />\n                {errors.email && <p style={{ color: 'red' }}>{errors.email}</p>}\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"note\">Note</Label>\n                <Input type=\"textarea\" name=\"note\" id=\"note\" value={client.note} onChange={handleInputChange} disabled={!isEditable} style={{ minHeight: '100px', maxHeight: '300px' }}/>\n              </FormGroup>\n                <Button type=\"submit\" color=\"primary\" disabled={!isEditable}>Enregistrer</Button>\n                <Button type=\"button\" color=\"secondary\" onClick={() => history.push('/admin/clients')}>Annuler</Button>\n              </Form>\n            </TabPane>\n            <TabPane tabId=\"2\">\n  {audiogrammeSuccessMessage && (\n    <UncontrolledAlert color=\"success\" className=\"fixed-alert\" fade={false}>\n      <span className=\"alert-inner--icon\"><i className=\"ni ni-like-2\" /></span>\n      <span className=\"alert-inner--text\"><strong>Succès!</strong> {audiogrammeSuccessMessage}</span>\n    </UncontrolledAlert>\n  )}\n  <Form onSubmit={handleSubmitAudiogramme} style={{ paddingTop: '50px' }}>\n    <FormGroup>\n      <Label for=\"audiogramme\">Audiogramme</Label>\n      <Input type=\"text\" name=\"audiogramme\" id=\"audiogramme\" value={client.audiogramme} onChange={handleInputChange} />\n    </FormGroup>\n    {/* Ajoutez plus de champs selon vos besoins ici */}\n    <Button type=\"submit\" color=\"primary\">Enregistrer Bilan</Button>\n  </Form>\n</TabPane>\n\n          </TabContent>\n        </CardBody>\n      </Card>\n      \n    </Container>\n    \n    </div>\n  );\n}\n  \n\nexport default NouveauClient;\n","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\config.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Headers\\EditHeader.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Headers\\Header.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\components\\Headers\\UserHeader.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\variables\\charts.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\ClientStatusPage.js",["330"],"import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { Container, Row, Card, CardHeader, CardBody } from \"reactstrap\";\r\nimport Header from \"components/Headers/Header.js\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\r\nimport ToolkitProvider from \"react-bootstrap-table2-toolkit/dist/react-bootstrap-table2-toolkit.min\";\r\nimport axios from 'axios';\r\nconst formatDate = (isoString) => {\r\n  if (!isoString) return '';\r\n  const date = new Date(isoString);\r\n  return date.toLocaleDateString('fr-FR');  // ou 'en-US' selon le format local que vous préférez\r\n}\r\nconst ClientStatusPage = () => {\r\n  const { status } = useParams(); // Récupérer le statut de l'URL\r\n  const [clients, setClients] = useState([]); // État pour stocker les clients\r\n  \r\n  const history = useHistory();\r\n  // const totalClients = clients.length; // Nombre total de clients affichés\r\n  const [totalClientsStatus, setTotalClients] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchClientsByStatus = async () => {\r\n      try {\r\n        const response = await axios.get(`https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/by-status/${status}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token').trim().replace('JWT ', '')}`\r\n          }\r\n        });\r\n        setClients(response.data);\r\n        setTotalClients(response.data.length);\r\n        console.log(\"Clients mis à jour avec le statut\", status, \":\", response.data);\r\n      } catch (err) {\r\n        console.error('Error fetching clients:', err);\r\n      }\r\n    };\r\n\r\n    fetchClientsByStatus();\r\n  }, [status]);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('totalClientsStatus', totalClientsStatus);\r\n  }, [totalClientsStatus]);\r\n\r\n const columns = [\r\n    { dataField: \"_id\", text: \"ID\", hidden: true },\r\n    { dataField: \"nom\", text: \"Nom\", sort: true },  // Permet le tri sur la colonne \"Nom\"\r\n    { dataField: \"prenom\", text: \"Prénom\", sort: true },  // Permet le tri sur la colonne \"Prénom\"\r\n    { dataField: \"email\", text: \"Email\", sort: true },  // Permet le tri sur la colonne \"Email\"\r\n    { dataField: \"telephonePortable\", text: \"Téléphone Portable\", sort: true },  // Permet le tri sur la colonne \"Téléphone Portable\"\r\n    { dataField: \"ville\", text: \"Ville\", sort: true },  // Permet le tri sur la colonne \"Ville\"\r\n    {\r\n      dataField: \"dateNaissance\",\r\n      text: \"Date de Naissance\",\r\n  formatter: (cellContent, row) => formatDate(row.dateNaissance),\r\n      sort: true  // Permet le tri sur la colonne \"Date de Naissance\"\r\n    },\r\n    {\r\n      dataField: 'actions',\r\n      text: 'Actions',\r\n      formatter: (cell, row) => (\r\n        <div>\r\n          {/* <Button color=\"primary\" size=\"sm\" onClick={() => handleEditClient(row)}>\r\n            <i className=\"fas fa-pencil-alt\" />\r\n          </Button> */}\r\n          {' '}\r\n          {/* <Button color=\"danger\" size=\"sm\" onClick={() => handleDeleteClient(row._id)}>\r\n            <i className=\"fas fa-trash\" />\r\n          </Button> */}\r\n        </div>\r\n      )\r\n    }\r\n  ];\r\n  const tablePagination = paginationFactory({\r\n    page: 1,\r\n    sizePerPage: 10,\r\n    lastPageText: '>>',\r\n    firstPageText: '<<',\r\n    nextPageText: '>',\r\n    prePageText: '<',\r\n    // showTotal: true,\r\n    alwaysShowAllBtns: true,\r\n    onPageChange: function (page, sizePerPage) {\r\n      console.log('page', page);\r\n      console.log('sizePerPage', sizePerPage);\r\n    },\r\n    onSizePerPageChange: function (page, sizePerPage) {\r\n      console.log('page', page);\r\n      console.log('sizePerPage', sizePerPage);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Header totalClientsStatus={totalClientsStatus}/>\r\n      <Container className=\"mt--7\" fluid>\r\n        <Row>\r\n          <div className=\"col\">\r\n            <Card className=\"shadow\">\r\n              <CardHeader className=\"border-0\">\r\n                <h3 className=\"mb-0\">Clients avec le statut: {status} - (Total : {totalClientsStatus})</h3>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <ToolkitProvider keyField=\"id\" data={clients} columns={columns} search>\r\n                  {props => (\r\n                    <BootstrapTable\r\n                      {...props.baseProps}\r\n                      pagination={tablePagination}\r\n                      bordered={false}\r\n                    />\r\n                  )}\r\n                </ToolkitProvider>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ClientStatusPage;\r\n","C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Agenda.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\variables\\general.js",[],["331","332"],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\Factures.js",["333","334","335","336"],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\StatusContext.js",[],"C:\\Users\\esthe\\OneDrive\\Desktop\\Projet Code\\CRM-main\\front-end\\src\\views\\examples\\NouvelleFacture.js",["337"],"import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { FaArrowLeft } from 'react-icons/fa'; \r\n\r\nimport {\r\n  Button, Card, CardBody, CardHeader, Form, FormGroup, Input, Label, Container, Row, Col, UncontrolledAlert,\r\n  Nav, NavItem, NavLink, TabContent, TabPane\r\n} from \"reactstrap\";\r\nimport classnames from 'classnames';\r\n\r\nfunction formatDate(dateString) {\r\n  const date = new Date(dateString);\r\n  const year = date.getFullYear();\r\n  const month = ('0' + (date.getMonth() + 1)).slice(-2);\r\n  const day = ('0' + date.getDate()).slice(-2);\r\n  return `${year}-${month}-${day}`;\r\n}\r\n\r\nconst NouvelleFacture = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [facture, setFacture] = useState({\r\n    objet: \"\",\r\n    dateFacture: \"\",\r\n    heureCreation: \"\",\r\n    nomClient: \"\",\r\n    totalGeneral: \"\",\r\n    statut: \"\" \r\n  });\r\n  const [isEditable, setIsEditable] = useState(!location.state || !location.state.facture);\r\n  const [activeTab, setActiveTab] = useState('1');\r\n  //const [audiogrammeSuccessMessage, setAudiogrammeSuccessMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Si un facture est passé dans l'état, utilisez ses valeurs pour initialiser le formulaire\r\n    if (location.state && location.state.facture) {\r\n      const formattedFactures = {\r\n        ...location.state.facture,\r\n        dateNaissance: formatDate(location.state.facture.dateNaissance)\r\n      };\r\n      setFacture(formattedFactures);\r\n    }\r\n  }, [location.state]);\r\n\r\n  const toggleTab = tab => {\r\n    if(activeTab !== tab) setActiveTab(tab);\r\n  };\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  const isMounted = useRef(false);\r\n\r\nuseEffect(() => {\r\n  isMounted.current = true;\r\n  return () => {\r\n    isMounted.current = false;  // Nettoyage en démontant le composant\r\n  };\r\n}, []);\r\n\r\n  const validateForm = () => {\r\n    let tempErrors = {};\r\n    let formIsValid = true;\r\n\r\n    if (!facture.objet.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"objet\"] = \"L'objet est requis.\";\r\n    }\r\n\r\n    if (!facture.email.trim()) {\r\n      formIsValid = false;\r\n      tempErrors[\"email\"] = \"L'email est requis.\";\r\n    }\r\n\r\n    setErrors(tempErrors);\r\n    return formIsValid;\r\n  };\r\n\r\n\r\nconst saveFactures = async (factureData) => {\r\n  const url = factureData._id ? `https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/${factureData._id}` : 'https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/add';\r\n  const method = factureData._id ? 'PUT' : 'POST';\r\n\r\n  console.log('Envoi des données du facture:', factureData);  // Log des données envoyées\r\n\r\n  try {\r\n      const response = await fetch(url, {\r\n          method: method,\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n              'Authorization': localStorage.getItem('token')\r\n          },\r\n          body: JSON.stringify(factureData)\r\n      });\r\n\r\n      console.log('Statut de la réponse:', response.status);  // Log du statut de réponse HTTP\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        console.log('Erreur lors de l\\'enregistrement:', data);  // Log de l'erreur\r\n        toast.error(`Erreur: ${data.message}`);\r\n        return;\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('Réponse du serveur:', data);  // Log de la réponse\r\n      toast.success(\"Le facture a été ajouté/modifié avec succès !\");\r\n      setIsEditable(false);\r\n      // setTimeout(() => {\r\n      //     history.push('/admin/factures');\r\n      // }, 3000);\r\n  } catch (error) {\r\n      console.error('Erreur lors de l\\'opération sur le facture:', error);\r\n      toast.error(`Erreur lors de l'opération sur le facture: ${error.message}`);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFacture({ ...facture, [name]: value });\r\n    // Clear errors\r\n    if (!!errors[name]) setErrors({ ...errors, [name]: null });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (validateForm()) {\r\n      saveFactures(facture);\r\n    }\r\n  };\r\n  const handleSubmitAudiogramme = async (e) => {\r\n    e.preventDefault();\r\n    const audiogrammeData = {\r\n      ...facture,\r\n      audiogramme: facture.audiogramme\r\n    };\r\n  \r\n    const url = facture._id ? `https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/${facture._id}` : 'https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/add';\r\n    const method = facture._id ? 'PUT' : 'POST';\r\n  \r\n    try {\r\n      const response = await fetch(url, {\r\n        method: method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': localStorage.getItem('token')\r\n        },\r\n        body: JSON.stringify(audiogrammeData)\r\n      });\r\n  \r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`HTTP status ${response.status}: ${errorText}`);\r\n      }\r\n  \r\n      const data = await response.json();\r\n      console.log('Opération réussie:', data);\r\n      // setAudiogrammeSuccessMessage(\"Le bilan auditif a été enregistré avec succès.\");\r\n      setTimeout(() => {\r\n        //setAudiogrammeSuccessMessage(\"\");\r\n        history.push('/admin/factures'); // Redirection après l'affichage du message de succès\r\n      }, 3000); // Affichage du message pendant 3 secondes\r\n  \r\n    } catch (error) {\r\n      console.error(\"Erreur lors de l'enregistrement du bilan auditif:\", error);\r\n      setErrors({ form: \"Erreur lors de l'opération sur le bilan auditif.\" });\r\n    }\r\n  };\r\n  const handleBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n      //  <div style={{ paddingTop: '50px', background: 'linear-gradient(87deg, #11cdef 0, #1171ef 100%)' }}>\r\n      <div style={{ paddingTop: '50px', background: 'linear-gradient(87deg, #003D33 0, #007D70 100%)' }}>\r\n    <Container className=\"mt-5\">\r\n      <Card>\r\n      <ToastContainer position=\"bottom-left\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />          \r\n<CardHeader className=\"bg-white text-white\">\r\n  <Button color=\"link\" onClick={handleBack} style={{ marginRight: '20px', color: 'black' }}>\r\n    <FaArrowLeft />\r\n  </Button>\r\n  <h4 className=\"mb-0\">{facture._id ? \"Modifier Factures\" : \"Ajouter Nouvelle Facture\"}</h4>\r\n  <div style={{ float: 'right' }}>\r\n    {facture._id && (\r\n      <>\r\n        <Button color=\"info\" onClick={() => setIsEditable(true)} disabled={isEditable}>Modifier</Button>\r\n        <Button color=\"primary\" onClick={() => {\r\n          if (validateForm()) {\r\n            saveFactures(facture);\r\n          }\r\n        }} disabled={!isEditable} style={{ marginLeft: '10px' }}>Enregistrer Modifications</Button>\r\n      </>\r\n    )}\r\n  </div>\r\n</CardHeader>\r\n\r\n\r\n          <CardBody>\r\n            <Nav tabs>\r\n              <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '1' })}\r\n                  onClick={() => { toggleTab('1'); }}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Informations Générales\r\n                </NavLink>\r\n              </NavItem>\r\n              {/* <NavItem>\r\n                <NavLink\r\n                  className={classnames({ active: activeTab === '2' })}\r\n                  onClick={() => { toggleTab('2'); }}\r\n                  style={{ cursor: 'pointer' }}\r\n                >\r\n                  Bilan Auditif\r\n                </NavLink>\r\n              </NavItem> */}\r\n            </Nav>\r\n          <TabContent activeTab={activeTab}>\r\n            <TabPane tabId=\"1\">\r\n              {/* Votre formulaire existant ici */}\r\n              {successMessage && (\r\n                <UncontrolledAlert color=\"success\" className=\"fixed-alert\" style={{ position: 'fixed', top: 0, left: 0, right: 0, zIndex: 1050 }} fade={false}>\r\n                  <span className=\"alert-inner--icon\">\r\n                    <i className=\"ni ni-like-2\" />\r\n                  </span>\r\n                  <span className=\"alert-inner--text\">\r\n                    <strong>Succès!</strong> {successMessage}\r\n                  </span>\r\n                </UncontrolledAlert>\r\n              )}\r\n              <Form onSubmit={handleSubmit}>\r\n              <Row form style={{ paddingTop: '50px' }}>\r\n              <Col md={6}>\r\n                <FormGroup>\r\n                  <Label for=\"objet\">Objet</Label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"objet\"\r\n                    id=\"objet\"\r\n                    value={facture.objet}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col md={6}>\r\n                <FormGroup>\r\n                  <Label for=\"nomClient\">Nom du Client</Label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    name=\"nomClient\"\r\n                    id=\"nomClient\"\r\n                    value={facture.nomClient}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              </Row>\r\n              <Row form>\r\n              <Col md={4}>\r\n                <FormGroup>\r\n                  <Label for=\"dateFacture\">Date de la Facture</Label>\r\n                  <Input\r\n                    type=\"date\"\r\n                    name=\"dateFacture\"\r\n                    id=\"dateFacture\"\r\n                    value={facture.dateFacture}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col md={4}>\r\n                <FormGroup>\r\n                  <Label for=\"heureCreation\">Heure de Création</Label>\r\n                  <Input\r\n                    type=\"time\"\r\n                    name=\"heureCreation\"\r\n                    id=\"heureCreation\"\r\n                    value={facture.heureCreation}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col md={4}>\r\n                <FormGroup>\r\n                  <Label for=\"totalGeneral\">Total Général</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"totalGeneral\"\r\n                    id=\"totalGeneral\"\r\n                    value={facture.totalGeneral}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              </Row>\r\n              <Row>\r\n              <Col md={12}>\r\n                <FormGroup>\r\n                  <Label for=\"statut\">Statut</Label>\r\n                  <Input\r\n                    type=\"select\"\r\n                    name=\"statut\"\r\n                    id=\"statut\"\r\n                    value={facture.statut}\r\n                    onChange={handleInputChange}\r\n                  >\r\n                    <option value=\"\">Sélectionner un statut</option>\r\n                    <option value=\"Envoyée\">Envoyée</option>\r\n                    <option value=\"Payée\">Payée</option>\r\n                    <option value=\"Annulée\">Annulée</option>\r\n                    <option value=\"Créée\">Créée</option>\r\n                  </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n              <Row form>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"telephoneFixe\">Téléphone Fixe</Label>\r\n                    <Input type=\"text\" name=\"telephoneFixe\" id=\"telephoneFixe\" value={facture.telephoneFixe} onChange={handleInputChange} disabled={!isEditable}/>\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"telephonePortable\">Téléphone Portable</Label>\r\n                    <Input type=\"text\" name=\"telephonePortable\" id=\"telephonePortable\" value={facture.telephonePortable} onChange={handleInputChange} disabled={!isEditable}/>\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <FormGroup>\r\n                <Label for=\"adresse\">Adresse</Label>\r\n                <Input type=\"text\" name=\"adresse\" id=\"adresse\" value={facture.adresse} onChange={handleInputChange} disabled={!isEditable} />\r\n              </FormGroup>\r\n              <Row form>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"codePostal\">Code Postal</Label>\r\n                    <Input type=\"text\" name=\"codePostal\" id=\"codePostal\" value={facture.codePostal} onChange={handleInputChange} disabled={!isEditable} />\r\n                  </FormGroup>\r\n                </Col>\r\n                <Col md={6}>\r\n                  <FormGroup>\r\n                    <Label for=\"ville\">Ville</Label>\r\n                    <Input type=\"text\" name=\"ville\" id=\"ville\" value={facture.ville} onChange={handleInputChange} disabled={!isEditable} />\r\n                  </FormGroup>\r\n                </Col>\r\n              </Row>\r\n              <FormGroup>\r\n                <Label for=\"email\">Email</Label>\r\n                <Input type=\"email\" name=\"email\" id=\"email\" value={facture.email} onChange={handleInputChange} required disabled={!isEditable} />\r\n                {errors.email && <p style={{ color: 'red' }}>{errors.email}</p>}\r\n              </FormGroup>\r\n              <FormGroup>\r\n                <Label for=\"note\">Note</Label>\r\n                <Input type=\"textarea\" name=\"note\" id=\"note\" value={facture.note} onChange={handleInputChange} disabled={!isEditable} style={{ minHeight: '100px', maxHeight: '300px' }}/>\r\n              </FormGroup>\r\n                <Button type=\"submit\" color=\"primary\" disabled={!isEditable}>Enregistrer</Button>\r\n                <Button type=\"button\" color=\"secondary\" onClick={() => history.push('/admin/factures')}>Annuler</Button>\r\n              </Form>\r\n            </TabPane>\r\n            <TabPane tabId=\"2\">\r\n  {/* {audiogrammeSuccessMessage && (\r\n    <UncontrolledAlert color=\"success\" className=\"fixed-alert\" fade={false}>\r\n      <span className=\"alert-inner--icon\"><i className=\"ni ni-like-2\" /></span>\r\n      <span className=\"alert-inner--text\"><strong>Succès!</strong> {audiogrammeSuccessMessage}</span>\r\n    </UncontrolledAlert>\r\n  )} */}\r\n  <Form onSubmit={handleSubmitAudiogramme} style={{ paddingTop: '50px' }}>\r\n    <FormGroup>\r\n      <Label for=\"audiogramme\">Audiogramme</Label>\r\n      <Input type=\"text\" name=\"audiogramme\" id=\"audiogramme\" value={facture.audiogramme} onChange={handleInputChange} />\r\n    </FormGroup>\r\n    {/* Ajoutez plus de champs selon vos besoins ici */}\r\n    <Button type=\"submit\" color=\"primary\">Enregistrer Bilan</Button>\r\n  </Form>\r\n</TabPane>\r\n\r\n          </TabContent>\r\n        </CardBody>\r\n      </Card>\r\n      \r\n    </Container>\r\n    \r\n    </div>\r\n  );\r\n}\r\n  \r\n\r\nexport default NouvelleFacture;\r\n",{"ruleId":"338","replacedBy":"339"},{"ruleId":"340","replacedBy":"341"},{"ruleId":"342","severity":1,"message":"343","line":8,"column":8,"nodeType":"344","messageId":"345","endLine":8,"endColumn":20},{"ruleId":"342","severity":1,"message":"346","line":11,"column":8,"nodeType":"344","messageId":"345","endLine":11,"endColumn":21},{"ruleId":"342","severity":1,"message":"347","line":12,"column":8,"nodeType":"344","messageId":"345","endLine":12,"endColumn":23},{"ruleId":"342","severity":1,"message":"348","line":13,"column":8,"nodeType":"344","messageId":"345","endLine":13,"endColumn":28},{"ruleId":"349","severity":1,"message":"350","line":67,"column":42,"nodeType":"351","endLine":69,"endColumn":1},{"ruleId":"349","severity":1,"message":"350","line":82,"column":10,"nodeType":"351","endLine":85,"endColumn":1},{"ruleId":"342","severity":1,"message":"352","line":58,"column":26,"nodeType":"344","messageId":"345","endLine":58,"endColumn":43},{"ruleId":"342","severity":1,"message":"353","line":410,"column":9,"nodeType":"344","messageId":"345","endLine":410,"endColumn":29},{"ruleId":"342","severity":1,"message":"354","line":416,"column":9,"nodeType":"344","messageId":"345","endLine":416,"endColumn":29},{"ruleId":"338","replacedBy":"355"},{"ruleId":"340","replacedBy":"356"},{"ruleId":"338","replacedBy":"357"},{"ruleId":"340","replacedBy":"358"},{"ruleId":"342","severity":1,"message":"359","line":7,"column":8,"nodeType":"344","messageId":"345","endLine":7,"endColumn":13},{"ruleId":"342","severity":1,"message":"360","line":6,"column":3,"nodeType":"344","messageId":"345","endLine":6,"endColumn":8},{"ruleId":"342","severity":1,"message":"361","line":22,"column":3,"nodeType":"344","messageId":"345","endLine":22,"endColumn":22},{"ruleId":"342","severity":1,"message":"362","line":28,"column":8,"nodeType":"344","messageId":"345","endLine":28,"endColumn":18},{"ruleId":"342","severity":1,"message":"363","line":29,"column":8,"nodeType":"344","messageId":"345","endLine":29,"endColumn":16},{"ruleId":"364","severity":1,"message":"365","line":106,"column":27,"nodeType":"366","endLine":106,"endColumn":69},{"ruleId":"364","severity":1,"message":"365","line":124,"column":29,"nodeType":"366","endLine":124,"endColumn":71},{"ruleId":"342","severity":1,"message":"353","line":475,"column":9,"nodeType":"344","messageId":"345","endLine":475,"endColumn":29},{"ruleId":"342","severity":1,"message":"354","line":481,"column":9,"nodeType":"344","messageId":"345","endLine":481,"endColumn":29},{"ruleId":"342","severity":1,"message":"352","line":60,"column":26,"nodeType":"344","messageId":"345","endLine":60,"endColumn":43},{"ruleId":"342","severity":1,"message":"367","line":18,"column":9,"nodeType":"344","messageId":"345","endLine":18,"endColumn":16},{"ruleId":"338","replacedBy":"368"},{"ruleId":"340","replacedBy":"369"},{"ruleId":"342","severity":1,"message":"370","line":29,"column":23,"nodeType":"344","messageId":"345","endLine":29,"endColumn":37},{"ruleId":"342","severity":1,"message":"371","line":30,"column":25,"nodeType":"344","messageId":"345","endLine":30,"endColumn":41},{"ruleId":"342","severity":1,"message":"372","line":31,"column":10,"nodeType":"344","messageId":"345","endLine":31,"endColumn":21},{"ruleId":"342","severity":1,"message":"373","line":131,"column":9,"nodeType":"344","messageId":"345","endLine":131,"endColumn":21},{"ruleId":"342","severity":1,"message":"352","line":52,"column":26,"nodeType":"344","messageId":"345","endLine":52,"endColumn":43},"no-native-reassign",["374"],"no-negated-in-lhs",["375"],"no-unused-vars","'ConfirmEmail' is defined but never used.","Identifier","unusedVar","'ResetPassword' is defined but never used.","'ConfirmPassword' is defined but never used.","'ResetPasswordSuccess' is defined but never used.","react/jsx-no-comment-textnodes","Comments inside children section of tag should be placed inside braces","Literal","'setSuccessMessage' is assigned a value but never used.","'sendEmailsToSelected' is assigned a value but never used.","'handleSelectAllClick' is assigned a value but never used.",["374"],["375"],["374"],["375"],"'Icons' is defined but never used.","'Badge' is defined but never used.","'UncontrolledTooltip' is defined but never used.","'angularImg' is defined but never used.","'team1Img' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'history' is assigned a value but never used.",["374"],["375"],"'setIsUploading' is assigned a value but never used.","'setUploadSuccess' is assigned a value but never used.","'uploadError' is assigned a value but never used.","'deleteButton' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]