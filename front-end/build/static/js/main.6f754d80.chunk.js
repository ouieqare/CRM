(this.webpackJsonpvtalys=this.webpackJsonpvtalys||[]).push([[0],{161:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/white.ff43f0eb.png"},184:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/sketch.a6af780a.jpg"},213:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/profile-cover.97899245.jpg"},248:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/logo.e79bef8d.png"},249:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/google.eae9aa93.svg"},287:function(e,a,t){},289:function(e,a,t){},338:function(e,a,t){"use strict";t.r(a),a.default=t.p+"static/media/team-1-800x800.fa5a7ac2.jpg"},609:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(29),c=t.n(l),o=t(19),s=t(28),i=(t(287),t(288),t(289),t(68),t(7)),m=t(8),u=t(13),d=t(14),p=t(616),E=t(12),f=t.n(E),g=t(16),h=t(615),b=t(617),v=t(618),N=t(619),x=t(620),y=t(266),k=t(621),w=t(622),O=t(648),C=t(649),j=t(623),S=t(650),F=t(624),T=t(77),A=t.n(T),D={WS_BASE_URL:"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/",DOMAIN_NAME:"https://ouieqare-crm-336f65ca3acc.herokuapp.com",DEMO:!0},P=A.a.create({baseURL:D.WS_BASE_URL});P.interceptors.request.use(function(){var e=Object(g.a)(f.a.mark((function e(a){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),a.headers.Authorization=t||"",a.headers.ContentType="application/json",e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}());var I=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("users/all");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(f.a.mark((function e(a,t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to register to:","".concat(D.WS_BASE_URL,"users/register")),e.next=3,P.post("/users/register",{name:a,email:t,password:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("users/confirm/".concat(a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("users/forgotpassword",{email:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(f.a.mark((function e(a,t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("users/resetpass/".concat(a),{password:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),q=function(){var e=Object(g.a)(f.a.mark((function e(a,t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Attempting to login to:","".concat(D.WS_BASE_URL,"/users/login")),e.next=3,P.post("/users/login",{email:a,password:t});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),B=function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Sending logout request with token:",a),e.next=3,P.post("users/logout",{token:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(g.a)(f.a.mark((function e(a,t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/users/edit",{userID:a,name:t,email:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),U=function(e){var a=JSON.parse(localStorage.getItem("user")).name,n=function(){var a=Object(g.a)(f.a.mark((function a(){var t,n,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!(t=localStorage.getItem("token"))){a.next=8;break}return a.next=5,B(t);case 5:n=a.sent,(r=n.data).success?(localStorage.removeItem("token"),localStorage.removeItem("user"),e.history.push("/auth/login")):console.error("\xc9chec de la d\xe9connexion:",r.message);case 8:a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error("Erreur lors de la d\xe9connexion:",a.t0.response?a.t0.response.data:a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"navbar-top navbar-dark",expand:"md",id:"navbar-main"},r.a.createElement(p.a,{fluid:!0},r.a.createElement(o.b,{className:"h4 mb-0 text-white text-uppercase d-none d-lg-inline-block",to:"/"},e.brandText),r.a.createElement(b.a,{className:"navbar-search navbar-search-dark form-inline mr-3 d-none d-md-flex ml-lg-auto"},r.a.createElement(v.a,{className:"mb-0"},r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"fas fa-search"}))),r.a.createElement(k.a,{placeholder:"Search",type:"text"})))),r.a.createElement(w.a,{className:"align-items-center d-none d-md-flex",navbar:!0},r.a.createElement(O.a,{nav:!0},r.a.createElement(C.a,{className:"pr-0",nav:!0},r.a.createElement(j.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:t(184).default})),r.a.createElement(j.a,{className:"ml-2 d-none d-lg-block"},r.a.createElement("span",{className:"mb-0 text-sm font-weight-bold"},a)))),r.a.createElement(S.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Bienvenue!")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"Mon profil")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-settings-gear-65"}),r.a.createElement("span",null,"Param\xe8tres")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-calendar-grid-58"}),r.a.createElement("span",null,"Activit\xe9")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-support-16"}),r.a.createElement("span",null,"Support")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-badge"}),r.a.createElement("span",null,"Mon Abonnement")),r.a.createElement(F.a,{divider:!0}),r.a.createElement(F.a,{href:"#!",onClick:n},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Deconnexion"))))))))},J=t(625),W=t(626),V=t(627),H=t(628),G=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(J.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(W.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2024"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"https://www.ouieqare.com/",rel:"noopener noreferrer",target:"_blank"},"Vtalys"))),r.a.createElement(W.a,{xl:"6"},r.a.createElement(w.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://www.ouieqare.com/",rel:"noopener noreferrer",target:"_blank"},"Vtalys")),r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://www.ouieqare.com/",rel:"noopener noreferrer",target:"_blank"},"About Us")),r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://www.ouieqare.com/",rel:"noopener noreferrer",target:"_blank"},"Blog")),r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://www.ouieqare.com/",rel:"noopener noreferrer",target:"_blank"},"MIT License"))))))}}]),t}(r.a.Component),Y=t(25),K=t(271),Q=t(629),Z=function(e){Object(u.a)(n,e);var a=Object(d.a)(n);function n(e){var t;return Object(i.a)(this,n),(t=a.call(this,e)).state={collapseOpen:!1},t.toggleCollapse=function(){t.setState({collapseOpen:!t.state.collapseOpen})},t.closeCollapse=function(){t.setState({collapseOpen:!1})},t.createLinks=function(e){return e.map((function(e,a){return e.hidden?null:e.children&&e.children.length>0?r.a.createElement(V.a,{key:a,className:t.activeRoute(e.layout+e.path)},r.a.createElement(H.a,{href:"#",onClick:function(a){a.preventDefault(),t.setState({[e.name]:!t.state[e.name]})}},r.a.createElement("i",{className:e.icon}),e.name," ",r.a.createElement("i",{className:"ni ni-bold-down"})),r.a.createElement(K.a,{isOpen:t.state[e.name]},r.a.createElement(w.a,{className:"nav-sm flex-column"},e.children.map((function(e,a){return r.a.createElement(V.a,{key:"child-".concat(a)},r.a.createElement(H.a,{to:e.layout+e.path,tag:o.c,onClick:t.closeCollapse},r.a.createElement("span",{className:"sidenav-normal"}," ",e.name," ")))}))))):r.a.createElement(V.a,{key:a,className:t.activeRoute(e.layout+e.path)},r.a.createElement(H.a,{to:e.layout+e.path,tag:o.c,onClick:t.closeCollapse},r.a.createElement("i",{className:e.icon}),e.name))}))},t.createApiLinks=function(e){return e.map((function(e,a){return"/admin"===e.layout&&e.api?r.a.createElement(V.a,{key:a},r.a.createElement(H.a,{to:e.layout+e.path,tag:o.c,onClick:t.closeCollapse,activeClassName:"active"},r.a.createElement("i",{className:e.icon}),e.name)):null}))},t.activeRoute.bind(Object(Y.a)(t)),t}return Object(m.a)(n,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"render",value:function(){var e,a=this.props,n=a.routes,l=a.logo;return l&&l.innerLink?e={to:l.innerLink,tag:o.b}:l&&l.outterLink&&(e={href:l.outterLink,target:"_blank"}),r.a.createElement(h.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(p.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),l?r.a.createElement(Q.a,Object.assign({className:"pt-0"},e),r.a.createElement("img",{alt:l.imgAlt,className:"navbar-brand-img",src:l.imgSrc})):null,r.a.createElement(w.a,{className:"align-items-center d-md-none"},r.a.createElement(O.a,{nav:!0},r.a.createElement(C.a,{nav:!0,className:"nav-link-icon"},r.a.createElement("i",{className:"ni ni-bell-55"})),r.a.createElement(S.a,{"aria-labelledby":"navbar-default_dropdown_1",className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,null,"Action"),r.a.createElement(F.a,null,"Another action"),r.a.createElement(F.a,{divider:!0}),r.a.createElement(F.a,null,"Something else here"))),r.a.createElement(O.a,{nav:!0},r.a.createElement(C.a,{nav:!0},r.a.createElement(j.a,{className:"align-items-center"},r.a.createElement("span",{className:"avatar avatar-sm rounded-circle"},r.a.createElement("img",{alt:"...",src:t(338)})))),r.a.createElement(S.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,{className:"noti-title",header:!0,tag:"div"},r.a.createElement("h6",{className:"text-overflow m-0"},"Bienvenue!")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",null,"My profile")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-settings-gear-65"}),r.a.createElement("span",null,"Settings")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-calendar-grid-58"}),r.a.createElement("span",null,"Activity")),r.a.createElement(F.a,{to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-support-16"}),r.a.createElement("span",null,"Support")),r.a.createElement(F.a,{divider:!0}),r.a.createElement(F.a,{href:"#pablo",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"ni ni-user-run"}),r.a.createElement("span",null,"Logout"))))),r.a.createElement(K.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(J.a,null,l?r.a.createElement(W.a,{className:"collapse-brand",xs:"6"},l.innerLink?r.a.createElement(o.b,{to:l.innerLink},r.a.createElement("img",{alt:l.imgAlt,src:l.imgSrc})):r.a.createElement("a",{href:l.outterLink},r.a.createElement("img",{alt:l.imgAlt,src:l.imgSrc}))):null,r.a.createElement(W.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(b.a,{className:"mt-4 mb-3 d-md-none"},r.a.createElement(N.a,{className:"input-group-rounded input-group-merge"},r.a.createElement(k.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("span",{className:"fa fa-search"}))))),r.a.createElement(w.a,{navbar:!0},this.createLinks(n)),r.a.createElement("hr",{className:"my-3"}),r.a.createElement("h6",{className:"navbar-heading text-muted"},"API routes"),r.a.createElement(w.a,{navbar:!0},this.createApiLinks(n)),r.a.createElement("hr",{className:"my-3"}))))}}]),n}(r.a.Component);Z.defaultProps={routes:[{}]};var $=Z,X=t(5),ee=t.n(X),ae=t(51),te=t.n(ae),ne=t(167),re=t(630),le=t(633),ce=t(631),oe=t(267),se=t(634),ie=t(635),me=t(67),ue=t(632),de=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).fetchCounts=Object(g.a)(f.a.mark((function e(){var a,t,r,l,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token")){e.next=4;break}return console.error("No token found"),e.abrupt("return");case 4:return e.prev=4,t={Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))},console.log("Sending request to fetch counts with token:",a),e.next=9,Promise.all([fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/counts/total",{headers:t}),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/counts/appareilles",{headers:t}),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/counts/factures",{headers:t})]);case 9:if(r=e.sent,console.log("Responses received:",r),!r.some((function(e){return!e.ok}))){e.next=16;break}return e.next=14,Promise.all(r.map((function(e){return e.text()})));case 14:throw l=e.sent,new Error("Failed to fetch counts: ".concat(l.join(", ")));case 16:return e.next=18,Promise.all(r.map((function(e){if(!e.ok)throw new Error("Failed to fetch counts: ".concat(e.status," - ").concat(e.statusText));return e.json()})));case 18:c=e.sent,console.log("Counts data:",c),n.setState({totalClients:c[0].totalClients||0,totalAppareilles:c[1].totalAppareilles||0,totalFactures:c[2].totalFactures||0}),console.log("Updated state:",n.state),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),console.error("Error fetching counts:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[4,24]])}))),n.state={totalClients:localStorage.getItem("totalClients")||0,totalAppareilles:0,totalFactures:0},n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.fetchCounts()}},{key:"render",value:function(){var e=this.state,a=e.totalAppareilles,t=e.totalFactures;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-8 pt-5 pt-md-8",style:{background:"linear-gradient(87deg, #003D33 0, #007D70 100%)"}},r.a.createElement(p.a,{fluid:!0},r.a.createElement("div",{className:"header-body"},r.a.createElement(J.a,null,r.a.createElement(W.a,{lg:"6",xl:"3"},r.a.createElement(re.a,{className:"card-stats mb-4 mb-xl-0"},r.a.createElement(ce.a,null,r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(ue.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Nombre Clients"),r.a.createElement("span",{className:"h2 font-weight-bold mb-0"},this.state.totalClients)),r.a.createElement(W.a,{className:"col-auto"},r.a.createElement("div",{className:"icon icon-shape bg-danger text-white rounded-circle shadow"},r.a.createElement("i",{className:"fas fa-chart-bar"})))),r.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},r.a.createElement("span",{className:"text-success mr-2"},r.a.createElement("i",{className:"fa fa-arrow-up"})," 3.48%")," ",r.a.createElement("span",{className:"text-nowrap"},"Depuis le mois dernier"))))),r.a.createElement(W.a,{lg:"6",xl:"3"},r.a.createElement(re.a,{className:"card-stats mb-4 mb-xl-0"},r.a.createElement(ce.a,null,r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(ue.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Appareill\xe9s"),r.a.createElement("span",{className:"h2 font-weight-bold mb-0"},a)),r.a.createElement(W.a,{className:"col-auto"},r.a.createElement("div",{className:"icon icon-shape bg-yellow text-white rounded-circle shadow"},r.a.createElement("i",{className:"fas fa-users"})))),r.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},r.a.createElement("span",{className:"text-warning mr-2"},r.a.createElement("i",{className:"fas fa-arrow-down"})," 1.10%")," ",r.a.createElement("span",{className:"text-nowrap"},"Depuis hier"))))),r.a.createElement(W.a,{lg:"6",xl:"3"},r.a.createElement(re.a,{className:"card-stats mb-4 mb-xl-0"},r.a.createElement(ce.a,null,r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(ue.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Factur\xe9s"),r.a.createElement("span",{className:"h2 font-weight-bold mb-0"},t)),r.a.createElement(W.a,{className:"col-auto"},r.a.createElement("div",{className:"icon icon-shape bg-yellow text-white rounded-circle shadow"},r.a.createElement("i",{className:"fas fa-users"})))),r.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},r.a.createElement("span",{className:"text-warning mr-2"},r.a.createElement("i",{className:"fas fa-arrow-down"})," 1.10%")," ",r.a.createElement("span",{className:"text-nowrap"},"Depuis hier"))))),r.a.createElement(W.a,{lg:"6",xl:"3"},r.a.createElement(re.a,{className:"card-stats mb-4 mb-xl-0"},r.a.createElement(ce.a,null,r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(ue.a,{tag:"h5",className:"text-uppercase text-muted mb-0"},"Performance"),r.a.createElement("span",{className:"h2 font-weight-bold mb-0"},"49,65%")),r.a.createElement(W.a,{className:"col-auto"},r.a.createElement("div",{className:"icon icon-shape bg-info text-white rounded-circle shadow"},r.a.createElement("i",{className:"fas fa-percent"})))),r.a.createElement("p",{className:"mt-3 mb-0 text-muted text-sm"},r.a.createElement("span",{className:"text-success mr-2"},r.a.createElement("i",{className:"fas fa-arrow-up"})," 12%")," ",r.a.createElement("span",{className:"text-nowrap"},"Depuis le mois dernier"))))))))))}}]),t}(r.a.Component),pe=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).toggleNavs=function(e,a){e.preventDefault(),n.setState({activeNav:a,chartExample1Data:"data1"===n.state.chartExample1Data?"data2":"data1"})},n.state={activeNav:1,chartExample1Data:"data1"},window.Chart&&Object(me.parseOptions)(te.a,Object(me.chartOptions)()),n}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement(W.a,{className:"mb-5 mb-xl-0",xl:"8"},r.a.createElement(re.a,{className:"bg-gradient-default shadow"},r.a.createElement(le.a,{className:"bg-transparent"},r.a.createElement(J.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"text-uppercase text-light ls-1 mb-1"}),r.a.createElement("h2",{className:"text-white mb-0"},"Chiffre d'affaires")),r.a.createElement("div",{className:"col"},r.a.createElement(w.a,{className:"justify-content-end",pills:!0},r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()("py-2 px-3",{active:1===this.state.activeNav}),href:"#pablo",onClick:function(a){return e.toggleNavs(a,1)}},r.a.createElement("span",{className:"d-none d-md-block"},"Month"),r.a.createElement("span",{className:"d-md-none"},"M"))),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()("py-2 px-3",{active:2===this.state.activeNav}),"data-toggle":"tab",href:"#pablo",onClick:function(a){return e.toggleNavs(a,2)}},r.a.createElement("span",{className:"d-none d-md-block"},"Week"),r.a.createElement("span",{className:"d-md-none"},"W"))))))),r.a.createElement(ce.a,null,r.a.createElement("div",{className:"chart"},r.a.createElement(ne.b,{data:me.chartExample1[this.state.chartExample1Data],options:me.chartExample1.options,getDatasetAtEvent:function(e){return console.log(e)}}))))),r.a.createElement(W.a,{xl:"4"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"bg-transparent"},r.a.createElement(J.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h6",{className:"text-uppercase text-muted ls-1 mb-1"},"Performance"),r.a.createElement("h2",{className:"mb-0"},"Total Appareillage")))),r.a.createElement(ce.a,null,r.a.createElement("div",{className:"chart"},r.a.createElement(ne.a,{data:me.chartExample2.data,options:me.chartExample2.options})))))),r.a.createElement(J.a,{className:"mt-5"},r.a.createElement(W.a,{className:"mb-5 mb-xl-0",xl:"8"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0"},r.a.createElement(J.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Page visits")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(oe.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"See all")))),r.a.createElement(se.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Page name"),r.a.createElement("th",{scope:"col"},"Visitors"),r.a.createElement("th",{scope:"col"},"Unique users"),r.a.createElement("th",{scope:"col"},"Bounce rate"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"/argon/"),r.a.createElement("td",null,"4,569"),r.a.createElement("td",null,"340"),r.a.createElement("td",null,r.a.createElement("i",{className:"fas fa-arrow-up text-success mr-3"})," ","46,53%")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"/argon/index.html"),r.a.createElement("td",null,"3,985"),r.a.createElement("td",null,"319"),r.a.createElement("td",null,r.a.createElement("i",{className:"fas fa-arrow-down text-warning mr-3"})," ","46,53%")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"/argon/charts.html"),r.a.createElement("td",null,"3,513"),r.a.createElement("td",null,"294"),r.a.createElement("td",null,r.a.createElement("i",{className:"fas fa-arrow-down text-warning mr-3"})," ","36,49%")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"/argon/tables.html"),r.a.createElement("td",null,"2,050"),r.a.createElement("td",null,"147"),r.a.createElement("td",null,r.a.createElement("i",{className:"fas fa-arrow-up text-success mr-3"})," ","50,87%")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"/argon/profile.html"),r.a.createElement("td",null,"1,795"),r.a.createElement("td",null,"190"),r.a.createElement("td",null,r.a.createElement("i",{className:"fas fa-arrow-down text-danger mr-3"})," ","46,53%")))))),r.a.createElement(W.a,{xl:"4"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0"},r.a.createElement(J.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h3",{className:"mb-0"},"Origine Clients")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(oe.a,{color:"primary",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"See all")))),r.a.createElement(se.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Referral"),r.a.createElement("th",{scope:"col"},"Visitors"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Site"),r.a.createElement("td",null,"1,480"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},"60%"),r.a.createElement("div",null,r.a.createElement(ie.a,{max:"100",value:"60",barClassName:"bg-gradient-danger"}))))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Doctolib"),r.a.createElement("td",null,"5,480"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},"70%"),r.a.createElement("div",null,r.a.createElement(ie.a,{max:"100",value:"70",barClassName:"bg-gradient-success"}))))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Ouieqare"),r.a.createElement("td",null,"4,807"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},"80%"),r.a.createElement("div",null,r.a.createElement(ie.a,{max:"100",value:"80"}))))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"Instagram"),r.a.createElement("td",null,"3,678"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},"75%"),r.a.createElement("div",null,r.a.createElement(ie.a,{max:"100",value:"75",barClassName:"bg-gradient-info"}))))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"twitter"),r.a.createElement("td",null,"2,645"),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},"30%"),r.a.createElement("div",null,r.a.createElement(ie.a,{max:"100",value:"30",barClassName:"bg-gradient-warning"}))))))))))))}}]),t}(r.a.Component),Ee=function(){var e=JSON.parse(localStorage.getItem("user")).name,a=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"600px",backgroundImage:"url("+t(213)+")",backgroundSize:"cover",backgroundPosition:"center top"}},r.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),r.a.createElement(p.a,{className:"d-flex align-items-center",fluid:!0},r.a.createElement(J.a,null,r.a.createElement(W.a,{lg:"7",md:"10"},r.a.createElement("h1",{className:"display-2 text-white"},"Hello ",e),r.a.createElement("p",{className:"text-white mt-0 mb-5"},"Ceci est votre page de profil. Vous pouvez voir les progr\xe8s que vous avez r\xe9alis\xe9s dans votre travail et g\xe9rer vos projets ou les t\xe2ches qui vous sont assign\xe9es."),r.a.createElement(oe.a,{color:"info",onClick:function(){return a.push("/admin/edit-profile")}},"Modifier Profil"))))))},fe=function(){var e=JSON.parse(localStorage.getItem("user")),a=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement(W.a,{className:"order-xl-2 mb-5 mb-xl-0",xl:"4"},r.a.createElement(re.a,{className:"card-profile shadow"},r.a.createElement(J.a,{className:"justify-content-center"},r.a.createElement(W.a,{className:"order-lg-2",lg:"3"},r.a.createElement("div",{className:"card-profile-image"},r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},r.a.createElement("img",{alt:"...",className:"rounded-circle",src:t(184).default}))))),r.a.createElement(le.a,{className:"text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement(oe.a,{className:"mr-4",color:"info",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Connect"),r.a.createElement(oe.a,{className:"float-right",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()},size:"sm"},"Message"))),r.a.createElement(ce.a,{className:"pt-0 pt-md-4"},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"},r.a.createElement("div",null,r.a.createElement("span",{className:"heading"},"22"),r.a.createElement("span",{className:"description"},"Friends")),r.a.createElement("div",null,r.a.createElement("span",{className:"heading"},"10"),r.a.createElement("span",{className:"description"},"Photos")),r.a.createElement("div",null,r.a.createElement("span",{className:"heading"},"89"),r.a.createElement("span",{className:"description"},"Comments"))))),r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",null,e.name,r.a.createElement("span",{className:"font-weight-light"},", 27")),r.a.createElement("div",{className:"h5 font-weight-300"},r.a.createElement("i",{className:"ni location_pin mr-2"}),"Bucharest, Romania"),r.a.createElement("div",{className:"h5 mt-4"},r.a.createElement("i",{className:"ni business_briefcase-24 mr-2"}),"Solution Manager - Creative Tim Officer"),r.a.createElement("div",null,r.a.createElement("i",{className:"ni education_hat mr-2"}),"University of Computer Science"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,"Ryan \u2014 the name taken by Melbourne-raised, Brooklyn-based Nick Murphy \u2014 writes, performs and records all of his own music."),r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},"Show more"))))),r.a.createElement(W.a,{className:"order-xl-1",xl:"8"},r.a.createElement(re.a,{className:"bg-secondary shadow"},r.a.createElement(le.a,{className:"bg-white border-0"},r.a.createElement(J.a,{className:"align-items-center"},r.a.createElement(W.a,{xs:"8"},r.a.createElement("h3",{className:"mb-0"},"My account")),r.a.createElement(W.a,{className:"text-right",xs:"4"},r.a.createElement(oe.a,{color:"primary",href:"#pablo",onClick:function(){return a.push("/admin/edit-profile")},size:"sm"},"Settings")))),r.a.createElement(ce.a,null,r.a.createElement(b.a,null,r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"User information (from database)"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(J.a,null,r.a.createElement(W.a,{lg:"6"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-username"},"Username"),r.a.createElement(k.a,{className:"form-control-alternative",defaultValue:e.name,id:"input-username",placeholder:"Username",type:"text",disabled:!0}))),r.a.createElement(W.a,{lg:"6"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email address"),r.a.createElement(k.a,{className:"form-control-alternative",id:"input-email",defaultValue:e.email,type:"email",disabled:!0}))))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Contact information (placeholder)"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(J.a,null,r.a.createElement(W.a,{md:"12"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-address"},"Address"),r.a.createElement(k.a,{className:"form-control-alternative",defaultValue:"Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09",id:"input-address",placeholder:"Home Address",type:"text",disabled:!0})))),r.a.createElement(J.a,null,r.a.createElement(W.a,{lg:"4"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-city"},"City"),r.a.createElement(k.a,{className:"form-control-alternative",defaultValue:"New York",id:"input-city",placeholder:"City",type:"text",disabled:!0}))),r.a.createElement(W.a,{lg:"4"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Country"),r.a.createElement(k.a,{className:"form-control-alternative",defaultValue:"United States",id:"input-country",placeholder:"Country",type:"text",disabled:!0}))),r.a.createElement(W.a,{lg:"4"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-country"},"Postal code"),r.a.createElement(k.a,{className:"form-control-alternative",id:"input-postal-code",placeholder:"Postal code",type:"number",disabled:!0}))))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"About me (placeholder)"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(v.a,null,r.a.createElement("label",null,"About Me"),r.a.createElement(k.a,{className:"form-control-alternative",placeholder:"A few words about you ...",rows:"4",defaultValue:"A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.",type:"textarea",disabled:!0}))))))))))},ge=t(95),he=Object(ge.withScriptjs)(Object(ge.withGoogleMap)((function(e){return r.a.createElement(ge.GoogleMap,{defaultZoom:12,defaultCenter:{lat:40.748817,lng:-73.985428},defaultOptions:{scrollwheel:!1,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#5e72e4"},{visibility:"on"}]}]}},r.a.createElement(ge.Marker,{position:{lat:40.748817,lng:-73.985428}}))}))),be=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow border-0"},r.a.createElement(he,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"600px"},className:"map-canvas",id:"map-canvas"}),mapElement:r.a.createElement("div",{style:{height:"100%",borderRadius:"inherit"}})}))))))}}]),t}(r.a.Component),ve=t(11),Ne=t(62),xe=function(){var e=Object(n.useState)(""),a=Object(ve.a)(e,2),l=a[0],c=a[1],o=Object(n.useState)(""),s=Object(ve.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(""),d=Object(ve.a)(u,2),p=d[0],E=d[1],h=Object(n.useState)(""),w=Object(ve.a)(h,2),O=w[0],C=w[1],j=Object(n.useState)(!1),S=Object(ve.a)(j,2),F=S[0],T=S[1],A=Object(n.useState)(""),P=Object(ve.a)(A,2),I=P[0],z=P[1],R=Object(n.useState)(!1),M=Object(ve.a)(R,2),q=M[0],B=M[1],L=Object(n.useState)("Email sent! Check it to reset your password."),U=Object(ve.a)(L,2),V=U[0],H=U[1],G=Object(n.useState)(null),Y=Object(ve.a)(G,2),K=Y[0],Q=Y[1],Z=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&i&&p&&O&&F){e.next=3;break}return z("Assurez-vous de remplir tous les champs et d'accepter la politique de confidentialit\xe9."),e.abrupt("return");case 3:if(p===O){e.next=6;break}return z("Les mots de passe ne correspondent pas."),e.abrupt("return");case 6:return e.next=8,_(l,i,p);case 8:if(a=e.sent,(t=a.data).success){e.next=13;break}return z(t.msg),e.abrupt("return");case 13:D.DEMO&&(H("Ceci est une d\xe9monstration, donc nous ne vous enverrons pas d'email. Cliquez plut\xf4t sur ce lien pour r\xe9initialiser votre mot de passe:"),Q(t.userID)),z(""),c(""),m(""),E(""),C(""),T(!1),B(!0);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"fixed",minHeight:"100px",width:"35%",right:10,bottom:80,zIndex:50}},r.a.createElement(Ne.a,{style:{position:"absolute",top:0,right:0,backgroundColor:"white",padding:10,borderRadius:10},onClose:function(){return B(!1)},show:q,delay:1e4,autohide:!D.DEMO},r.a.createElement(Ne.a.Header,null,r.a.createElement("img",{style:{height:"30px",width:"100px"},src:t(248).default,alt:"..."})),r.a.createElement(Ne.a.Body,null,V,D.DEMO?r.a.createElement("a",{href:D.DOMAIN_NAME+"/auth/confirm-email/"+K},D.DOMAIN_NAME+"/auth/confirm-email/"+K):null))),r.a.createElement(W.a,{lg:"6",md:"8"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(le.a,{className:"bg-transparent pb-5"},r.a.createElement("div",{className:"text-muted text-center mt-2 mb-4"},r.a.createElement("small",null,"Sign up with")),r.a.createElement("div",{className:"text-center"},r.a.createElement(oe.a,{className:"btn-neutral btn-icon mr-4",color:"default",href:"#pablo",onClick:function(e){return e.preventDefault()}},r.a.createElement("span",{className:"btn-inner--icon"},r.a.createElement("img",{alt:"...",src:t(249).default})),r.a.createElement("span",{className:"btn-inner--text"},"Google")))),r.a.createElement(ce.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Ou inscrivez-vous avec vos identifiants")),r.a.createElement(b.a,{role:"form"},r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative mb-3"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-hat-3"}))),r.a.createElement(k.a,{placeholder:"Noms",type:"text",value:l,onChange:function(e){return c(e.target.value)}}))),r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative mb-3"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(k.a,{placeholder:"Email",type:"email",autoComplete:"new-email",value:i,onChange:function(e){return m(e.target.value)}}))),r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Mot de Passe",type:"password",autoComplete:"new-password",value:p,onChange:function(e){return E(e.target.value)}}))),r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Confirmer Mot de Passe",type:"password",autoComplete:"new-password",value:O,onChange:function(e){return C(e.target.value)}}))),I?r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"error:"," ",r.a.createElement("span",{className:"text-red font-weight-700"},I))):null,r.a.createElement(J.a,{className:"my-4"},r.a.createElement(W.a,{xs:"12"},r.a.createElement("div",{className:"custom-control custom-control-alternative custom-checkbox"},r.a.createElement("input",{className:"custom-control-input",id:"customCheckRegister",type:"checkbox",checked:F,onChange:function(){return T(!F)}}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheckRegister"},r.a.createElement("span",{className:"text-muted"},"Je suis d'accord avec la"," ",r.a.createElement("a",{href:"#pablo",onClick:function(e){return e.preventDefault()}},"Politique de confidentialit\xe9")))))),r.a.createElement("div",{className:"text-center"},r.a.createElement(oe.a,{onClick:Z,className:"mt-4",color:"primary",type:"button"},"Cr\xe9er un compte")))))))},ye=function(e){var a=Object(n.useState)(""),l=Object(ve.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),i=Object(ve.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(""),p=Object(ve.a)(d,2),E=p[0],h=p[1],w=function(){var a=Object(g.a)(f.a.mark((function a(){var t,n;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,q(c,m);case 2:t=a.sent,(n=t.data).success?(h(""),localStorage.setItem("token",n.token),console.log("Stored token:",localStorage.getItem("token")),localStorage.setItem("user",JSON.stringify(n.user)),e.history.push("/")):(u(""),h(n.msg));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{lg:"5",md:"7"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(le.a,{className:"bg-transparent pb-5"},r.a.createElement("div",{className:"text-muted text-center mt-2 mb-3"},r.a.createElement("small",null,"Se connecter avec")),r.a.createElement("div",{className:"btn-wrapper text-center"},r.a.createElement(oe.a,{className:"btn-neutral btn-icon",color:"default",href:"#pablo",onClick:function(){alert("Cette fonctionnalit\xe9 est en cours de d\xe9veloppement.")}},r.a.createElement("span",{className:"btn-inner--icon"},r.a.createElement("img",{alt:"...",src:t(249).default})),r.a.createElement("span",{className:"btn-inner--text"},"Google")))),r.a.createElement(ce.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center text-muted mb-4"},r.a.createElement("small",null,"Ou inscrivez-vous avec vos identifiants")),r.a.createElement(b.a,{role:"form"},r.a.createElement(v.a,{className:"mb-3"},r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(k.a,{placeholder:"Email",type:"email",autoComplete:"email",value:c,onChange:function(e){return o(e.target.value)}}))),r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Mot de Passe",type:"password",autoComplete:"password",value:m,onChange:function(e){return u(e.target.value)}}))),E?r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"error:"," ",r.a.createElement("span",{className:"text-red font-weight-700"},E))):null,r.a.createElement("div",{className:"text-center"},r.a.createElement(oe.a,{className:"my-4",color:"primary",type:"button",onClick:w},"Sign in"))))),r.a.createElement(J.a,{className:"mt-3"},r.a.createElement(W.a,{xs:"6"},r.a.createElement(oe.a,{className:"text-light p-0",color:"link",onClick:function(){return e.history.push("/auth/reset-password")}},r.a.createElement("small",null,"Forgot password?"))),r.a.createElement(W.a,{className:"text-right",xs:"6"},r.a.createElement(oe.a,{className:"text-light p-0",color:"link",onClick:function(){return e.history.push("/auth/register")}},r.a.createElement("small",null,"Create new account"))))))},ke=t(636),we=t(637),Oe=t(638),Ce=t(639),je=t.p+"static/media/bootstrap.bd712487.jpg",Se=function(){var e=Object(n.useState)([]),a=Object(ve.a)(e,2),t=a[0],l=a[1],c=Object(s.g)();Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("uniqueStatuses"));l(e)}),[]);var o=t.map((function(e){return{status:e,budget:"D\xe9finir une logique pour budget",completion:"D\xe9finir une logique pour completion",projectImg:"theme/bootstrap.jpg",usersImg:["team-1-800x800.jpg","team-2-800x800.jpg","team-3-800x800.jpg"]}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0"},r.a.createElement("h3",{className:"mb-0"},"Clients par Statut")),r.a.createElement(se.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Status"),r.a.createElement("th",{scope:"col"},"Budget"),r.a.createElement("th",{scope:"col"},"Completion"),r.a.createElement("th",{scope:"col"},"Users"),r.a.createElement("th",{scope:"col"}))),r.a.createElement("tbody",null,o.map((function(e,a){return r.a.createElement("tr",{key:a,onClick:function(){return a=e.status,void c.push("/admin/statutClient/".concat(a));var a},style:{cursor:"pointer"}},r.a.createElement("th",{scope:"row"},r.a.createElement(j.a,{className:"align-items-center"},r.a.createElement("a",{className:"avatar rounded-circle mr-3"},r.a.createElement("img",{alt:"...",src:je})),r.a.createElement(j.a,null,r.a.createElement("span",{className:"mb-0 text-sm"},e.status)))),r.a.createElement("td",null,e.budget),r.a.createElement("td",null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("span",{className:"mr-2"},e.completion),r.a.createElement(ie.a,{max:"100",value:e.completion.replace("%",""),barClassName:"bg-danger"}))),r.a.createElement("td",null,r.a.createElement("div",{className:"avatar-group"},e.usersImg.map((function(e,a){return r.a.createElement("a",{className:"avatar avatar-sm",key:a},r.a.createElement("img",{alt:"...",className:"rounded-circle",src:je}))})))),r.a.createElement("td",{className:"text-right"},r.a.createElement(O.a,null,r.a.createElement(C.a,{className:"btn-icon-only text-light",href:"#",role:"button",size:"sm",color:"",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(S.a,{className:"dropdown-menu-arrow",right:!0},r.a.createElement(F.a,{href:"#pablo",onClick:function(e){return e.preventDefault()}},"Action"),r.a.createElement(F.a,{href:"#pablo",onClick:function(e){return e.preventDefault()}},"Another action"),r.a.createElement(F.a,{href:"#pablo",onClick:function(e){return e.preventDefault()}},"Something else here")))))})))),r.a.createElement(ke.a,{className:"py-4"},r.a.createElement("nav",{"aria-label":"..."},r.a.createElement(we.a,{className:"pagination justify-content-end mb-0",listClassName:"justify-content-end mb-0"},r.a.createElement(Oe.a,{className:"disabled"},r.a.createElement(Ce.a,{href:"#",onClick:function(e){return e.preventDefault()},tabIndex:"-1"},r.a.createElement("i",{className:"fas fa-angle-left"}),r.a.createElement("span",{className:"sr-only"},"Previous"))),r.a.createElement(Oe.a,{className:"active"},r.a.createElement(Ce.a,{href:"#",onClick:function(e){return e.preventDefault()}},"1")),r.a.createElement(Oe.a,null,r.a.createElement(Ce.a,{href:"#",onClick:function(e){return e.preventDefault()}},"2 ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement(Oe.a,null,r.a.createElement(Ce.a,{href:"#",onClick:function(e){return e.preventDefault()}},"3")),r.a.createElement(Oe.a,null,r.a.createElement(Ce.a,{href:"#",onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fas fa-angle-right"}),r.a.createElement("span",{className:"sr-only"},"Next")))))))))))},Fe=function(e){var a=Object(s.i)().id,t=Object(n.useState)(!0),l=Object(ve.a)(t,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){a?function(){var t=Object(g.a)(f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(a);case 2:n=t.sent,r=n.data,console.log(r),r.success?setTimeout((function(){e.history.push("/auth/login")}),5e3):o(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()():o(!1)}),[a,e.history]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{lg:"6",md:"8"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ce.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h1",null,c?"Email confirm\xe9 ! Vous serez redirig\xe9 vers la page de connexion....":"Quelque chose s'est mal pass\xe9.!"))))))},Te=t(20),Ae=function(){var e=JSON.parse(localStorage.getItem("user")).name,a=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header pb-8 pt-5 pt-lg-8 d-flex align-items-center",style:{minHeight:"600px",backgroundImage:"url("+t(213)+")",backgroundSize:"cover",backgroundPosition:"center top"}},r.a.createElement("span",{className:"mask bg-gradient-default opacity-8"}),r.a.createElement(p.a,{className:"d-flex align-items-center",fluid:!0},r.a.createElement(J.a,null,r.a.createElement(W.a,{lg:"7",md:"10"},r.a.createElement("h1",{className:"display-2 text-white"},"Bonjour ",e),r.a.createElement(oe.a,{color:"info",onClick:function(){return a.push("/admin/user-profile")}},"Retour au profil"))))))},De=function(e){var a=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(a.name),l=Object(ve.a)(t,2),c=l[0],o=l[1],s=Object(n.useState)(a.email),i=Object(ve.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(!1),E=Object(ve.a)(d,2),h=E[0],N=E[1];Object(n.useEffect)((function(){"test@test.com"===JSON.parse(localStorage.getItem("user")).email&&N(!0)}),[]);var x=function(){var t=Object(g.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(a._id,c,m);case 2:n=t.sent,n.data.success&&(a=Object(Te.a)(Object(Te.a)({},a),{},{name:c,email:m}),localStorage.setItem("user",JSON.stringify(a)),e.history.push("/admin/user-profile"));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ae,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"bg-secondary shadow"},r.a.createElement(le.a,{className:"bg-white border-0"},r.a.createElement(J.a,{className:"align-items-center"},r.a.createElement(W.a,{xs:"8"},r.a.createElement("h3",{className:"mb-0"},"Mon compte"),h?r.a.createElement("h5",null,"Vous n'\xeates pas autoris\xe9 \xe0 modifier l'utilisateur de test. Cr\xe9ez un autre utilisateur pour tester cette fonctionnalit\xe9."):null),r.a.createElement(W.a,{className:"text-right",xs:"4"},r.a.createElement(oe.a,{color:"primary",href:"#pablo",onClick:x,size:"sm",disabled:h},"Sauvegarder")))),r.a.createElement(ce.a,null,r.a.createElement(b.a,null,r.a.createElement("h6",{className:"heading-small text-muted mb-4"},"Informations utilisateur"),r.a.createElement("div",{className:"pl-lg-4"},r.a.createElement(J.a,null,r.a.createElement(W.a,{lg:"6"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-username"},"Utilisateur"),r.a.createElement(k.a,{className:"form-control-alternative",value:c,id:"input-username",placeholder:"Utilisateur",onChange:function(e){return o(e.target.value)},type:"text"}))),r.a.createElement(W.a,{lg:"6"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Adresse e-mail"),r.a.createElement(k.a,{className:"form-control-alternative",id:"input-email",value:m,onChange:function(e){return u(e.target.value)},type:"email"}))))))))))))},Pe=function(){var e=Object(n.useState)([]),a=Object(ve.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:a=e.sent,t=a.data,console.log(t.users),t.success&&l(t.users);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(p.a,null,r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0"},r.a.createElement("h3",{className:"mb-0"},"Utilisateurs")),r.a.createElement(se.a,{className:"align-items-center table-flush",responsive:!0},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Noms"),r.a.createElement("th",{scope:"col"},"E-mail"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.email},r.a.createElement("th",{scope:"row"},e.name),r.a.createElement("td",null,e.email))})))))))))},Ie=function(e){var a=Object(n.useState)(""),l=Object(ve.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),i=Object(ve.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(!1),p=Object(ve.a)(d,2),E=p[0],h=p[1],w=Object(n.useState)("Email sent! Check it to reset your password."),O=Object(ve.a)(w,2),C=O[0],j=O[1],S=Object(n.useState)(null),F=Object(ve.a)(S,2),T=F[0],A=F[1],P=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(c);case 2:a=e.sent,(t=a.data).success?(console.log(t),D.DEMO&&(j("Ceci est une d\xe9monstration, donc nous ne vous enverrons pas d'email. Cliquez plut\xf4t sur ce lien pour r\xe9initialiser votre mot de passe:"),A(t.userID)),h(!0)):u(t.errors[0].msg);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"fixed",minHeight:"100px",width:"35%",right:10,bottom:100,zIndex:50}},r.a.createElement(Ne.a,{style:{position:"absolute",top:0,right:0,backgroundColor:"white",padding:10,borderRadius:10},onClose:function(){return h(!1)},show:E,delay:5e3,autohide:!D.DEMO},r.a.createElement(Ne.a.Header,null,r.a.createElement("img",{style:{height:"30px",width:"100px"},src:t(248).default,alt:"..."})),r.a.createElement(Ne.a.Body,null,C,D.DEMO?r.a.createElement("a",{href:D.DOMAIN_NAME+"/auth/confirm-password/"+T},D.DOMAIN_NAME+"/auth/confirm-password/"+T):null))),r.a.createElement(W.a,{lg:"5",md:"7"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ce.a,{className:"px-lg-5 py-lg-5"},r.a.createElement(b.a,{role:"form"},r.a.createElement(v.a,{className:"mb-3"},r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(k.a,{placeholder:"Email",type:"email",autoComplete:"email",value:c,onChange:function(e){return o(e.target.value)}}))),m?r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"error:"," ",r.a.createElement("span",{className:"text-red font-weight-700"},m))):null,r.a.createElement("div",{className:"text-center"},r.a.createElement(oe.a,{className:"my-4",color:"primary",type:"button",onClick:P},"R\xe9initialiser le mot de passe")))))))},_e=function(e){var a=Object(s.i)().id,t=Object(n.useState)(""),l=Object(ve.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(""),m=Object(ve.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),E=Object(ve.a)(p,2),h=E[0],w=E[1],O=function(){var t=Object(g.a)(f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c===u){t.next=3;break}return w("Les mots de passe doivent correspondre."),t.abrupt("return");case 3:return t.next=5,M(a,c);case 5:n=t.sent,(r=n.data).success?e.history.push("/auth/reset-success"):w(r.msg);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{lg:"5",md:"7"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ce.a,{className:"px-lg-5 py-lg-5"},r.a.createElement(b.a,{role:"form"},r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Mot de passe",type:"password",autoComplete:"new-password",value:c,onChange:function(e){return o(e.target.value)}}))),r.a.createElement(v.a,null,r.a.createElement(N.a,{className:"input-group-alternative"},r.a.createElement(x.a,{addonType:"prepend"},r.a.createElement(y.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(k.a,{placeholder:"Confirme le mot de passe",type:"password",autoComplete:"new-password",value:u,onChange:function(e){return d(e.target.value)}}))),h?r.a.createElement("div",{className:"text-muted font-italic"},r.a.createElement("small",null,"error:"," ",r.a.createElement("span",{className:"text-red font-weight-700"},h))):null,r.a.createElement("div",{className:"text-center"},r.a.createElement(oe.a,{className:"my-4",color:"primary",type:"button",onClick:O},"R\xe9initialiser le mot de passe")))))))},ze=function(e){return Object(n.useEffect)((function(){setTimeout((function(){e.history.push("/auth/login")}),5e3)}),[e.history]),r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{lg:"6",md:"8"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ce.a,{className:"px-lg-5 py-lg-5"},r.a.createElement("div",{className:"text-center mb-4"},r.a.createElement("h1",null,"R\xe9initialisation du mot de passe confirm\xe9e ! Vous serez redirig\xe9 vers la page de connexion...."))))))},Re=t(10),Me=t(21),qe=t(17),Be=t(651),Le=t(640),Ue=t(641),Je=t(642),We=t(279),Ve=t(59),He=t.n(Ve),Ge=t(60),Ye=t.n(Ge),Ke=t(52),Qe=t.n(Ke),Ze=(t(160),function(){var e=Object(s.g)(),a=Object(n.useState)([]),t=Object(ve.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(0),i=Object(ve.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(!1),E=Object(ve.a)(d,2),h=E[0],b=E[1],v=Object(n.useState)(!1),N=Object(ve.a)(v,2),x=N[0],y=N[1],k=Object(n.useState)(!1),w=Object(ve.a)(k,2),O=w[0],C=w[1],j=Object(n.useState)(""),S=Object(ve.a)(j,2),F=S[0],T=S[1],A=Object(n.useState)(null),D=Object(ve.a)(A,2),P=D[0],I=D[1],_=Object(n.useState)([]),z=Object(ve.a)(_,2),R=z[0],M=z[1],q=Object(n.useState)(null),B=Object(ve.a)(q,2),L=B[0],U=B[1],W=Object(n.useState)(null),V=Object(ve.a)(W,2),H=V[0],G=V[1],Y=function(){b(!h),h||x||O||(I(null),T(""))},K=function(e,a){if(console.log("Select all ".concat(e?"on":"off")),e){var t=a.map((function(e){return e._id}));console.log("Selecting all ids:",t),M(t)}else M([])},Q=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xcates-vous s\xfbr de vouloir supprimer les clients s\xe9lectionn\xe9s ?")){e.next=20;break}a=Object(Re.a)(R),e.prev=2,n=f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value,e.next=3,fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/".concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))}}).then((function(e){if(!e.ok)throw new Error("Failed to delete client ".concat(a,", status: ").concat(e.status));return e.json()})).then((function(e){if(!e.success)throw new Error(e.message);u((function(e){return e-1})),qe.b.success("Client supprim\xe9 avec succ\xe8s!")})).catch((function(e){console.error("Error:",e),qe.b.error("Error deleting client ".concat(a,": ").concat(e.message))}));case 3:case"end":return e.stop()}}),e)})),a.s();case 5:if((t=a.n()).done){e.next=9;break}return e.delegateYield(n(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:r=l.filter((function(e){return!R.includes(e._id)})),c(r),M([]);case 20:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),Z=R.length>0?r.a.createElement(oe.a,{color:"danger",onClick:Q,style:{marginLeft:"10px"}},"Supprimer la s\xe9lection"):null,$={mode:"checkbox",clickToSelect:!1,selected:R,onSelect:function(e,a){setTimeout((function(){console.log("Select ".concat(a?"on":"off"," for row id ").concat(e._id)),M(a?function(a){var t=[].concat(Object(Me.a)(a),[e._id]);return console.log("New selected after add:",t),t}:function(a){var t=a.filter((function(a){return a!==e._id}));return console.log("New selected after remove:",t),t})}),100)},onSelectAll:K,selectionHeaderRenderer:function(e){var a=e.mode,t=e.checked,n=e.indeterminate;return r.a.createElement("input",{type:a,checked:t,ref:function(e){e&&(e.indeterminate=n)},onChange:function(e){K(e.target.checked,l)}})},style:{backgroundColor:"#c8e6c9"},hideSelectColumn:!1},X=function(e){var a=localStorage.getItem("token");if(a){var t=a.trim().replace("JWT ","");console.log("Formatted Token from localStorage:",t),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(!e.ok)throw new Error("HTTP status ".concat(e.status));return e.json()})).then((function(a){console.log("Clients fetched:",a),e(a),u(a.length)})).catch((function(e){console.error("Error fetching clients:",e.message)}))}else console.error("Token not found in localStorage")},ee=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"nom",text:"Nom",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2"},{dataField:"prenom",text:"Pr\xe9nom",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2"},{dataField:"email",text:"Email",sort:!0,classes:"col-md-3 col-lg-3 text-truncate",headerClasses:"col-md-3 col-lg-3",formatter:function(e,a){return r.a.createElement("div",{className:"text-truncate",style:{maxWidth:"200px"}},e)}},{dataField:"telephonePortable",text:"Tel",sort:!0,classes:"d-none d-md-table-cell col-md-2 col-lg-2",headerClasses:"d-none d-md-table-cell col-md-2 col-lg-2"},{dataField:"ville",text:"Ville",sort:!0,classes:"d-none d-lg-table-cell col-lg-2",headerClasses:"d-none d-lg-table-cell col-lg-2"},{dataField:"dateNaissance",text:"Date de Naissance",formatter:function(e,a){return(t=a.dateNaissance)?new Date(t).toLocaleDateString("fr-FR"):"";var t},sort:!0,classes:"d-none d-lg-table-cell col-lg-2",headerClasses:"d-none d-lg-table-cell col-lg-2"},{dataField:"statut",text:"Statut",classes:"d-none d-lg-table-cell col-md-4 col-lg-3",headerClasses:"d-none d-lg-table-cell col-md-4 col-lg-3",formatter:function(e,a){return r.a.createElement("select",{defaultValue:a.statut,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,a){var t=l.map((function(t){return t._id===e?Object(Te.a)(Object(Te.a)({},t),{},{statut:a}):t}));c(t),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/".concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))},body:JSON.stringify({statut:a})}).then((function(e){return e.json()})).then((function(e){e.success?qe.b.success("Statut mis \xe0 jour avec succ\xe8s!"):(console.error("Failed to update status:",e.message),qe.b.error("Erreur lors de la mise \xe0 jour du statut: ".concat(e.message)))})).catch((function(e){console.error("Error updating status:",e),qe.b.error("Erreur: ".concat(e.message))}))}(a._id,e.target.value)},className:"form-control",style:{minWidth:"150px"}},r.a.createElement("option",{value:"none"}),r.a.createElement("option",{value:"Rdv fix\xe9"},"Rdv fix\xe9"),r.a.createElement("option",{value:"Rdv Annul\xe9"},"Rdv Annul\xe9"),r.a.createElement("option",{value:"Appareill\xe9"},"Appareill\xe9"),r.a.createElement("option",{value:"Appareill\xe9"},"En Livraison"),r.a.createElement("option",{value:"P\xe9riode d'essai"},"P\xe9riode d'essai"),r.a.createElement("option",{value:"Factur\xe9"},"Factur\xe9"))},editor:{type:"select",options:[{value:"Rdv fix\xe9",label:"Rdv fix\xe9"},{value:"Rdv Annul\xe9",label:"Rdv Annul\xe9"},{value:"Appareill\xe9",label:"Appareill\xe9"},{value:"P\xe9riode d'essai",label:"P\xe9riode d'essai"},{value:"Factur\xe9",label:"Factur\xe9"}]}},{dataField:"actions",text:"Actions",classes:"col-md-2 col-lg-2 text-center",headerClasses:"col-md-2 col-lg-2 text-center",formatter:function(a,t){return r.a.createElement("div",null,r.a.createElement(oe.a,{color:"primary",size:"sm",onClick:function(a){return function(a,t){a.stopPropagation(),e.push({pathname:"/admin/nouveauClient",state:{client:t}})}(a,t)}},r.a.createElement("i",{className:"fas fa-pencil-alt"})),r.a.createElement(oe.a,{color:"danger",size:"sm",onClick:function(e){return function(e,a){e.stopPropagation(),window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce client ?")&&fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/".concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))}}).then((function(e){if(!e.ok)throw new Error("Failed to delete client, status: ".concat(e.status));return e.json()})).then((function(e){if(!e.success)throw new Error(e.message);var t=l.filter((function(e){return e._id!==a}));M(R.filter((function(e){return e!==a}))),u((function(e){return e-1})),qe.b.success("Client supprim\xe9 avec succ\xe8s!"),c(t)})).catch((function(e){console.error("Error:",e),qe.b.error("Error: ".concat(e.message))}))}(e,t._id)}},r.a.createElement("i",{className:"fas fa-trash"})))}}];Object(n.useEffect)((function(){var e=Object(Me.a)(new Set(l.map((function(e){return e.statut}))));localStorage.setItem("uniqueStatuses",JSON.stringify(e))}),[l]),Object(n.useEffect)((function(){localStorage.setItem("totalClients",m)}),[m]);var ae=Ye()({page:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,sizePerPageRenderer:function(e){e.options,e.currSizePerPage;var a=e.onSizePerPageChange;return r.a.createElement("div",{className:"dataTables_length",id:"datatable-basic_length"},r.a.createElement("label",null," ",r.a.createElement("select",{name:"datatable-basic_length","aria-controls":"datatable-basic",className:"form-control form-control-sm",onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"))," "))}}),te=Ke.Search.SearchBar;Object(n.useEffect)((function(){X(c)}),[m]);var ne=Object(We.a)({onDrop:function(e){console.log(e),I(e[0]),C(!0),T("")}}),se=ne.getRootProps,ie=ne.getInputProps,me=ne.isDragActive,ue={onClick:function(a,t,n){var r;"BUTTON"!==a.target.tagName&&"INPUT"!==a.target.tagName&&"checkbox"!==a.target.type&&(r=t,console.log("Navigation to client details for ID: ".concat(r._id)),U(r._id),e.push({pathname:"/admin/nouveauClient",state:{client:r}}))},onMouseEnter:function(e,a,t){G(a._id)},onMouseLeave:function(e,a,t){G(null)}},pe=function(e,a){return e._id===L?{backgroundColor:"#f8f9fe",cursor:"pointer"}:e._id===H?{backgroundColor:"#e9ecef",cursor:"pointer"}:{}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{totalClients:m}),r.a.createElement(qe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0 d-flex align-items-center justify-content-between"},r.a.createElement("div",null,r.a.createElement("h3",{className:"mb-0",style:{paddingBottom:"10px"}},"Clients (Total : ",m,")")),r.a.createElement("div",null,r.a.createElement(oe.a,{color:"primary",onClick:function(){console.log("Redirection to /admin/nouveauClient"),e.push("/admin/nouveauClient")},style:{marginRight:"10px"}},"Ajouter Client"),r.a.createElement(oe.a,{onClick:Y,style:{background:"linear-gradient(87deg, #003D33 0%, #007D70 100%)",color:"white"}},"Importer Clients"))),r.a.createElement(ce.a,null,r.a.createElement(Qe.a,{keyField:"id",data:l,columns:ee,search:!0},(function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-6"},Z),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement(te,Object.assign({},e.searchProps,{className:"form-control-sm",placeholder:"Rechercher",style:{border:"1px solid black",maxWidth:"250px"}})))),r.a.createElement("div",{style:{overflowX:"auto"}},r.a.createElement(He.a,Object.assign({},e.baseProps,{keyField:"_id",bootstrap4:!0,pagination:ae,data:l,columns:ee,selectRow:$,rowEvents:ue,rowStyle:pe,bordered:!1}))))}))))))),r.a.createElement(Be.a,{isOpen:h,toggle:Y},r.a.createElement(Le.a,{toggle:Y},"Importer des fichiers"),r.a.createElement(Ue.a,null,r.a.createElement("div",Object.assign({},se({className:"dropzone"}),{style:{border:"2px dashed #007bff",padding:"20px",textAlign:"center"}}),r.a.createElement("input",ie()),r.a.createElement("i",{className:"fas fa-file-upload fa-2x"}),r.a.createElement("p",null,"Formats support\xe9s : .csv, .xlsx"),me?r.a.createElement("p",null,"Rel\xe2chez le fichier ici..."):r.a.createElement("p",null,"Glissez-d\xe9posez des fichiers ici, ou cliquez pour s\xe9lectionner des fichiers"),x&&r.a.createElement("div",null,"Chargement..."),O&&r.a.createElement("div",{className:"alert alert-success"},"Fichier import\xe9 avec succ\xe8s!"),F&&r.a.createElement("div",{className:"alert alert-danger"},F))),r.a.createElement(Je.a,null,r.a.createElement(oe.a,{color:"primary",onClick:function(){if(P){y(!0);var e=new FormData;e.append("file",P),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/import",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))},body:e}).then((function(e){if(!e.ok)throw new Error("Failed to upload file");return e.json()})).then((function(e){C(!0),console.log("Import success:",e),X(c),y(!1),I(null),qe.b.success("Fichier import\xe9 avec succ\xe8s!"),Y()})).catch((function(e){console.error("Import error:",e),y(!1),T("Error during import: "+e.message),qe.b.error("Error during import: "+e.message)})),C(!1)}else qe.b.warn("No file selected for upload.")},disabled:!P},"OK"),r.a.createElement(oe.a,{color:"secondary",onClick:Y},"Fermer"))))}),$e=t(123),Xe=t(119),ea=t(162),aa=t.n(ea),ta=t(643),na=t(644),ra=t(652),la=t(645);function ca(e){var a=new Date(e),t=a.getFullYear(),n=("0"+(a.getMonth()+1)).slice(-2),r=("0"+a.getDate()).slice(-2);return"".concat(t,"-").concat(n,"-").concat(r)}var oa=function(){var e=Object(s.g)(),a=Object(s.h)(),t=Object(n.useState)({nom:"",prenom:"",dateNaissance:"",mutuelle:"",numeroSecu:"",email:"",telephoneFixe:"",telephonePortable:"",adresse:"",codePostal:"",ville:"",note:"",audiogramme:"",statut:"",origine:"",dateAppareillage:"",dateFacturation:""}),l=Object(ve.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(!a.state||!a.state.client),m=Object(ve.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)("1"),h=Object(ve.a)(E,2),N=h[0],x=h[1],y=Object(n.useState)(""),O=Object(ve.a)(y,2),C=O[0],j=O[1],S=Object(n.useState)({articles:[]}),F=Object(ve.a)(S,2);F[0],F[1];Object(n.useEffect)((function(){if(a.state&&a.state.client){var e=Object(Te.a)(Object(Te.a)({},a.state.client),{},{dateNaissance:ca(a.state.client.dateNaissance)});o(e)}}),[a.state]);var T=function(e){N!==e&&x(e)},A=Object(n.useState)({}),D=Object(ve.a)(A,2),P=D[0],I=D[1],_=Object(n.useState)(""),z=Object(ve.a)(_,2),R=z[0],M=(z[1],Object(n.useRef)(!1));Object(n.useEffect)((function(){return M.current=!0,function(){M.current=!1}}),[]);var q=function(){var e={},a=!0;return c.nom.trim()||(a=!1,e.nom="Le nom est requis."),c.email.trim()||(a=!1,e.email="L'email est requis."),I(e),a},B=function(){var e=Object(g.a)(f.a.mark((function e(a){var t,n,r,l,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a._id?"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/".concat(a._id):"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/add",n=a._id?"PUT":"POST",console.log("Envoi des donn\xe9es du client:",a),e.prev=3,e.next=6,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(a)});case 6:if(r=e.sent,console.log("Statut de la r\xe9ponse:",r.status),r.ok){e.next=15;break}return e.next=11,r.json();case 11:return l=e.sent,console.log("Erreur lors de l'enregistrement:",l),qe.b.error("Erreur: ".concat(l.message)),e.abrupt("return");case 15:return e.next=17,r.json();case 17:c=e.sent,console.log("R\xe9ponse du serveur:",c),qe.b.success("Le client a \xe9t\xe9 ajout\xe9/modifi\xe9 avec succ\xe8s !"),d(!1),"Factur\xe9"===a.statut&&Y(c.client._id),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),console.error("Erreur lors de l'op\xe9ration sur le client:",e.t0),qe.b.error("Erreur lors de l'op\xe9ration sur le client: ".concat(e.t0.message));case 28:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(a){return e.apply(this,arguments)}}(),L=function(e){var a=e.target,t=a.name,n=a.value;o(Object(Te.a)(Object(Te.a)({},c),{},{[t]:n})),P[t]&&I(Object(Te.a)(Object(Te.a)({},P),{},{[t]:null}))},U=function(){var a=Object(g.a)(f.a.mark((function a(t){var n,r,l,o,s,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=Object(Te.a)(Object(Te.a)({},c),{},{audiogramme:c.audiogramme}),r=c._id?"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/".concat(c._id):"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/add",l=c._id?"PUT":"POST",a.prev=4,a.next=7,fetch(r,{method:l,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(n)});case 7:if((o=a.sent).ok){a.next=13;break}return a.next=11,o.text();case 11:throw s=a.sent,new Error("HTTP status ".concat(o.status,": ").concat(s));case 13:return a.next=15,o.json();case 15:i=a.sent,console.log("Op\xe9ration r\xe9ussie:",i),j("Le bilan auditif a \xe9t\xe9 enregistr\xe9 avec succ\xe8s."),setTimeout((function(){j(""),e.push("/admin/clients")}),3e3),a.next=25;break;case 21:a.prev=21,a.t0=a.catch(4),console.error("Erreur lors de l'enregistrement du bilan auditif:",a.t0),I({form:"Erreur lors de l'op\xe9ration sur le bilan auditif."});case 25:case"end":return a.stop()}}),a,null,[[4,21]])})));return function(e){return a.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/generate-pdf",{method:"GET",headers:{"Content-Type":"application/pdf"}});case 3:if(!(a=e.sent).ok){e.next=18;break}return e.next=7,a.blob();case 7:t=e.sent,n=window.URL.createObjectURL(t),(r=document.createElement("a")).href=n,r.setAttribute("download","devis.pdf"),document.body.appendChild(r),r.click(),r.parentNode.removeChild(r),qe.b.success("Le PDF a \xe9t\xe9 t\xe9l\xe9charg\xe9 avec succ\xe8s !"),e.next=19;break;case 18:throw new Error("Probl\xe8me lors du t\xe9l\xe9chargement du PDF");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.error("Erreur lors du t\xe9l\xe9chargement du PDF:",e.t0),qe.b.error("Erreur lors du t\xe9l\xe9chargement du PDF");case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(g.a)(f.a.mark((function e(a){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/generate/".concat(a),{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}});case 3:if((t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:return n=e.sent,qe.b.error("Erreur lors de la g\xe9n\xe9ration de la facture: ".concat(n.message)),e.abrupt("return");case 10:qe.b.success("Facture g\xe9n\xe9r\xe9e avec succ\xe8s !"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),qe.b.error("Erreur lors de la g\xe9n\xe9ration de la facture: ".concat(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{paddingTop:"50px",background:"linear-gradient(87deg, #003D33 0, #007D70 100%)"}},r.a.createElement(p.a,{className:"mt-5"},r.a.createElement(re.a,null,r.a.createElement(qe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(le.a,{className:"bg-white text-white"},r.a.createElement(oe.a,{color:"link",onClick:function(){e.goBack()},style:{marginRight:"20px",color:"black"}},r.a.createElement($e.a,null)),r.a.createElement("h4",{className:"mb-0"},c._id?"Modifier Client":"Ajouter Nouveau Client"),r.a.createElement("div",{style:{float:"right"}},c._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{color:"info",onClick:function(){return d(!0)},disabled:u},"Modifier"),r.a.createElement(oe.a,{color:"primary",onClick:function(){q()&&B(c)},disabled:!u,style:{marginLeft:"10px"}},"Enregistrer Modifications")))),r.a.createElement(ce.a,null,r.a.createElement(w.a,{tabs:!0},r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()({active:"1"===N}),onClick:function(){T("1")},style:{cursor:"pointer"}},"Informations G\xe9n\xe9rales")),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()({active:"2"===N}),onClick:function(){T("2")},style:{cursor:"pointer"}},"Bilan Auditif")),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()({active:"3"===N}),onClick:function(){T("3")},style:{cursor:"pointer"}},"Devis")),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()({active:"4"===N}),onClick:function(){T("4")},style:{cursor:"pointer"}},"Appareillage"))),r.a.createElement(ta.a,{activeTab:N},r.a.createElement(na.a,{tabId:"1"},R&&r.a.createElement(ra.a,{color:"success",className:"fixed-alert",style:{position:"fixed",top:0,left:0,right:0,zIndex:1050},fade:!1},r.a.createElement("span",{className:"alert-inner--icon"},r.a.createElement("i",{className:"ni ni-like-2"})),r.a.createElement("span",{className:"alert-inner--text"},r.a.createElement("strong",null,"Succ\xe8s!")," ",R)),r.a.createElement(b.a,{onSubmit:function(e){e.preventDefault(),q()&&B(c)}},r.a.createElement(J.a,{form:!0,style:{paddingTop:"50px"}},r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"nom"},"Nom"),r.a.createElement(k.a,{type:"text",name:"nom",id:"nom",value:c.nom,onChange:L,required:!0,disabled:!u}),P.nom&&r.a.createElement("p",{style:{color:"red"}},P.nom))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"prenom"},"Pr\xe9nom"),r.a.createElement(k.a,{type:"text",name:"prenom",id:"prenom",value:c.prenom,onChange:L,disabled:!u})))),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"dateNaissance"},"Date de Naissance"),r.a.createElement(k.a,{type:"date",name:"dateNaissance",id:"dateNaissance",value:c.dateNaissance||"",onChange:L,disabled:!u}))),r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"mutuelle"},"Mutuelle"),r.a.createElement(k.a,{type:"text",name:"mutuelle",id:"mutuelle",value:c.mutuelle,onChange:L,disabled:!u}))),r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"numeroSecu"},"Num\xe9ro de S\xe9curit\xe9 Sociale"),r.a.createElement(k.a,{type:"text",name:"numeroSecu",id:"numeroSecu",value:c.numeroSecu,onChange:L,disabled:!u})))),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"statut"},"Statut"),r.a.createElement(k.a,{type:"select",name:"statut",id:"statut",value:c.statut,onChange:L,disabled:!u},r.a.createElement("option",{value:""},"S\xe9lectionner un statut"),r.a.createElement("option",{value:"Rdv fix\xe9"},"Rdv fix\xe9"),r.a.createElement("option",{value:"Rdv Annul\xe9"},"Rdv Annul\xe9"),r.a.createElement("option",{value:"Appareill\xe9"},"Appareill\xe9"),r.a.createElement("option",{value:"P\xe9riode d'essai"},"P\xe9riode d'essai"),r.a.createElement("option",{value:"Factur\xe9"},"Factur\xe9"))),"Appareill\xe9"===c.statut&&r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"dateAppareillage"},"Date d'Appareillage"),r.a.createElement(k.a,{type:"date",name:"dateAppareillage",value:c.dateAppareillage,onChange:L,disabled:!u})),"Factur\xe9"===c.statut&&r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"dateFacturation"},"Date de Facturation"),r.a.createElement(k.a,{type:"date",name:"dateFacturation",value:c.dateFacturation,onChange:L,disabled:!u}))),r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"origine"},"Origine"),r.a.createElement(k.a,{type:"select",name:"statut",id:"origine",value:c.origine,onChange:L,disabled:!u},r.a.createElement("option",{value:""},"S\xe9lectionner une origine"),r.a.createElement("option",{value:"Site"},"Site"),r.a.createElement("option",{value:"Facebook"},"Facebook"),r.a.createElement("option",{value:"Ouieqare"},"Ouieqare"),r.a.createElement("option",{value:"Audibene"},"Audibene"),r.a.createElement("option",{value:"Direct"},"Direct"),r.a.createElement("option",{value:"Google"},"Google"),r.a.createElement("option",{value:"Doctolib"},"Doctolib"))))),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"telephoneFixe"},"T\xe9l\xe9phone Fixe"),r.a.createElement(k.a,{type:"text",name:"telephoneFixe",id:"telephoneFixe",value:c.telephoneFixe,onChange:L,disabled:!u}))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"telephonePortable"},"T\xe9l\xe9phone Portable"),r.a.createElement(k.a,{type:"text",name:"telephonePortable",id:"telephonePortable",value:c.telephonePortable,onChange:L,disabled:!u})))),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"adresse"},"Adresse"),r.a.createElement(k.a,{type:"text",name:"adresse",id:"adresse",value:c.adresse,onChange:L,disabled:!u})),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"codePostal"},"Code Postal"),r.a.createElement(k.a,{type:"text",name:"codePostal",id:"codePostal",value:c.codePostal,onChange:L,disabled:!u}))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"ville"},"Ville"),r.a.createElement(k.a,{type:"text",name:"ville",id:"ville",value:c.ville,onChange:L,disabled:!u})))),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"email"},"Email"),r.a.createElement(k.a,{type:"email",name:"email",id:"email",value:c.email,onChange:L,required:!0,disabled:!u}),P.email&&r.a.createElement("p",{style:{color:"red"}},P.email)),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"note"},"Note"),r.a.createElement(k.a,{type:"textarea",name:"note",id:"note",value:c.note,onChange:L,disabled:!u,style:{minHeight:"100px",maxHeight:"300px"}})),r.a.createElement(oe.a,{type:"submit",color:"primary",disabled:!u},"Enregistrer"),r.a.createElement(oe.a,{type:"button",color:"secondary",onClick:function(){return e.push("/admin/clients")}},"Annuler"))),r.a.createElement(na.a,{tabId:"2"},C&&r.a.createElement(ra.a,{color:"success",className:"fixed-alert",fade:!1},r.a.createElement("span",{className:"alert-inner--icon"},r.a.createElement("i",{className:"ni ni-like-2"})),r.a.createElement("span",{className:"alert-inner--text"},r.a.createElement("strong",null,"Succ\xe8s!")," ",C)),r.a.createElement(b.a,{onSubmit:U,style:{paddingTop:"50px"}},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"audiogramme"},"Audiogramme"),r.a.createElement(k.a,{type:"text",name:"audiogramme",id:"audiogramme",value:c.audiogramme,onChange:L})),r.a.createElement(oe.a,{type:"submit",color:"primary"},"Enregistrer Bilan"))),r.a.createElement(na.a,{tabId:"3"},r.a.createElement(b.a,{onSubmit:U,style:{paddingTop:"50px"}},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"typeAppareil"},"Type d'Appareil"),r.a.createElement(k.a,{type:"text",name:"typeAppareil",id:"typeAppareil",value:c.typeAppareil,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"modeleAppareil"},"Mod\xe8le de l'Appareil"),r.a.createElement(k.a,{type:"text",name:"modeleAppareil",id:"modeleAppareil",value:c.modeleAppareil,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"numeroSerie"},"Num\xe9ro de S\xe9rie"),r.a.createElement(k.a,{type:"text",name:"numeroSerie",id:"numeroSerie",value:c.numeroSerie,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"prix"},"Prix"),r.a.createElement(k.a,{type:"number",name:"prix",id:"prix",value:c.prix,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"garantie"},"Dur\xe9e de la Garantie"),r.a.createElement(k.a,{type:"text",name:"garantie",id:"garantie",value:c.garantie,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"servicesInclus"},"Services Inclus"),r.a.createElement(k.a,{type:"text",name:"servicesInclus",id:"servicesInclus",value:c.servicesInclus,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"acompte"},"Acompte Requis"),r.a.createElement(k.a,{type:"number",name:"acompte",id:"acompte",value:c.acompte,onChange:L})),r.a.createElement(oe.a,{color:"secondary",onClick:G},"G\xe9n\xe9rer Devis PDF"),r.a.createElement(oe.a,{type:"submit",color:"primary"},"Enregistrer Devis"))),r.a.createElement(na.a,{tabId:"4"},r.a.createElement(b.a,{onSubmit:U,style:{paddingTop:"50px"}},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"marqueAppareil"},"Marque de l'appareil"),r.a.createElement(k.a,{type:"text",name:"marqueAppareil",id:"marqueAppareil",value:c.marqueAppareil,onChange:L})),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"montantAppareil"},"Montant de l'appareil"),r.a.createElement(k.a,{type:"text",name:"montantAppareil",id:"montantAppareil",value:c.montantAppareil,onChange:L})),r.a.createElement(v.a,{check:!0},r.a.createElement(la.a,{check:!0},r.a.createElement(k.a,{type:"checkbox",name:"monoAppareil",id:"monoAppareil",checked:c.monoAppareil||!1,onChange:function(e){var a=e.target,t=a.name,n=a.checked;o(Object(Te.a)(Object(Te.a)({},c),{},{appareillage:Object(Te.a)(Object(Te.a)({},c.appareillage),{},{[t]:n})}))}}),"Mono Appareil")),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"observations"},"Observations"),r.a.createElement(k.a,{type:"textarea",name:"Appobservations",id:"Appobservations",value:c.Appobservations,onChange:L})),r.a.createElement(oe.a,{type:"submit",color:"primary"},"Enregistrer Appareillage"))))))))};function sa(e){var a=new Date(e),t=a.getFullYear(),n=("0"+(a.getMonth()+1)).slice(-2),r=("0"+a.getDate()).slice(-2);return"".concat(t,"-").concat(n,"-").concat(r)}var ia,ma=function(){var e=Object(s.g)(),a=Object(s.h)(),t=Object(n.useState)({objet:"",dateFacture:"",heureCreation:"",nomClient:"",totalGeneral:"",statut:"Cr\xe9\xe9e"}),l=Object(ve.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)(!a.state||!a.state.facture),m=Object(ve.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)("1"),h=Object(ve.a)(E,2),N=h[0],x=h[1],y=Object(n.useState)([]),O=Object(ve.a)(y,2);O[0],O[1];Object(n.useEffect)((function(){if(a.state&&a.state.facture){var e=Object(Te.a)(Object(Te.a)({},a.state.facture),{},{dateFacture:sa(a.state.facture.dateFacture),statut:a.state.facture.statut||"Cr\xe9\xe9e"});o(e)}}),[a.state]);var C=Object(n.useState)({}),j=Object(ve.a)(C,2),S=j[0],F=j[1],T=Object(n.useState)(""),A=Object(ve.a)(T,2),D=A[0],P=(A[1],Object(n.useRef)(!1));Object(n.useEffect)((function(){return P.current=!0,function(){P.current=!1}}),[]);var I=function(){var e={},a=!0;return c.objet.trim()||(a=!1,e.objet="L'objet est requis."),c.email.trim()||(a=!1,e.email="L'email est requis."),F(e),a},_=function(){var e=Object(g.a)(f.a.mark((function e(a){var t,n,r,l,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a._id?"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/".concat(a._id):"https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/add",n=a._id?"PUT":"POST",console.log("Envoi des donn\xe9es du facture:",a),e.prev=3,e.next=6,fetch(t,{method:n,headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(a)});case 6:if(r=e.sent,console.log("Statut de la r\xe9ponse:",r.status),r.ok){e.next=15;break}return e.next=11,r.json();case 11:return l=e.sent,console.log("Erreur lors de l'enregistrement:",l),qe.b.error("Erreur: ".concat(l.message)),e.abrupt("return");case 15:return e.next=17,r.json();case 17:c=e.sent,console.log("R\xe9ponse du serveur:",c),qe.b.success("Le facture a \xe9t\xe9 ajout\xe9e/modifi\xe9e avec succ\xe8s !"),d(!1),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(3),console.error("Erreur lors de l'op\xe9ration sur le facture:",e.t0),qe.b.error("Erreur lors de l'op\xe9ration sur le facture: ".concat(e.t0.message));case 27:case"end":return e.stop()}}),e,null,[[3,23]])})));return function(a){return e.apply(this,arguments)}}(),z=function(e){var a=e.target,t=a.name,n=a.value;o(Object(Te.a)(Object(Te.a)({},c),{},{[t]:n})),S[t]&&F(Object(Te.a)(Object(Te.a)({},S),{},{[t]:null}))};return r.a.createElement("div",{id:"facture-content",style:{paddingTop:"50px",background:"linear-gradient(87deg, #003D33 0, #007D70 100%)"}},r.a.createElement(p.a,{className:"mt-5"},r.a.createElement(re.a,null,r.a.createElement(qe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(le.a,{className:"bg-white text-white"},r.a.createElement(oe.a,{color:"link",onClick:function(){e.goBack()},style:{marginRight:"20px",color:"black"}},r.a.createElement($e.a,null)),r.a.createElement("h4",{className:"mb-0"},c._id?"Modifier Factures":"Ajouter Nouvelle Facture"),r.a.createElement("div",{style:{float:"right"}},c._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{color:"info",onClick:function(){var e=new Xe.default;e.setFontSize(18),e.text("".concat(c.objet),105,25,null,null,"center"),e.setFontSize(11),e.text("Date: ".concat(c.dateFacture),200,30,null,null,"right"),e.text("Nom du Client: ".concat(c.nomClient),20,50),e.text("Email: ".concat(c.email),20,65),aa()(e,{head:[["Description","Quantit\xe9","Prix Unitaire","Total"]],body:[["Appareillage 1","1","550.00 \u20ac","550.00 \u20ac"]],startY:95}),e.text("Total G\xe9n\xe9ral: ".concat(c.totalGeneral," \u20ac"),20,e.lastAutoTable.finalY+20),e.save("".concat(c.objet,".pdf"))}},"G\xe9n\xe9rer PDF"),r.a.createElement(oe.a,{color:"info",onClick:function(){return d(!0)},disabled:u},"Modifier"),r.a.createElement(oe.a,{color:"primary",onClick:function(){I()&&_(c)},disabled:!u,style:{marginLeft:"10px"}},"Enregistrer Modifications")))),r.a.createElement(ce.a,null,r.a.createElement(w.a,{tabs:!0},r.a.createElement(V.a,null,r.a.createElement(H.a,{className:ee()({active:"1"===N}),onClick:function(){var e;N!==(e="1")&&x(e)},style:{cursor:"pointer"}},"Informations G\xe9n\xe9rales"))),r.a.createElement(ta.a,{activeTab:N},r.a.createElement(na.a,{tabId:"1"},D&&r.a.createElement(ra.a,{color:"success",className:"fixed-alert",style:{position:"fixed",top:0,left:0,right:0,zIndex:1050},fade:!1},r.a.createElement("span",{className:"alert-inner--icon"},r.a.createElement("i",{className:"ni ni-like-2"})),r.a.createElement("span",{className:"alert-inner--text"},r.a.createElement("strong",null,"Succ\xe8s!")," ",D)),r.a.createElement(b.a,{onSubmit:function(e){e.preventDefault(),I()&&_(c)}},r.a.createElement(J.a,{form:!0,style:{paddingTop:"50px"}},r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"objet"},"Objet"),r.a.createElement(k.a,{type:"text",name:"objet",id:"objet",value:c.objet,onChange:z,disabled:!u,required:!0}))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"numeroFacture"},"Num\xe9ro de la Facture"),r.a.createElement(k.a,{type:"text",name:"numeroFacture",id:"numeroFacture",value:c.numeroFacture,readOnly:!0}))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"nomClient"},"Nom du Client"),r.a.createElement(k.a,{type:"text",name:"nomClient",id:"nomClient",value:c.nomClient,onChange:z,disabled:!u,required:!0})))),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"dateFacture"},"Date de la Facture"),r.a.createElement(k.a,{type:"date",name:"dateFacture",id:"dateFacture",value:c.dateFacture,onChange:z,disabled:!u}))),r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"heureCreation"},"Heure de Cr\xe9ation"),r.a.createElement(k.a,{type:"time",name:"heureCreation",id:"heureCreation",value:c.heureCreation,onChange:z,disabled:!u}))),r.a.createElement(W.a,{md:4},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"totalGeneral"},"Total G\xe9n\xe9ral"),r.a.createElement(k.a,{type:"number",name:"totalGeneral",id:"totalGeneral",value:c.totalGeneral,onChange:z,disabled:!u})))),r.a.createElement(J.a,null,r.a.createElement(W.a,{md:12},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"statut"},"Statut"),r.a.createElement(k.a,{type:"select",name:"statut",id:"statut",value:c.statut,onChange:z,disabled:!u},r.a.createElement("option",{value:""},"S\xe9lectionner un statut"),r.a.createElement("option",{value:"Envoy\xe9e"},"Envoy\xe9e"),r.a.createElement("option",{value:"Pay\xe9e"},"Pay\xe9e"),r.a.createElement("option",{value:"Annul\xe9e"},"Annul\xe9e"),r.a.createElement("option",{value:"Cr\xe9\xe9e"},"Cr\xe9\xe9e"))))),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"telephoneFixe"},"T\xe9l\xe9phone Fixe"),r.a.createElement(k.a,{type:"text",name:"telephoneFixe",id:"telephoneFixe",value:c.telephoneFixe,onChange:z,disabled:!u}))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"telephonePortable"},"T\xe9l\xe9phone Portable"),r.a.createElement(k.a,{type:"text",name:"telephonePortable",id:"telephonePortable",value:c.telephonePortable,onChange:z,disabled:!u})))),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"adresse"},"Adresse"),r.a.createElement(k.a,{type:"text",name:"adresse",id:"adresse",value:c.adresse,onChange:z,disabled:!u})),r.a.createElement(J.a,{form:!0},r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"codePostal"},"Code Postal"),r.a.createElement(k.a,{type:"text",name:"codePostal",id:"codePostal",value:c.codePostal,onChange:z,disabled:!u}))),r.a.createElement(W.a,{md:6},r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"ville"},"Ville"),r.a.createElement(k.a,{type:"text",name:"ville",id:"ville",value:c.ville,onChange:z,disabled:!u})))),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"email"},"Email"),r.a.createElement(k.a,{type:"email",name:"email",id:"email",value:c.email,onChange:z,required:!0,disabled:!u}),S.email&&r.a.createElement("p",{style:{color:"red"}},S.email)),r.a.createElement(v.a,null,r.a.createElement(la.a,{for:"note"},"Note"),r.a.createElement(k.a,{type:"textarea",name:"note",id:"note",value:c.note,onChange:z,disabled:!u,style:{minHeight:"100px",maxHeight:"300px"}})),r.a.createElement(oe.a,{type:"submit",color:"primary",disabled:!u},"Enregistrer"),r.a.createElement(oe.a,{type:"button",color:"secondary",onClick:function(){return e.push("/admin/factures")}},"Annuler"))))))))},ua=function(){var e=Object(n.useState)([]),a=Object(ve.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(0),o=Object(ve.a)(c,2),s=o[0],i=o[1],m=Ke.Search.SearchBar,u=Object(n.useState)([]),d=Object(ve.a)(u,2),E=d[0],h=d[1],b=function(e,a){if(console.log("Select all ".concat(e?"on":"off")),e){var t=a.map((function(e){return e._id}));console.log("Selecting all ids:",t),h(t)}else h([])},v=function(){var e=Object(g.a)(f.a.mark((function e(){var a,n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xcates-vous s\xfbr de vouloir supprimer les clients s\xe9lectionn\xe9s d\xe9finitivement ?")){e.next=21;break}a=Object(Re.a)(E),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=10;break}return r=n.value,e.next=8,O(r);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),a.e(e.t0);case 15:return e.prev=15,a.f(),e.finish(15);case 18:c=t.filter((function(e){return!E.includes(e._id)})),l(c),h([]);case 21:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),N=E.length>0?r.a.createElement(oe.a,{color:"danger",onClick:v,style:{marginLeft:"10px"}},"Supprimer la s\xe9lection"):null,x={mode:"checkbox",clickToSelect:!0,selected:E,onSelect:function(e,a){console.log("Select ".concat(a?"on":"off"," for row id ").concat(e._id)),h(a?function(a){var t=[].concat(Object(Me.a)(a),[e._id]);return console.log("New selected after add:",t),t}:function(a){var t=a.filter((function(a){return a!==e._id}));return console.log("New selected after remove:",t),t})},onSelectAll:b,selectionHeaderRenderer:function(e){var a=e.mode,n=e.checked,l=e.indeterminate;return r.a.createElement("input",{type:a,checked:n,ref:function(e){e&&(e.indeterminate=l)},onChange:function(e){b(e.target.checked,t)}})},style:{backgroundColor:"#c8e6c9"}};Object(n.useEffect)((function(){y()}),[]);var y=function(){var e=localStorage.getItem("token");if(e){var a=e.trim().replace("JWT ","");console.log("Formatted Token from localStorage:",a),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/deleted",{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){if(!e.ok)throw new Error("HTTP status ".concat(e.status));return e.json()})).then((function(e){console.log("Deleted clients fetched:",e),l(e),i(e.length)})).catch((function(e){console.error("Error fetching clients:",e.message)}))}else console.error("Token not found in localStorage")},k=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"nom",text:"Nom",sort:!0},{dataField:"prenom",text:"Pr\xe9nom",sort:!0},{dataField:"email",text:"Email",sort:!0},{dataField:"actions",text:"Actions",formatter:function(e,a){return r.a.createElement("div",null,r.a.createElement(oe.a,{color:"success",size:"sm",onClick:function(){return w(a._id)}},"Restaurer")," ",r.a.createElement(oe.a,{color:"danger",size:"sm",onClick:function(){return O(a._id)}},r.a.createElement("i",{className:"fas fa-trash"})))}}],w=function(e){var a=localStorage.getItem("token");if(a){var t=a.trim().replace("JWT ","");fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/restore/".concat(e),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error("HTTP status ".concat(e.status));return e.json()})).then((function(a){if(!a.success)throw new Error(a.message);i((function(e){return e-1})),qe.b.success("Client restaur\xe9 avec succ\xe9s !"),l((function(a){return a.filter((function(a){return a._id!==e}))}))})).catch((function(e){console.error("Error:",e),qe.b.error("Error: ".concat(e.message))}))}else console.error("Token not found in localStorage")},O=function(){var e=Object(g.a)(f.a.mark((function e(a){var t,n,r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token")){e.next=4;break}return console.error("Token not found in localStorage"),e.abrupt("return");case 4:return n=t.trim(),r=n.replace("JWT ",""),e.prev=6,e.next=9,fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/deletedef/".concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"}});case 9:return c=e.sent,e.next=12,c.json();case 12:if(o=e.sent,c.ok){e.next=15;break}throw new Error("HTTP status ".concat(c.status));case 15:if(!o.success){e.next=21;break}qe.b.success("Client supprim\xe9 avec succ\xe8s!"),i((function(e){return e-1})),l((function(e){return e.filter((function(e){return e._id!==a}))})),e.next=22;break;case 21:throw new Error(o.message);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),console.error("Error:",e.t0),qe.b.error("Error: ".concat(e.t0.message));case 28:case"end":return e.stop()}}),e,null,[[6,24]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(qe.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0"},r.a.createElement("h3",{className:"mb-0"},"Corbeille (Total : ",s,")")),r.a.createElement(ce.a,null,r.a.createElement(Qe.a,{keyField:"_id",data:t,columns:k,search:!0},(function(e){return r.a.createElement("div",null,N,r.a.createElement(m,e.searchProps),r.a.createElement(He.a,Object.assign({},e.baseProps,{bootstrap4:!0,selectRow:x,pagination:Ye()(),noDataIndication:"Aucun client supprim\xe9 trouv\xe9"})))}))))))))},da=t(276),pa=t.n(da),Ea=function(){var e=Object(s.i)().status,a=Object(n.useState)([]),t=Object(ve.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(0),i=Object(ve.a)(o,2),m=i[0],u=i[1];Object(n.useEffect)((function(){(function(){var a=Object(g.a)(f.a.mark((function a(){var t;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.a.get("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/by-status/".concat(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))}});case 3:t=a.sent,c(t.data),u(t.data.length),console.log("Clients mis \xe0 jour avec le statut",e,":",t.data),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error("Error fetching clients:",a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}})()()}),[e]),Object(n.useEffect)((function(){localStorage.setItem("totalClientsStatus",m)}),[m]);var d=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"nom",text:"Nom",sort:!0},{dataField:"prenom",text:"Pr\xe9nom",sort:!0},{dataField:"email",text:"Email",sort:!0},{dataField:"telephonePortable",text:"T\xe9l\xe9phone Portable",sort:!0},{dataField:"ville",text:"Ville",sort:!0},{dataField:"dateNaissance",text:"Date de Naissance",formatter:function(e,a){return(t=a.dateNaissance)?new Date(t).toLocaleDateString("fr-FR"):"";var t},sort:!0},{dataField:"actions",text:"Actions",formatter:function(e,a){return r.a.createElement("div",null," ")}}],E=Ye()({page:1,sizePerPage:10,lastPageText:">>",firstPageText:"<<",nextPageText:">",prePageText:"<",alwaysShowAllBtns:!0,onPageChange:function(e,a){console.log("page",e),console.log("sizePerPage",a)},onSizePerPageChange:function(e,a){console.log("page",e),console.log("sizePerPage",a)}});return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{totalClientsStatus:m}),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0"},r.a.createElement("h3",{className:"mb-0"},"Clients avec le statut: ",e," - (Total : ",m,")")),r.a.createElement(ce.a,null,r.a.createElement(pa.a,{keyField:"id",data:l,columns:d,search:!0},(function(e){return r.a.createElement(He.a,Object.assign({},e.baseProps,{pagination:E,bordered:!1}))}))))))))},fa=t(278),ga=t(80),ha=t(280),ba=t(277),va=t(169),Na=t.n(va),xa=t(646),ya=[{id:1,title:"Event 1",start:"2020-09-05",end:"2020-09-07"},{id:2,title:"Event 2",start:"2020-09-08",end:"2020-09-10"}],ka=[{path:"/index",name:"Dashboard",icon:"ni ni-tv-2 text-primary",component:pe,layout:"/admin",api:!1},{path:"/maps",name:"Maps",icon:"ni ni-pin-3 text-orange",component:be,layout:"/admin",api:!1},{path:"/user-profile",name:"Profil Utilisateur",icon:"ni ni-circle-08 text-yellow",component:fe,layout:"/admin",api:!0,hidden:!0},{path:"/statutClient/:status",name:"ClientStatusPage",icon:"ni ni-bullet-list-67 text-red",component:Ea,layout:"/admin",api:!1,hidden:!0},{path:"/agenda",name:"Agenda",icon:"ni ni-calendar-grid-58",component:function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).state={events:ya,alert:null},e.createCalendar=function(){(ia=new ga.a(e.refs.calendar,{plugins:[ba.a,ha.a],defaultView:"dayGridMonth",locale:fa.a,selectable:!0,selectHelper:!0,editable:!0,events:e.state.events,select:function(a){e.setState({modalAdd:!0,startDate:a.startStr,endDate:a.endStr,radios:"bg-info"})},eventClick:function(a){var t=a.event;e.setState({modalChange:!0,eventId:t.id,eventTitle:t.title,eventDescription:t.extendedProps.description,radios:"bg-info",event:t})}})).render(),e.setState({currentDate:ia.view.title})},e.changeView=function(a){ia.changeView(a),e.setState({currentDate:ia.view.title})},e.addNewEvent=function(){var a=e.state.events;a.push({title:e.state.eventTitle,start:e.state.startDate,end:e.state.endDate,className:e.state.radios,id:e.state.events[e.state.events.length-1]+1}),ia.addEvent({title:e.state.eventTitle,start:e.state.startDate,end:e.state.endDate,className:e.state.radios,id:e.state.events[e.state.events.length-1]+1}),e.setState({modalAdd:!1,events:a,startDate:void 0,endDate:void 0,radios:"bg-info",eventTitle:void 0})},e.changeEvent=function(){var a=e.state.events.map((function(a,t){return a.id+""===e.state.eventId+""?(e.state.event.remove(),ia.addEvent(Object(Te.a)(Object(Te.a)({},a),{},{title:e.state.eventTitle,className:e.state.radios,description:e.state.eventDescription})),Object(Te.a)(Object(Te.a)({},a),{},{title:e.state.eventTitle,className:e.state.radios,description:e.state.eventDescription})):a}));e.setState({modalChange:!1,events:a,radios:"bg-info",eventTitle:void 0,eventDescription:void 0,eventId:void 0,event:void 0})},e.deleteEventSweetAlert=function(){e.setState({alert:r.a.createElement(Na.a,{warning:!0,style:{display:"block",marginTop:"-100px"},title:"\xcates-vous s\xfbr?",onConfirm:function(){return e.setState({alert:!1,radios:"bg-info",eventTitle:void 0,eventDescription:void 0,eventId:void 0})},onCancel:function(){return e.deleteEvent()},confirmBtnCssClass:"btn-secondary",cancelBtnBsStyle:"danger",confirmBtnText:"Modifier",cancelBtnText:"Oui, supprimer",showCancel:!0,btnSize:""},"Vous ne pourrez pas revenir en arri\xe8re!")})},e.deleteEvent=function(){var a=e.state.events.filter((function(a){return a.id+""!==e.state.eventId}));e.state.event.remove(),e.setState({alert:r.a.createElement(Na.a,{success:!0,style:{display:"block",marginTop:"-100px"},title:"Success",onConfirm:function(){return e.setState({alert:null})},onCancel:function(){return e.setState({alert:null})},confirmBtnBsStyle:"primary",confirmBtnText:"Ok",btnSize:""},"A few words about this sweet alert ..."),modalChange:!1,events:a,radios:"bg-info",eventTitle:void 0,eventDescription:void 0,eventId:void 0,event:void 0})},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){this.createCalendar()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{paddingTop:"50px",background:"linear-gradient(87deg, #003D33 0, #007D70 100%)"}},r.a.createElement(p.a,{className:"mt-5",style:{paddingBottom:"50px"}},this.state.alert,r.a.createElement(re.a,{className:"card-calendar"},r.a.createElement(le.a,{style:{paddingTop:"50px",background:"linear-gradient(87deg, #003D33 0, #007D70 100%)"}},r.a.createElement(J.a,{style:{marginTop:"40px"},className:"align-items-center py-4"},r.a.createElement(W.a,{lg:"6"},r.a.createElement("h6",{className:"fullcalendar-title h2 text-white d-inline-block mb-0 mr-1"},this.state.currentDate)),r.a.createElement(W.a,{className:"mt-3 mt-lg-0 text-lg-right",lg:"6"},r.a.createElement(oe.a,{className:"fullcalendar-btn-prev btn-neutral",color:"default",onClick:function(){ia.next()},size:"sm"},r.a.createElement("i",{className:"fas fa-angle-left"})),r.a.createElement(oe.a,{className:"fullcalendar-btn-next btn-neutral",color:"default",onClick:function(){ia.prev()},size:"sm"},r.a.createElement("i",{className:"fas fa-angle-right"})),r.a.createElement(oe.a,{className:"btn-neutral",color:"default","data-calendar-view":"month",onClick:function(){return e.changeView("dayGridMonth")},size:"sm"},"Mois"),r.a.createElement(oe.a,{className:"btn-neutral",color:"default","data-calendar-view":"basicWeek",onClick:function(){return e.changeView("dayGridWeek")},size:"sm"},"Semaine"),r.a.createElement(oe.a,{className:"btn-neutral",color:"default","data-calendar-view":"basicDay",onClick:function(){return e.changeView("dayGridDay")},size:"sm"},"Jour")))),r.a.createElement(ce.a,{className:"p-0",style:{marginLeft:"20px",marginRight:"20px",marginTop:"20px",marginBottom:"20px"}},r.a.createElement("div",{className:"calendar",ref:"calendar"}))))),r.a.createElement(Be.a,{isOpen:this.state.modalAdd,toggle:function(){return e.setState({modalAdd:!1})},className:"modal-dialog-centered modal-secondary"},r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{className:"new-event--form"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label"},"Titre de l'\xe9v\xe9nement"),r.a.createElement(k.a,{className:"form-control-alternative new-event--title",placeholder:"Titre de l'\xe9v\xe9nement",type:"text",onChange:function(a){return e.setState({eventTitle:a.target.value})}})),r.a.createElement(v.a,{className:"mb-0"},r.a.createElement("label",{className:"form-control-label d-block mb-3"},"Status color"),r.a.createElement(xa.a,{className:"btn-group-toggle btn-group-colors event-tag","data-toggle":"buttons"},r.a.createElement(oe.a,{className:ee()("bg-info",{active:"bg-info"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-info"})}}),r.a.createElement(oe.a,{className:ee()("bg-warning",{active:"bg-warning"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-warning"})}}),r.a.createElement(oe.a,{className:ee()("bg-danger",{active:"bg-danger"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-danger"})}}),r.a.createElement(oe.a,{className:ee()("bg-success",{active:"bg-success"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-success"})}}),r.a.createElement(oe.a,{className:ee()("bg-default",{active:"bg-default"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-default"})}}),r.a.createElement(oe.a,{className:ee()("bg-primary",{active:"bg-primary"===this.state.radios}),color:"",type:"button",onClick:function(){e.setState({radios:"bg-primary"})}}))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(oe.a,{className:"new-event--add",color:"primary",type:"button",onClick:this.addNewEvent},"Ajouter un \xe9v\xe9nement"),r.a.createElement(oe.a,{className:"ml-auto",color:"link",type:"button",onClick:function(){return e.setState({modalAdd:!1})}},"Fermer"))),r.a.createElement(Be.a,{isOpen:this.state.modalChange,toggle:function(){return e.setState({modalChange:!1})},className:"modal-dialog-centered modal-secondary"},r.a.createElement("div",{className:"modal-body"},r.a.createElement(b.a,{className:"edit-event--form"},r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label"},"Event title"),r.a.createElement(k.a,{className:"form-control-alternative edit-event--title",placeholder:"Event Title",type:"text",defaultValue:this.state.eventTitle,onChange:function(a){return e.setState({eventTitle:a.target.value})}})),r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label d-block mb-3"},"Couleur du statut"),r.a.createElement(xa.a,{className:"btn-group-toggle btn-group-colors event-tag mb-0","data-toggle":"buttons"},r.a.createElement(oe.a,{className:ee()("bg-info",{active:"bg-info"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-info"})}}),r.a.createElement(oe.a,{className:ee()("bg-warning",{active:"bg-warning"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-warning"})}}),r.a.createElement(oe.a,{className:ee()("bg-danger",{active:"bg-danger"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-danger"})}}),r.a.createElement(oe.a,{className:ee()("bg-success",{active:"bg-success"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-success"})}}),r.a.createElement(oe.a,{className:ee()("bg-default",{active:"bg-default"===this.state.radios}),color:"",type:"button",onClick:function(){return e.setState({radios:"bg-default"})}}),r.a.createElement(oe.a,{className:ee()("bg-primary",{active:"bg-primary"===this.state.radios}),color:"",type:"button",onClick:function(){e.setState({radios:"bg-primary"})}}))),r.a.createElement(v.a,null,r.a.createElement("label",{className:"form-control-label"},"Description"),r.a.createElement(k.a,{className:"form-control-alternative edit-event--description textarea-autosize",placeholder:"Description de l'evenement",type:"textarea",defaultValue:this.state.eventDescription,onChange:function(a){return e.setState({eventDescription:a.target.value})}}),r.a.createElement("i",{className:"form-group--bar"})),r.a.createElement("input",{className:"edit-event--id",type:"hidden"}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement(oe.a,{color:"primary",onClick:this.changeEvent},"Mettre a jour"),r.a.createElement(oe.a,{color:"danger",onClick:function(){return e.setState({modalChange:!1},(function(){return e.deleteEventSweetAlert()}))}},"Supprimer"),r.a.createElement(oe.a,{className:"ml-auto",color:"link",onClick:function(){return e.setState({modalChange:!1})}},"Fermer"))))}}]),t}(r.a.Component),layout:"/admin",api:!1},{path:"/clients",name:"Clients ",icon:"ni ni-single-02",component:Ze,layout:"/admin",api:!1},{path:"/tables",name:"Statuts Clients",icon:"ni ni-bullet-list-67 text-red",component:Se,layout:"/admin",api:!1},{path:"/factures",name:"Factures",icon:"ni ni-money-coins",component:function(){var e=Object(s.g)(),a=Object(n.useState)([]),t=Object(ve.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(0),i=Object(ve.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(!1),E=Object(ve.a)(d,2),h=E[0],b=E[1],v=Object(n.useState)(null),N=Object(ve.a)(v,2),x=N[0],y=N[1],k=Object(n.useState)([]),w=Object(ve.a)(k,2),O=w[0],C=w[1],j=Object(n.useState)(null),S=Object(ve.a)(j,2),F=S[0],T=S[1],A=Object(n.useState)(null),D=Object(ve.a)(A,2),P=D[0],I=D[1],_=Object(n.useState)(!1),z=Object(ve.a)(_,2),R=z[0],M=(z[1],Object(n.useState)(!1)),q=Object(ve.a)(M,2),B=q[0],L=(q[1],Object(n.useState)("")),U=Object(ve.a)(L,2),W=(U[0],U[1]),V=function(){b(!h),h||R||B||(y(null),W(""))},H=function(e,a){if(console.log("Select all ".concat(e?"on":"off")),e){var t=a.map((function(e){return e._id}));console.log("Selecting all ids:",t),C(t)}else C([])},G=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("\xcates-vous s\xfbr de vouloir supprimer les factures s\xe9lectionn\xe9s ?")){e.next=20;break}a=Object(Re.a)(O),e.prev=2,n=f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value,e.next=3,fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/".concat(a),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))}}).then((function(e){if(!e.ok)throw new Error("Failed to delete facture ".concat(a,", status: ").concat(e.status));return e.json()})).then((function(e){if(!e.success)throw new Error(e.message);u((function(e){return e-1})),qe.b.success("Facture supprim\xe9 avec succ\xe8s!")})).catch((function(e){console.error("Error:",e),qe.b.error("Error deleting facture ".concat(a,": ").concat(e.message))}));case 3:case"end":return e.stop()}}),e)})),a.s();case 5:if((t=a.n()).done){e.next=9;break}return e.delegateYield(n(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),a.e(e.t1);case 14:return e.prev=14,a.f(),e.finish(14);case 17:r=l.filter((function(e){return!O.includes(e._id)})),c(r),C([]);case 20:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),Y=O.length>0?r.a.createElement(oe.a,{color:"danger",onClick:G,style:{marginLeft:"10px"}},"Supprimer la s\xe9lection"):null,K={mode:"checkbox",clickToSelect:!1,selected:O,onSelect:function(e,a){setTimeout((function(){console.log("Select ".concat(a?"on":"off"," for row id ").concat(e._id)),C(a?function(a){var t=[].concat(Object(Me.a)(a),[e._id]);return console.log("New selected after add:",t),t}:function(a){var t=a.filter((function(a){return a!==e._id}));return console.log("New selected after remove:",t),t})}),100)},onSelectAll:H,selectionHeaderRenderer:function(e){var a=e.mode,t=e.checked,n=e.indeterminate;return r.a.createElement("input",{type:a,checked:t,ref:function(e){e&&(e.indeterminate=n)},onChange:function(e){H(e.target.checked,l)}})},style:{backgroundColor:"#c8e6c9"},hideSelectColumn:!1},Q=function(e){var a=localStorage.getItem("token");if(a){var t=a.trim().replace("JWT ","");console.log("Formatted Token from localStorage:",t),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){if(!e.ok)throw new Error("HTTP status ".concat(e.status));return e.json()})).then((function(a){console.log("Factures fetched:",a),e(a),u(a.length)})).catch((function(e){console.error("Error fetching factures:",e.message)}))}else console.error("Token not found in localStorage")};Object(n.useEffect)((function(){Q()}),[]);var Z=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"objet",text:"Objet",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2"},{dataField:"numeroFacture",text:"Numero de Facture",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2"},{dataField:"heureCreation",text:"Heure de Cr\xe9ation",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2"},{dataField:"dateFacture",text:"Date de la Facture",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2",formatter:function(e,a){return e?new Date(e).toLocaleDateString("fr-FR"):"Non sp\xe9cifi\xe9e"}},{dataField:"nomClient",text:"Nom du Client",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2"},{dataField:"totalGeneral",text:"Total G\xe9n\xe9ral",sort:!0,classes:"col-lg-2",headerClasses:"col-lg-2",formatter:function(e){return"number"===typeof e?"".concat(e.toFixed(2)," \u20ac"):"Non sp\xe9cifi\xe9"}},{dataField:"statut",text:"Statut",classes:"col-md-4 col-lg-3",headerClasses:"d-none d-lg-table-cell col-md-4 col-lg-3",formatter:function(e,a){return r.a.createElement("select",{defaultValue:a.statut,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,a){var t=l.map((function(t){return t._id===e?Object(Te.a)(Object(Te.a)({},t),{},{statut:a}):t}));c(t),fetch("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/factures/".concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token").trim().replace("JWT ",""))},body:JSON.stringify({statut:a})}).then((function(e){return e.json()})).then((function(e){e.success?qe.b.success("Statut mis \xe0 jour avec succ\xe8s!"):(console.error("Failed to update status:",e.message),qe.b.error("Erreur lors de la mise \xe0 jour du statut: ".concat(e.message)))})).catch((function(e){console.error("Error updating status:",e),qe.b.error("Erreur: ".concat(e.message))}))}(a._id,e.target.value)},className:"form-control",style:{minWidth:"150px"}},r.a.createElement("option",{value:"Envoy\xe9e"},"Envoy\xe9e"),r.a.createElement("option",{value:"Pay\xe9e"},"Pay\xe9e"),r.a.createElement("option",{value:"Annul\xe9e"},"Annul\xe9e"),r.a.createElement("option",{value:"Cr\xe9\xe9e"},"Cr\xe9\xe9e"))}}];Object(n.useEffect)((function(){localStorage.setItem("totalFactures",m)}),[m]);var $=function(){var e=Object(g.a)(f.a.mark((function e(){var a,t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return qe.b.warn("Please select a file to upload."),e.abrupt("return");case 3:return(a=new FormData).append("file",x),e.prev=5,e.next=8,fetch("your-upload-url",{method:"POST",body:a});case 8:return t=e.sent,e.next=11,t.json();case 11:if(n=e.sent,!t.ok){e.next=18;break}c([].concat(Object(Me.a)(l),[n])),qe.b.success("Facture uploaded successfully!"),V(),e.next=19;break;case 18:throw new Error(n.message||"Could not upload file");case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(5),console.error("Upload error:",e.t0),qe.b.error("Upload failed: ".concat(e.t0.message));case 25:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(){return e.apply(this,arguments)}}(),X=Ye()({page:1,alwaysShowAllBtns:!0,withFirstAndLast:!1,sizePerPageRenderer:function(e){e.options,e.currSizePerPage;var a=e.onSizePerPageChange;return r.a.createElement("div",{className:"dataTables_length",id:"datatable-basic_length"},r.a.createElement("label",null," ",r.a.createElement("select",{name:"datatable-basic_length","aria-controls":"datatable-basic",className:"form-control form-control-sm",onChange:function(e){return a(e.target.value)}},r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"50"},"50"),r.a.createElement("option",{value:"100"},"100"))," "))}}),ee=Ke.Search.SearchBar;Object(n.useEffect)((function(){Q(c)}),[m]);var ae={onClick:function(a,t,n){var r;"BUTTON"!==a.target.tagName&&"INPUT"!==a.target.tagName&&"checkbox"!==a.target.type&&(r=t,console.log("Navigation to facture details for ID: ".concat(r._id)),T(r._id),e.push({pathname:"/admin/nouvelleFacture",state:{facture:r}}))},onMouseEnter:function(e,a,t){I(a._id)},onMouseLeave:function(e,a,t){I(null)}},te=function(e,a){return e._id===F?{backgroundColor:"#f8f9fe",cursor:"pointer"}:e._id===P?{backgroundColor:"#e9ecef",cursor:"pointer"}:{}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{totalFactures:m}),r.a.createElement(qe.a,{position:"bottom-left",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),r.a.createElement(p.a,{className:"mt--7",fluid:!0},r.a.createElement(J.a,null,r.a.createElement("div",{className:"col"},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(le.a,{className:"border-0 d-flex align-items-center justify-content-between"},r.a.createElement("h3",{className:"mb-0"},"Factures PDF"),r.a.createElement(oe.a,{onClick:function(){console.log("Redirection to /admin/nouvelleFacture"),e.push("/admin/nouvelleFacture")},style:{background:"linear-gradient(87deg, #003D33 0%, #007D70 100%)",color:"white"}},"Ajouter Facture")),r.a.createElement(ce.a,null,r.a.createElement(Qe.a,{keyField:"id",data:l,columns:Z,search:!0},(function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"row mb-2"},r.a.createElement("div",{className:"col-6 text-left"},Y),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement(ee,Object.assign({},e.searchProps,{className:"form-control-sm",placeholder:"Rechercher"})))),r.a.createElement(He.a,Object.assign({},e.baseProps,{keyField:"_id",bootstrap4:!0,pagination:X,data:l,columns:Z,selectRow:K,rowEvents:ae,rowStyle:te,bordered:!1})))}))))))),r.a.createElement(Be.a,{isOpen:h,toggle:V},r.a.createElement(Le.a,{toggle:V},"Importer des Factures"),r.a.createElement(Ue.a,null,r.a.createElement("input",{type:"file",onChange:function(e){y(e.target.files[0])},accept:"application/pdf"})),r.a.createElement(Je.a,null,r.a.createElement(oe.a,{color:"primary",onClick:$},"Importer"),r.a.createElement(oe.a,{color:"secondary",onClick:V},"Fermer"))))},layout:"/admin",api:!1},{path:"/nouveauClient",name:"Nouveau Client",icon:"ni ni-fat-add",component:oa,layout:"/admin",api:!1,hidden:!0},{path:"/nouvelleFacture",name:"Nouvelle Facture",icon:"ni ni-fat-add",component:ma,layout:"/admin",api:!1,hidden:!0},{path:"/login",name:"Connexion",icon:"ni ni-key-25 text-info",component:ye,layout:"/auth",api:!0,hidden:!0},{path:"/register",name:"Inscription",icon:"ni ni-circle-08 text-pink",component:xe,layout:"/auth",api:!0,hidden:!0},{path:"/confirm-email/:id",name:"Confirmer Email",icon:"ni ni-check-bold text-green",component:Fe,layout:"/auth",api:!0,hidden:!0},{path:"/edit-profile",name:"Modifier Profil",icon:"ni ni-ruler-pencil text-info",component:De,layout:"/admin",api:!0,hidden:!0},{path:"/users",name:"Utilisateurs",icon:"ni ni-folder-17 text-pink",component:Pe,layout:"/admin",api:!0,hidden:!0},{path:"/corbeille",name:"Corbeille",icon:"ni ni-folder-17 text-red",component:ua,layout:"/admin",api:!1},{path:"/reset-password",name:"R\xe9initialiser le mot de passe",icon:"ni ni-folder-17 text-pink",component:Ie,layout:"/auth",api:!0,hidden:!0},{path:"/confirm-password/:id",name:"Confirmer le mot de passe",icon:"ni ni-folder-17 text-pink",component:_e,layout:"/auth",api:!0,hidden:!0},{path:"/reset-success",name:"R\xe9initialisation du mot de passe confirm\xe9e",icon:"ni ni-folder-17 text-pink",component:ze,layout:"/auth",api:!1,hidden:!0}],wa=function(e){Object(u.a)(n,e);var a=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var t=arguments.length,l=new Array(t),c=0;c<t;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).getRoutes=function(e){return e.map((function(e,a){return"/admin"===e.layout?r.a.createElement(s.b,{path:e.layout+e.path,component:e.component,key:a}):null}))},e.getBrandText=function(a){for(var t=0;t<ka.length;t++)if(-1!==e.props.location.pathname.indexOf(ka[t].layout+ka[t].path))return ka[t].name;return"Brand"},e}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,Object.assign({},this.props,{routes:ka,logo:{innerLink:"/admin/index",imgSrc:t(161).default,imgAlt:"..."}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(U,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(s.d,null,this.getRoutes(ka),r.a.createElement(s.a,{from:"*",to:"/admin/index"})),r.a.createElement(p.a,{fluid:!0},r.a.createElement(G,null))))}}]),n}(r.a.Component),Oa=t(647),Ca=function(e){Object(u.a)(n,e);var a=Object(d.a)(n);function n(){return Object(i.a)(this,n),a.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md"},r.a.createElement(p.a,{className:"px-4"},r.a.createElement(Q.a,{to:"/",tag:o.b},r.a.createElement("img",{alt:"...",src:t(161).default})),r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement(Oa.a,{navbar:!0,toggler:"#navbar-collapse-main"},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(J.a,null,r.a.createElement(W.a,{className:"collapse-brand",xs:"6"},r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{alt:"...",src:t(161).default}))),r.a.createElement(W.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",id:"navbar-collapse-main"},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement(w.a,{className:"ml-auto",navbar:!0},r.a.createElement(V.a,null,r.a.createElement(H.a,{className:"nav-link-icon",to:"/",tag:o.b},r.a.createElement("i",{className:"ni ni-planet"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Menu"))),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:"nav-link-icon",to:"/auth/register",tag:o.b},r.a.createElement("i",{className:"ni ni-circle-08"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Inscription"))),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:"nav-link-icon",to:"/auth/login",tag:o.b},r.a.createElement("i",{className:"ni ni-key-25"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Connexion"))),r.a.createElement(V.a,null,r.a.createElement(H.a,{className:"nav-link-icon",to:"/admin/user-profile",tag:o.b},r.a.createElement("i",{className:"ni ni-single-02"}),r.a.createElement("span",{className:"nav-link-inner--text"},"Profil"))))))))}}]),n}(r.a.Component),ja=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"py-5"},r.a.createElement(p.a,null,r.a.createElement(J.a,{className:"align-items-center justify-content-xl-between"},r.a.createElement(W.a,{xl:"6"},r.a.createElement("div",{className:"copyright text-center text-xl-left text-muted"},"\xa9 2018"," ",r.a.createElement("a",{className:"font-weight-bold ml-1",href:"https://www.ouieqare.com?ref=adr-auth-footer",target:"_blank"},"Vtalys"))),r.a.createElement(W.a,{xl:"6"},r.a.createElement(w.a,{className:"nav-footer justify-content-center justify-content-xl-end"},r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://www.ouieqare.com?ref=adr-auth-footer",target:"_blank"},"Vtalys")),r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://www.ouieqare.com/presentation?ref=adr-auth-footer",target:"_blank"},"A propos")),r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"http://blog.ouieqare.com?ref=adr-auth-footer",target:"_blank"},"Blog")),r.a.createElement(V.a,null,r.a.createElement(H.a,{href:"https://github.com/creativetimofficial/argon-dashboard/blob/master/LICENSE.md?ref=adr-auth-footer",target:"_blank"},"MIT License"))))))))}}]),t}(r.a.Component),Sa=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).getRoutes=function(e){return e.map((function(e,a){return"/auth"===e.layout?r.a.createElement(s.b,{path:e.layout+e.path,component:e.component,key:a}):null}))},e}return Object(m.a)(t,[{key:"componentDidMount",value:function(){document.body.classList.add("bg-default")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("bg-default")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content"},r.a.createElement(Ca,null),r.a.createElement("div",{className:"header bg-gradient-info py-7 py-lg-8"},r.a.createElement(p.a,null,r.a.createElement("div",{className:"header-body text-center mb-7"},r.a.createElement(J.a,{className:"justify-content-center"},r.a.createElement(W.a,{lg:"5",md:"6"},r.a.createElement("h1",{className:"text-white"},"Bienvenue!"))))),r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(p.a,{className:"mt--8 pb-5"},r.a.createElement(J.a,{className:"justify-content-center"},r.a.createElement(s.d,null,this.getRoutes(ka),r.a.createElement(s.a,{from:"*",to:"/auth/login"}))))),r.a.createElement(ja,null))}}]),t}(r.a.Component),Fa=t(124),Ta=function(e){var a=e.component,t=Object(Fa.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return localStorage.getItem("token")&&localStorage.getItem("user")?r.a.createElement(a,e):r.a.createElement(s.a,{to:"/auth/login"})}}))},Aa=function(e){var a=e.component,t=Object(Fa.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return localStorage.getItem("token")&&localStorage.getItem("user")?r.a.createElement(s.a,{to:"/admin/index"}):r.a.createElement(a,e)}}))},Da=Object(n.createContext)(),Pa=function(e){var a=e.children,t=Object(n.useState)({}),l=Object(ve.a)(t,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("https://ouieqare-crm-336f65ca3acc.herokuapp.com/api/clients/count-by-status",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:a=e.sent,o(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch status counts:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(Da.Provider,{value:c},a)};c.a.render(r.a.createElement(Pa,null,r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(Ta,{path:"/admin",component:wa}),r.a.createElement(Aa,{path:"/auth",component:Sa}),r.a.createElement(s.a,{from:"/",to:"/admin/index"})))),document.getElementById("root"))},67:function(e,a,t){var n=t(51);n.elements.Rectangle.prototype.draw=function(){var e,a,t,n,r,l,c,o=this._chart.ctx,s=this._view,i=s.borderWidth;if(s.horizontal?(e=s.base,a=s.x,t=s.y-s.height/2,n=s.y+s.height/2,r=a>e?1:-1,l=1,c=s.borderSkipped||"left"):(e=s.x-s.width/2,a=s.x+s.width/2,t=s.y,r=1,l=(n=s.base)>t?1:-1,c=s.borderSkipped||"bottom"),i){var m=Math.min(Math.abs(e-a),Math.abs(t-n)),u=(i=i>m?m:i)/2,d=e+("left"!==c?u*r:0),p=a+("right"!==c?-u*r:0),E=t+("top"!==c?u*l:0),f=n+("bottom"!==c?-u*l:0);d!==p&&(t=E,n=f),E!==f&&(e=d,a=p)}o.beginPath(),o.fillStyle=s.backgroundColor,o.strokeStyle=s.borderColor,o.lineWidth=i;var g=[[e,n],[e,t],[a,t],[a,n]],h=["bottom","left","top","right"].indexOf(c,0);function b(e){return g[(h+e)%4]}-1===h&&(h=0);var v=b(0);o.moveTo(v[0],v[1]);for(var N=1;N<4;N++){v=b(N);var x=N+1;4===x&&(x=0);var y,k=g[2][0]-g[1][0],w=g[0][1]-g[1][1],O=g[1][0],C=g[1][1];(y=6)>w/2&&(y=w/2),y>k/2&&(y=k/2),o.moveTo(O+y,C),o.lineTo(O+k-y,C),o.quadraticCurveTo(O+k,C,O+k,C+y),o.lineTo(O+k,C+w-y),o.quadraticCurveTo(O+k,C+w,O+k-y,C+w),o.lineTo(O+y,C+w),o.quadraticCurveTo(O,C+w,O,C+w-y),o.lineTo(O,C+y),o.quadraticCurveTo(O,C,O+y,C)}o.fill(),i&&o.stroke()};var r="Open Sans",l={100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},c={default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},o="#FFFFFF",s="transparent";var i={options:{scales:{yAxes:[{gridLines:{color:l[900],zeroLineColor:l[900]},ticks:{callback:function(e){if(!(e%10))return"$"+e+"k"}}}]},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"",n=e.yLabel,r="";return a.datasets.length>1&&(r+=t),r+="$"+n+"k"}}}},data1:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}},data2:function(e){return{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,5,25,10,30,15,40,40]}]}}};e.exports={chartOptions:function(){var e={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:l[600],defaultFontColor:l[600],defaultFontFamily:r,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:c.primary},line:{tension:.4,borderWidth:4,borderColor:c.primary,backgroundColor:s,borderCapStyle:"rounded"},rectangle:{backgroundColor:c.warning},arc:{backgroundColor:c.primary,borderColor:o,borderWidth:4}},tooltips:{enabled:!0,mode:"index",intersect:!1}},doughnut:{cutoutPercentage:83,legendCallback:function(e){var a=e.data,t="";return a.labels.forEach((function(e,n){var r=a.datasets[0].backgroundColor[n];t+='<span class="chart-legend-item">',t+='<i class="chart-legend-indicator" style="background-color: '+r+'"></i>',t+=e,t+="</span>"})),t}}}};return n.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:l[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:l[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(e){if(!(e%10))return e}}}),n.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20}}),e},parseOptions:function e(a,t){for(var n in t)"object"!==typeof t[n]?a[n]=t[n]:e(a[n],t[n])},chartExample1:i,chartExample2:{options:{scales:{yAxes:[{ticks:{callback:function(e){if(!(e%10))return e}}}]},tooltips:{callbacks:{label:function(e,a){var t=a.datasets[e.datasetIndex].label||"",n=e.yLabel,r="";return a.datasets.length>1&&(r+=t),r+=n}}}},data:{labels:["Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[25,20,30,22,17,29],maxBarThickness:10}]}}}}},[[609,1,2]]]);
//# sourceMappingURL=main.6f754d80.chunk.js.map