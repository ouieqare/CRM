{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import config from\"../config\";// const https = require('https');\n//\n// const agent = new https.Agent({\n//     rejectUnauthorized: false,\n// });\nvar instance=axios.create({baseURL:config.WS_BASE_URL});instance.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(config){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem('token');config.headers.Authorization=token?token:'';config.headers.ContentType='application/json';return _context.abrupt(\"return\",config);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var getAll=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return instance.post('users/all');case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function getAll(){return _ref2.apply(this,arguments);};}();export var register=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,email,password,phone,agency,role){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return instance.post('users/register',{name,email,password,phone,agency,role});case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function register(_x2,_x3,_x4,_x5,_x6,_x7){return _ref3.apply(this,arguments);};}();export var confirmRegister=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return instance.post(\"users/confirm/\".concat(id));case 2:return _context4.abrupt(\"return\",_context4.sent);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function confirmRegister(_x8){return _ref4.apply(this,arguments);};}();export var forgotPassword=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(email){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return instance.post('users/forgotpassword',{email});case 2:return _context5.abrupt(\"return\",_context5.sent);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function forgotPassword(_x9){return _ref5.apply(this,arguments);};}();export var confirmReset=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id,password){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return instance.post(\"users/resetpass/\".concat(id),{password});case 2:return _context6.abrupt(\"return\",_context6.sent);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function confirmReset(_x10,_x11){return _ref6.apply(this,arguments);};}();export var login=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(email,password){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return instance.post('users/login',{email,password});case 2:return _context7.abrupt(\"return\",_context7.sent);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function login(_x12,_x13){return _ref7.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(token){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return instance.post('users/logout',{token});case 2:return _context8.abrupt(\"return\",_context8.sent);case 3:case\"end\":return _context8.stop();}}},_callee8);}));return function logout(_x14){return _ref8.apply(this,arguments);};}();export var edit=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(userID,name,email){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return instance.post('/users/edit',{userID,name,email});case 2:return _context9.abrupt(\"return\",_context9.sent);case 3:case\"end\":return _context9.stop();}}},_callee9);}));return function edit(_x15,_x16,_x17){return _ref9.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/src/network/ApiAxios.js"],"names":["axios","config","instance","create","baseURL","WS_BASE_URL","interceptors","request","use","token","localStorage","getItem","headers","Authorization","ContentType","getAll","post","register","name","email","password","phone","agency","role","confirmRegister","id","forgotPassword","confirmReset","login","logout","edit","userID"],"mappings":"6VAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAEA;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,QAAQ,CAAGF,KAAK,CAACG,MAAN,CAAa,CAC1BC,OAAO,CAAEH,MAAM,CAACI,WADU,CAAb,CAAjB,CAIAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,0FAAkC,iBAAOP,MAAP,4HACxBQ,KADwB,CAChBC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADgB,CAE9BV,MAAM,CAACW,OAAP,CAAeC,aAAf,CAAgCJ,KAAK,CAAGA,KAAH,CAAW,EAAhD,CACAR,MAAM,CAACW,OAAP,CAAeE,WAAf,CAA6B,kBAA7B,CAH8B,gCAIvBb,MAJuB,wDAAlC,gEAOA,MAAO,IAAMc,CAAAA,MAAM,2FAAG,+JACZb,CAAAA,QAAQ,CAACc,IAAT,CAAc,WAAd,CADY,iHAAH,kBAAND,CAAAA,MAAM,2CAAZ,CAIP,MAAO,IAAME,CAAAA,QAAQ,2FAAG,kBAAOC,IAAP,CAAaC,KAAb,CAAoBC,QAApB,CAA8BC,KAA9B,CAAqCC,MAArC,CAA6CC,IAA7C,6IACdrB,CAAAA,QAAQ,CAACc,IAAT,CAAc,gBAAd,CAAgC,CAACE,IAAD,CAAOC,KAAP,CAAcC,QAAd,CAAwBC,KAAxB,CAA+BC,MAA/B,CAAuCC,IAAvC,CAAhC,CADc,iHAAH,kBAARN,CAAAA,QAAQ,kEAAd,CAIP,MAAO,IAAMO,CAAAA,eAAe,2FAAG,kBAAMC,EAAN,6IACrBvB,CAAAA,QAAQ,CAACc,IAAT,yBAA+BS,EAA/B,EADqB,iHAAH,kBAAfD,CAAAA,eAAe,8CAArB,CAIP,MAAO,IAAME,CAAAA,cAAc,2FAAG,kBAAMP,KAAN,6IACpBjB,CAAAA,QAAQ,CAACc,IAAT,CAAc,sBAAd,CAAsC,CAACG,KAAD,CAAtC,CADoB,iHAAH,kBAAdO,CAAAA,cAAc,8CAApB,CAIP,MAAO,IAAMC,CAAAA,YAAY,2FAAG,kBAAOF,EAAP,CAAWL,QAAX,6IAClBlB,CAAAA,QAAQ,CAACc,IAAT,2BAAiCS,EAAjC,EAAuC,CAACL,QAAD,CAAvC,CADkB,iHAAH,kBAAZO,CAAAA,YAAY,oDAAlB,CAIP,MAAO,IAAMC,CAAAA,KAAK,2FAAG,kBAAOT,KAAP,CAAcC,QAAd,6IACXlB,CAAAA,QAAQ,CAACc,IAAT,CAAc,aAAd,CAA6B,CAACG,KAAD,CAAQC,QAAR,CAA7B,CADW,iHAAH,kBAALQ,CAAAA,KAAK,oDAAX,CAIP,MAAO,IAAMC,CAAAA,MAAM,2FAAG,kBAAMpB,KAAN,6IACZP,CAAAA,QAAQ,CAACc,IAAT,CAAc,cAAd,CAA8B,CAACP,KAAD,CAA9B,CADY,iHAAH,kBAANoB,CAAAA,MAAM,+CAAZ,CAIP,MAAO,IAAMC,CAAAA,IAAI,2FAAG,kBAAOC,MAAP,CAAeb,IAAf,CAAqBC,KAArB,6IACVjB,CAAAA,QAAQ,CAACc,IAAT,CAAc,aAAd,CAA6B,CAACe,MAAD,CAASb,IAAT,CAAeC,KAAf,CAA7B,CADU,iHAAH,kBAAJW,CAAAA,IAAI,yDAAV","sourcesContent":["import axios from 'axios';\nimport config from \"../config\";\n\n// const https = require('https');\n//\n// const agent = new https.Agent({\n//     rejectUnauthorized: false,\n// });\n\nconst instance = axios.create({\n    baseURL: config.WS_BASE_URL,\n});\n\ninstance.interceptors.request.use(async (config) => {\n    const token = localStorage.getItem('token');\n    config.headers.Authorization = (token ? token : '');\n    config.headers.ContentType = 'application/json';\n    return config;\n});\n\nexport const getAll = async () => (\n    await instance.post('users/all')\n);\n\nexport const register = async (name, email, password, phone, agency, role) => (\n    await instance.post('users/register', {name, email, password, phone, agency, role})\n);\n\nexport const confirmRegister = async id => (\n    await instance.post(`users/confirm/${id}`)\n);\n\nexport const forgotPassword = async email => (\n    await instance.post('users/forgotpassword', {email})\n);\n\nexport const confirmReset = async (id, password) => (\n    await instance.post(`users/resetpass/${id}`, {password})\n);\n\nexport const login = async (email, password) => (\n    await instance.post('users/login', {email, password})\n);\n\nexport const logout = async token => (\n    await instance.post('users/logout', {token})\n);\n\nexport const edit = async (userID, name, email) => (\n    await instance.post('/users/edit', {userID, name, email})\n);\n"]},"metadata":{},"sourceType":"module"}