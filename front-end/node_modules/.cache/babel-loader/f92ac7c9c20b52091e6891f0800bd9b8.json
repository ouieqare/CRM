{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/import React,{useEffect,useState}from\"react\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,Container,Row,Col}from\"reactstrap\";// core components\nimport UserHeader from\"components/Headers/UserHeader.js\";import EditHeader from\"../../components/Headers/EditHeader\";import{edit}from\"../../network/ApiAxios\";var EditProfile=function EditProfile(props){var user=JSON.parse(localStorage.getItem(\"user\"));var _useState=useState(user.name),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(user.email),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isTestUser=_useState6[0],setIsTestUser=_useState6[1];useEffect(function(){if(JSON.parse(localStorage.getItem(\"user\")).email===\"test@test.com\"){setIsTestUser(true);}},[]);var editUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return edit(user._id,name,email);case 2:response=_context.sent;data=response.data;if(data.success){user=_objectSpread(_objectSpread({},user),{},{name,email});localStorage.setItem(\"user\",JSON.stringify(user));props.history.push(\"/admin/user-profile\");}case 5:case\"end\":return _context.stop();}}},_callee);}));return function editUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EditHeader,null),/*#__PURE__*/React.createElement(Container,{className:\"mt--7\",fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-white border-0\"},/*#__PURE__*/React.createElement(Row,{className:\"align-items-center\"},/*#__PURE__*/React.createElement(Col,{xs:\"8\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"mb-0\"},\"My account\"),isTestUser?/*#__PURE__*/React.createElement(\"h5\",null,\"You are not allowed to edit the test user. Create another user to test this functionality\"):null),/*#__PURE__*/React.createElement(Col,{className:\"text-right\",xs:\"4\"},/*#__PURE__*/React.createElement(Button,{color:\"primary\",href:\"#pablo\",onClick:editUser,size:\"sm\",disabled:isTestUser},\"Save\")))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"h6\",{className:\"heading-small text-muted mb-4\"},\"User information\"),/*#__PURE__*/React.createElement(\"div\",{className:\"pl-lg-4\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-username\"},\"Username\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",value:name,id:\"input-username\",placeholder:\"Username\",onChange:function onChange(e){return setName(e.target.value);},type:\"text\"}))),/*#__PURE__*/React.createElement(Col,{lg:\"6\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"form-control-label\",htmlFor:\"input-email\"},\"Email address\"),/*#__PURE__*/React.createElement(Input,{className:\"form-control-alternative\",id:\"input-email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\"}))))))))))));};export default EditProfile;","map":{"version":3,"sources":["C:/Users/user/Desktop/Projet Code/Ouieqare-MERN/front-end/src/views/examples/EditProfile.js"],"names":["React","useEffect","useState","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","Container","Row","Col","UserHeader","EditHeader","edit","EditProfile","props","user","JSON","parse","localStorage","getItem","name","setName","email","setEmail","isTestUser","setIsTestUser","editUser","_id","response","data","success","setItem","stringify","history","push","e","target","value"],"mappings":"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","sourcesContent":["/*!\n\n=========================================================\n* Argon Dashboard React - v1.1.0\n=========================================================\n\n* Product Page: https://www.creative-tim.com/product/argon-dashboard-react\n* Copyright 2019 Creative Tim (https://www.creative-tim.com)\n* Licensed under MIT (https://github.com/creativetimofficial/argon-dashboard-react/blob/master/LICENSE.md)\n\n* Coded by Creative Tim\n\n=========================================================\n\n* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\n*/\nimport React, {useEffect, useState} from \"react\";\n\n// reactstrap components\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardBody,\n    FormGroup,\n    Form,\n    Input,\n    Container,\n    Row,\n    Col\n} from \"reactstrap\";\n// core components\nimport UserHeader from \"components/Headers/UserHeader.js\";\nimport EditHeader from \"../../components/Headers/EditHeader\";\nimport {edit} from \"../../network/ApiAxios\";\n\nconst EditProfile = props => {\n\n    let user = JSON.parse(localStorage.getItem(\"user\"));\n\n    const [name, setName] = useState(user.name);\n    const [email, setEmail] = useState(user.email);\n    const [isTestUser, setIsTestUser] = useState(false);\n\n    useEffect(() => {\n        if (JSON.parse(localStorage.getItem(\"user\")).email === \"test@test.com\") {\n            setIsTestUser(true);\n        }\n    }, []);\n\n    const editUser = async () => {\n        const response = await edit(user._id, name, email);\n        const { data } = response;\n        if (data.success) {\n            user = {...user, name, email}\n            localStorage.setItem(\"user\", JSON.stringify(user));\n            props.history.push(\"/admin/user-profile\");\n        }\n    }\n\n    return (\n        <>\n            <EditHeader/>\n            {/* Page content */}\n            <Container className=\"mt--7\" fluid>\n                <Row>\n                    <div className=\"col\">\n                        <Card className=\"bg-secondary shadow\">\n                            <CardHeader className=\"bg-white border-0\">\n                                <Row className=\"align-items-center\">\n                                    <Col xs=\"8\">\n                                        <h3 className=\"mb-0\">My account</h3>\n                                        {isTestUser ? <h5>You are not allowed to edit the test user. Create another user to test this functionality</h5> : null}\n                                    </Col>\n                                    <Col className=\"text-right\" xs=\"4\">\n                                        <Button\n                                            color=\"primary\"\n                                            href=\"#pablo\"\n                                            onClick={editUser}\n                                            size=\"sm\"\n                                            disabled={isTestUser}\n                                        >\n                                            Save\n                                        </Button>\n                                    </Col>\n                                </Row>\n                            </CardHeader>\n                            <CardBody>\n                                <Form>\n                                    <h6 className=\"heading-small text-muted mb-4\">\n                                        User information\n                                    </h6>\n                                    <div className=\"pl-lg-4\">\n                                        <Row>\n                                            <Col lg=\"6\">\n                                                <FormGroup>\n                                                    <label\n                                                        className=\"form-control-label\"\n                                                        htmlFor=\"input-username\"\n                                                    >\n                                                        Username\n                                                    </label>\n                                                    <Input\n                                                        className=\"form-control-alternative\"\n                                                        value={name}\n                                                        id=\"input-username\"\n                                                        placeholder=\"Username\"\n                                                        onChange={e => setName(e.target.value)}\n                                                        type=\"text\"\n                                                    />\n                                                </FormGroup>\n                                            </Col>\n                                            <Col lg=\"6\">\n                                                <FormGroup>\n                                                    <label\n                                                        className=\"form-control-label\"\n                                                        htmlFor=\"input-email\"\n                                                    >\n                                                        Email address\n                                                    </label>\n                                                    <Input\n                                                        className=\"form-control-alternative\"\n                                                        id=\"input-email\"\n                                                        value={email}\n                                                        onChange={e => setEmail(e.target.value)}\n                                                        type=\"email\"\n                                                    />\n                                                </FormGroup>\n                                            </Col>\n                                        </Row>\n                                    </div>\n                                </Form>\n                            </CardBody>\n                        </Card>\n                    </div>\n                </Row>\n            </Container>\n        </>\n);\n}\n\nexport default EditProfile;\n"]},"metadata":{},"sourceType":"module"}